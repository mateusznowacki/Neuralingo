var ap=Object.defineProperty;var zl=_=>{throw TypeError(_)};var sp=(_,j,$)=>j in _?ap(_,j,{enumerable:!0,configurable:!0,writable:!0,value:$}):_[j]=$;var Hr=(_,j,$)=>sp(_,typeof j!="symbol"?j+"":j,$),_o=(_,j,$)=>j.has(_)||zl("Cannot "+$);var it=(_,j,$)=>(_o(_,j,"read from private field"),$?$.call(_):j.get(_)),pn=(_,j,$)=>j.has(_)?zl("Cannot add the same private member more than once"):j instanceof WeakSet?j.add(_):j.set(_,$),mn=(_,j,$,_e)=>(_o(_,j,"write to private field"),_e?_e.call(_,$):j.set(_,$),$),en=(_,j,$)=>(_o(_,j,"access private method"),$);var Ts=(_,j,$,_e)=>({set _(tt){mn(_,j,tt,$)},get _(){return it(_,j,_e)}});(function(){const j=document.createElement("link").relList;if(j&&j.supports&&j.supports("modulepreload"))return;for(const tt of document.querySelectorAll('link[rel="modulepreload"]'))_e(tt);new MutationObserver(tt=>{for(const et of tt)if(et.type==="childList")for(const nt of et.addedNodes)nt.tagName==="LINK"&&nt.rel==="modulepreload"&&_e(nt)}).observe(document,{childList:!0,subtree:!0});function $(tt){const et={};return tt.integrity&&(et.integrity=tt.integrity),tt.referrerPolicy&&(et.referrerPolicy=tt.referrerPolicy),tt.crossOrigin==="use-credentials"?et.credentials="include":tt.crossOrigin==="anonymous"?et.credentials="omit":et.credentials="same-origin",et}function _e(tt){if(tt.ep)return;tt.ep=!0;const et=$(tt);fetch(tt.href,et)}})();function getAugmentedNamespace(_){if(_.__esModule)return _;var j=_.default;if(typeof j=="function"){var $=function _e(){return this instanceof _e?Reflect.construct(j,arguments,this.constructor):j.apply(this,arguments)};$.prototype=j.prototype}else $={};return Object.defineProperty($,"__esModule",{value:!0}),Object.keys(_).forEach(function(_e){var tt=Object.getOwnPropertyDescriptor(_,_e);Object.defineProperty($,_e,tt.get?tt:{enumerable:!0,get:function(){return _[_e]}})}),$}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$1(_){return _===null||typeof _!="object"?null:(_=z$2&&_[z$2]||_["@@iterator"],typeof _=="function"?_:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$1={};function E$2(_,j,$){this.props=_,this.context=j,this.refs=D$1,this.updater=$||B$1}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(_,j){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,j,"setState")};E$2.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function F(){}F.prototype=E$2.prototype;function G$1(_,j,$){this.props=_,this.context=j,this.refs=D$1,this.updater=$||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$2(H$1,E$2.prototype);H$1.isPureReactComponent=!0;var I$2=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$2(_,j,$){var _e,tt={},et=null,nt=null;if(j!=null)for(_e in j.ref!==void 0&&(nt=j.ref),j.key!==void 0&&(et=""+j.key),j)J.call(j,_e)&&!L$1.hasOwnProperty(_e)&&(tt[_e]=j[_e]);var ct=arguments.length-2;if(ct===1)tt.children=$;else if(1<ct){for(var rt=Array(ct),ot=0;ot<ct;ot++)rt[ot]=arguments[ot+2];tt.children=rt}if(_&&_.defaultProps)for(_e in ct=_.defaultProps,ct)tt[_e]===void 0&&(tt[_e]=ct[_e]);return{$$typeof:l$3,type:_,key:et,ref:nt,props:tt,_owner:K$1.current}}function N$1(_,j){return{$$typeof:l$3,type:_.type,key:j,ref:_.ref,props:_.props,_owner:_._owner}}function O$1(_){return typeof _=="object"&&_!==null&&_.$$typeof===l$3}function escape$1(_){var j={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function($){return j[$]})}var P$1=/\/+/g;function Q$1(_,j){return typeof _=="object"&&_!==null&&_.key!=null?escape$1(""+_.key):j.toString(36)}function R$1(_,j,$,_e,tt){var et=typeof _;(et==="undefined"||et==="boolean")&&(_=null);var nt=!1;if(_===null)nt=!0;else switch(et){case"string":case"number":nt=!0;break;case"object":switch(_.$$typeof){case l$3:case n$3:nt=!0}}if(nt)return nt=_,tt=tt(nt),_=_e===""?"."+Q$1(nt,0):_e,I$2(tt)?($="",_!=null&&($=_.replace(P$1,"$&/")+"/"),R$1(tt,j,$,"",function(ot){return ot})):tt!=null&&(O$1(tt)&&(tt=N$1(tt,$+(!tt.key||nt&&nt.key===tt.key?"":(""+tt.key).replace(P$1,"$&/")+"/")+_)),j.push(tt)),1;if(nt=0,_e=_e===""?".":_e+":",I$2(_))for(var ct=0;ct<_.length;ct++){et=_[ct];var rt=_e+Q$1(et,ct);nt+=R$1(et,j,$,rt,tt)}else if(rt=A$1(_),typeof rt=="function")for(_=rt.call(_),ct=0;!(et=_.next()).done;)et=et.value,rt=_e+Q$1(et,ct++),nt+=R$1(et,j,$,rt,tt);else if(et==="object")throw j=String(_),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return nt}function S$2(_,j,$){if(_==null)return _;var _e=[],tt=0;return R$1(_,_e,"","",function(et){return j.call($,et,tt++)}),_e}function T$1(_){if(_._status===-1){var j=_._result;j=j(),j.then(function($){(_._status===0||_._status===-1)&&(_._status=1,_._result=$)},function($){(_._status===0||_._status===-1)&&(_._status=2,_._result=$)}),_._status===-1&&(_._status=0,_._result=j)}if(_._status===1)return _._result.default;throw _._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$2,forEach:function(_,j,$){S$2(_,function(){j.apply(this,arguments)},$)},count:function(_){var j=0;return S$2(_,function(){j++}),j},toArray:function(_){return S$2(_,function(j){return j})||[]},only:function(_){if(!O$1(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};react_production_min.Component=E$2;react_production_min.Fragment=p$3;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(_,j,$){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var _e=C$2({},_.props),tt=_.key,et=_.ref,nt=_._owner;if(j!=null){if(j.ref!==void 0&&(et=j.ref,nt=K$1.current),j.key!==void 0&&(tt=""+j.key),_.type&&_.type.defaultProps)var ct=_.type.defaultProps;for(rt in j)J.call(j,rt)&&!L$1.hasOwnProperty(rt)&&(_e[rt]=j[rt]===void 0&&ct!==void 0?ct[rt]:j[rt])}var rt=arguments.length-2;if(rt===1)_e.children=$;else if(1<rt){ct=Array(rt);for(var ot=0;ot<rt;ot++)ct[ot]=arguments[ot+2];_e.children=ct}return{$$typeof:l$3,type:_.type,key:tt,ref:et,props:_e,_owner:nt}};react_production_min.createContext=function(_){return _={$$typeof:u$2,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:t$2,_context:_},_.Consumer=_};react_production_min.createElement=M$2;react_production_min.createFactory=function(_){var j=M$2.bind(null,_);return j.type=_,j};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_){return{$$typeof:v$2,render:_}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(_){return{$$typeof:y,_payload:{_status:-1,_result:_},_init:T$1}};react_production_min.memo=function(_,j){return{$$typeof:x,type:_,compare:j===void 0?null:j}};react_production_min.startTransition=function(_){var j=V$1.transition;V$1.transition={};try{_()}finally{V$1.transition=j}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(_,j){return U$1.current.useCallback(_,j)};react_production_min.useContext=function(_){return U$1.current.useContext(_)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_){return U$1.current.useDeferredValue(_)};react_production_min.useEffect=function(_,j){return U$1.current.useEffect(_,j)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(_,j,$){return U$1.current.useImperativeHandle(_,j,$)};react_production_min.useInsertionEffect=function(_,j){return U$1.current.useInsertionEffect(_,j)};react_production_min.useLayoutEffect=function(_,j){return U$1.current.useLayoutEffect(_,j)};react_production_min.useMemo=function(_,j){return U$1.current.useMemo(_,j)};react_production_min.useReducer=function(_,j,$){return U$1.current.useReducer(_,j,$)};react_production_min.useRef=function(_){return U$1.current.useRef(_)};react_production_min.useState=function(_){return U$1.current.useState(_)};react_production_min.useSyncExternalStore=function(_,j,$){return U$1.current.useSyncExternalStore(_,j,$)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=reactExports,k$1=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$2=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q(_,j,$){var _e,tt={},et=null,nt=null;$!==void 0&&(et=""+$),j.key!==void 0&&(et=""+j.key),j.ref!==void 0&&(nt=j.ref);for(_e in j)m$2.call(j,_e)&&!p$2.hasOwnProperty(_e)&&(tt[_e]=j[_e]);if(_&&_.defaultProps)for(_e in j=_.defaultProps,j)tt[_e]===void 0&&(tt[_e]=j[_e]);return{$$typeof:k$1,type:_,key:et,ref:nt,props:tt,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(_){function j(Gt,Tt){var Ht=Gt.length;Gt.push(Tt);e:for(;0<Ht;){var Jt=Ht-1>>>1,Mt=Gt[Jt];if(0<tt(Mt,Tt))Gt[Jt]=Tt,Gt[Ht]=Mt,Ht=Jt;else break e}}function $(Gt){return Gt.length===0?null:Gt[0]}function _e(Gt){if(Gt.length===0)return null;var Tt=Gt[0],Ht=Gt.pop();if(Ht!==Tt){Gt[0]=Ht;e:for(var Jt=0,Mt=Gt.length,mt=Mt>>>1;Jt<mt;){var vt=2*(Jt+1)-1,Pt=Gt[vt],It=vt+1,jt=Gt[It];if(0>tt(Pt,Ht))It<Mt&&0>tt(jt,Pt)?(Gt[Jt]=jt,Gt[It]=Ht,Jt=It):(Gt[Jt]=Pt,Gt[vt]=Ht,Jt=vt);else if(It<Mt&&0>tt(jt,Ht))Gt[Jt]=jt,Gt[It]=Ht,Jt=It;else break e}}return Tt}function tt(Gt,Tt){var Ht=Gt.sortIndex-Tt.sortIndex;return Ht!==0?Ht:Gt.id-Tt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var et=performance;_.unstable_now=function(){return et.now()}}else{var nt=Date,ct=nt.now();_.unstable_now=function(){return nt.now()-ct}}var rt=[],ot=[],st=1,_t=null,yt=3,gt=!1,pt=!1,kt=!1,At=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function dt(Gt){for(var Tt=$(ot);Tt!==null;){if(Tt.callback===null)_e(ot);else if(Tt.startTime<=Gt)_e(ot),Tt.sortIndex=Tt.expirationTime,j(rt,Tt);else break;Tt=$(ot)}}function wt(Gt){if(kt=!1,dt(Gt),!pt)if($(rt)!==null)pt=!0,rn(ut);else{var Tt=$(ot);Tt!==null&&Xt(wt,Tt.startTime-Gt)}}function ut(Gt,Tt){pt=!1,kt&&(kt=!1,at(St),St=-1),gt=!0;var Ht=yt;try{for(dt(Tt),_t=$(rt);_t!==null&&(!(_t.expirationTime>Tt)||Gt&&!bt());){var Jt=_t.callback;if(typeof Jt=="function"){_t.callback=null,yt=_t.priorityLevel;var Mt=Jt(_t.expirationTime<=Tt);Tt=_.unstable_now(),typeof Mt=="function"?_t.callback=Mt:_t===$(rt)&&_e(rt),dt(Tt)}else _e(rt);_t=$(rt)}if(_t!==null)var mt=!0;else{var vt=$(ot);vt!==null&&Xt(wt,vt.startTime-Tt),mt=!1}return mt}finally{_t=null,yt=Ht,gt=!1}}var Et=!1,ft=null,St=-1,xt=5,Dt=-1;function bt(){return!(_.unstable_now()-Dt<xt)}function Ft(){if(ft!==null){var Gt=_.unstable_now();Dt=Gt;var Tt=!0;try{Tt=ft(!0,Gt)}finally{Tt?$t():(Et=!1,ft=null)}}else Et=!1}var $t;if(typeof lt=="function")$t=function(){lt(Ft)};else if(typeof MessageChannel<"u"){var gn=new MessageChannel,Yt=gn.port2;gn.port1.onmessage=Ft,$t=function(){Yt.postMessage(null)}}else $t=function(){At(Ft,0)};function rn(Gt){ft=Gt,Et||(Et=!0,$t())}function Xt(Gt,Tt){St=At(function(){Gt(_.unstable_now())},Tt)}_.unstable_IdlePriority=5,_.unstable_ImmediatePriority=1,_.unstable_LowPriority=4,_.unstable_NormalPriority=3,_.unstable_Profiling=null,_.unstable_UserBlockingPriority=2,_.unstable_cancelCallback=function(Gt){Gt.callback=null},_.unstable_continueExecution=function(){pt||gt||(pt=!0,rn(ut))},_.unstable_forceFrameRate=function(Gt){0>Gt||125<Gt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xt=0<Gt?Math.floor(1e3/Gt):5},_.unstable_getCurrentPriorityLevel=function(){return yt},_.unstable_getFirstCallbackNode=function(){return $(rt)},_.unstable_next=function(Gt){switch(yt){case 1:case 2:case 3:var Tt=3;break;default:Tt=yt}var Ht=yt;yt=Tt;try{return Gt()}finally{yt=Ht}},_.unstable_pauseExecution=function(){},_.unstable_requestPaint=function(){},_.unstable_runWithPriority=function(Gt,Tt){switch(Gt){case 1:case 2:case 3:case 4:case 5:break;default:Gt=3}var Ht=yt;yt=Gt;try{return Tt()}finally{yt=Ht}},_.unstable_scheduleCallback=function(Gt,Tt,Ht){var Jt=_.unstable_now();switch(typeof Ht=="object"&&Ht!==null?(Ht=Ht.delay,Ht=typeof Ht=="number"&&0<Ht?Jt+Ht:Jt):Ht=Jt,Gt){case 1:var Mt=-1;break;case 2:Mt=250;break;case 5:Mt=1073741823;break;case 4:Mt=1e4;break;default:Mt=5e3}return Mt=Ht+Mt,Gt={id:st++,callback:Tt,priorityLevel:Gt,startTime:Ht,expirationTime:Mt,sortIndex:-1},Ht>Jt?(Gt.sortIndex=Ht,j(ot,Gt),$(rt)===null&&Gt===$(ot)&&(kt?(at(St),St=-1):kt=!0,Xt(wt,Ht-Jt))):(Gt.sortIndex=Mt,j(rt,Gt),pt||gt||(pt=!0,rn(ut))),Gt},_.unstable_shouldYield=bt,_.unstable_wrapCallback=function(Gt){var Tt=yt;return function(){var Ht=yt;yt=Tt;try{return Gt.apply(this,arguments)}finally{yt=Ht}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(_){for(var j="https://reactjs.org/docs/error-decoder.html?invariant="+_,$=1;$<arguments.length;$++)j+="&args[]="+encodeURIComponent(arguments[$]);return"Minified React error #"+_+"; visit "+j+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(_,j){ha(_,j),ha(_+"Capture",j)}function ha(_,j){for(ea[_]=j,_=0;_<j.length;_++)da.add(j[_])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(_){return ja.call(ma,_)?!0:ja.call(la,_)?!1:ka.test(_)?ma[_]=!0:(la[_]=!0,!1)}function pa(_,j,$,_e){if($!==null&&$.type===0)return!1;switch(typeof j){case"function":case"symbol":return!0;case"boolean":return _e?!1:$!==null?!$.acceptsBooleans:(_=_.toLowerCase().slice(0,5),_!=="data-"&&_!=="aria-");default:return!1}}function qa(_,j,$,_e){if(j===null||typeof j>"u"||pa(_,j,$,_e))return!0;if(_e)return!1;if($!==null)switch($.type){case 3:return!j;case 4:return j===!1;case 5:return isNaN(j);case 6:return isNaN(j)||1>j}return!1}function v$1(_,j,$,_e,tt,et,nt){this.acceptsBooleans=j===2||j===3||j===4,this.attributeName=_e,this.attributeNamespace=tt,this.mustUseProperty=$,this.propertyName=_,this.type=j,this.sanitizeURL=et,this.removeEmptyString=nt}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_){z$1[_]=new v$1(_,0,!1,_,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_){var j=_[0];z$1[j]=new v$1(j,1,!1,_[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_){z$1[_]=new v$1(_,2,!1,_.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_){z$1[_]=new v$1(_,2,!1,_,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_){z$1[_]=new v$1(_,3,!1,_.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_){z$1[_]=new v$1(_,3,!0,_,null,!1,!1)});["capture","download"].forEach(function(_){z$1[_]=new v$1(_,4,!1,_,null,!1,!1)});["cols","rows","size","span"].forEach(function(_){z$1[_]=new v$1(_,6,!1,_,null,!1,!1)});["rowSpan","start"].forEach(function(_){z$1[_]=new v$1(_,5,!1,_.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(_){return _[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_){var j=_.replace(ra,sa);z$1[j]=new v$1(j,1,!1,_,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_){var j=_.replace(ra,sa);z$1[j]=new v$1(j,1,!1,_,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_){var j=_.replace(ra,sa);z$1[j]=new v$1(j,1,!1,_,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_){z$1[_]=new v$1(_,1,!1,_.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_){z$1[_]=new v$1(_,1,!1,_.toLowerCase(),null,!0,!0)});function ta(_,j,$,_e){var tt=z$1.hasOwnProperty(j)?z$1[j]:null;(tt!==null?tt.type!==0:_e||!(2<j.length)||j[0]!=="o"&&j[0]!=="O"||j[1]!=="n"&&j[1]!=="N")&&(qa(j,$,tt,_e)&&($=null),_e||tt===null?oa(j)&&($===null?_.removeAttribute(j):_.setAttribute(j,""+$)):tt.mustUseProperty?_[tt.propertyName]=$===null?tt.type===3?!1:"":$:(j=tt.attributeName,_e=tt.attributeNamespace,$===null?_.removeAttribute(j):(tt=tt.type,$=tt===3||tt===4&&$===!0?"":""+$,_e?_.setAttributeNS(_e,j,$):_.setAttribute(j,$))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(_){return _===null||typeof _!="object"?null:(_=Ja&&_[Ja]||_["@@iterator"],typeof _=="function"?_:null)}var A=Object.assign,La;function Ma(_){if(La===void 0)try{throw Error()}catch($){var j=$.stack.trim().match(/\n( *(at )?)/);La=j&&j[1]||""}return`
`+La+_}var Na=!1;function Oa(_,j){if(!_||Na)return"";Na=!0;var $=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(j)if(j=function(){throw Error()},Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(ot){var _e=ot}Reflect.construct(_,[],j)}else{try{j.call()}catch(ot){_e=ot}_.call(j.prototype)}else{try{throw Error()}catch(ot){_e=ot}_()}}catch(ot){if(ot&&_e&&typeof ot.stack=="string"){for(var tt=ot.stack.split(`
`),et=_e.stack.split(`
`),nt=tt.length-1,ct=et.length-1;1<=nt&&0<=ct&&tt[nt]!==et[ct];)ct--;for(;1<=nt&&0<=ct;nt--,ct--)if(tt[nt]!==et[ct]){if(nt!==1||ct!==1)do if(nt--,ct--,0>ct||tt[nt]!==et[ct]){var rt=`
`+tt[nt].replace(" at new "," at ");return _.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",_.displayName)),rt}while(1<=nt&&0<=ct);break}}}finally{Na=!1,Error.prepareStackTrace=$}return(_=_?_.displayName||_.name:"")?Ma(_):""}function Pa(_){switch(_.tag){case 5:return Ma(_.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return _=Oa(_.type,!1),_;case 11:return _=Oa(_.type.render,!1),_;case 1:return _=Oa(_.type,!0),_;default:return""}}function Qa(_){if(_==null)return null;if(typeof _=="function")return _.displayName||_.name||null;if(typeof _=="string")return _;switch(_){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof _=="object")switch(_.$$typeof){case Ca:return(_.displayName||"Context")+".Consumer";case Ba:return(_._context.displayName||"Context")+".Provider";case Da:var j=_.render;return _=_.displayName,_||(_=j.displayName||j.name||"",_=_!==""?"ForwardRef("+_+")":"ForwardRef"),_;case Ga:return j=_.displayName||null,j!==null?j:Qa(_.type)||"Memo";case Ha:j=_._payload,_=_._init;try{return Qa(_(j))}catch{}}return null}function Ra(_){var j=_.type;switch(_.tag){case 24:return"Cache";case 9:return(j.displayName||"Context")+".Consumer";case 10:return(j._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _=j.render,_=_.displayName||_.name||"",j.displayName||(_!==""?"ForwardRef("+_+")":"ForwardRef");case 7:return"Fragment";case 5:return j;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(j);case 8:return j===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof j=="function")return j.displayName||j.name||null;if(typeof j=="string")return j}return null}function Sa(_){switch(typeof _){case"boolean":case"number":case"string":case"undefined":return _;case"object":return _;default:return""}}function Ta(_){var j=_.type;return(_=_.nodeName)&&_.toLowerCase()==="input"&&(j==="checkbox"||j==="radio")}function Ua(_){var j=Ta(_)?"checked":"value",$=Object.getOwnPropertyDescriptor(_.constructor.prototype,j),_e=""+_[j];if(!_.hasOwnProperty(j)&&typeof $<"u"&&typeof $.get=="function"&&typeof $.set=="function"){var tt=$.get,et=$.set;return Object.defineProperty(_,j,{configurable:!0,get:function(){return tt.call(this)},set:function(nt){_e=""+nt,et.call(this,nt)}}),Object.defineProperty(_,j,{enumerable:$.enumerable}),{getValue:function(){return _e},setValue:function(nt){_e=""+nt},stopTracking:function(){_._valueTracker=null,delete _[j]}}}}function Va(_){_._valueTracker||(_._valueTracker=Ua(_))}function Wa(_){if(!_)return!1;var j=_._valueTracker;if(!j)return!0;var $=j.getValue(),_e="";return _&&(_e=Ta(_)?_.checked?"true":"false":_.value),_=_e,_!==$?(j.setValue(_),!0):!1}function Xa(_){if(_=_||(typeof document<"u"?document:void 0),typeof _>"u")return null;try{return _.activeElement||_.body}catch{return _.body}}function Ya(_,j){var $=j.checked;return A({},j,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:$??_._wrapperState.initialChecked})}function Za(_,j){var $=j.defaultValue==null?"":j.defaultValue,_e=j.checked!=null?j.checked:j.defaultChecked;$=Sa(j.value!=null?j.value:$),_._wrapperState={initialChecked:_e,initialValue:$,controlled:j.type==="checkbox"||j.type==="radio"?j.checked!=null:j.value!=null}}function ab(_,j){j=j.checked,j!=null&&ta(_,"checked",j,!1)}function bb(_,j){ab(_,j);var $=Sa(j.value),_e=j.type;if($!=null)_e==="number"?($===0&&_.value===""||_.value!=$)&&(_.value=""+$):_.value!==""+$&&(_.value=""+$);else if(_e==="submit"||_e==="reset"){_.removeAttribute("value");return}j.hasOwnProperty("value")?cb(_,j.type,$):j.hasOwnProperty("defaultValue")&&cb(_,j.type,Sa(j.defaultValue)),j.checked==null&&j.defaultChecked!=null&&(_.defaultChecked=!!j.defaultChecked)}function db(_,j,$){if(j.hasOwnProperty("value")||j.hasOwnProperty("defaultValue")){var _e=j.type;if(!(_e!=="submit"&&_e!=="reset"||j.value!==void 0&&j.value!==null))return;j=""+_._wrapperState.initialValue,$||j===_.value||(_.value=j),_.defaultValue=j}$=_.name,$!==""&&(_.name=""),_.defaultChecked=!!_._wrapperState.initialChecked,$!==""&&(_.name=$)}function cb(_,j,$){(j!=="number"||Xa(_.ownerDocument)!==_)&&($==null?_.defaultValue=""+_._wrapperState.initialValue:_.defaultValue!==""+$&&(_.defaultValue=""+$))}var eb=Array.isArray;function fb(_,j,$,_e){if(_=_.options,j){j={};for(var tt=0;tt<$.length;tt++)j["$"+$[tt]]=!0;for($=0;$<_.length;$++)tt=j.hasOwnProperty("$"+_[$].value),_[$].selected!==tt&&(_[$].selected=tt),tt&&_e&&(_[$].defaultSelected=!0)}else{for($=""+Sa($),j=null,tt=0;tt<_.length;tt++){if(_[tt].value===$){_[tt].selected=!0,_e&&(_[tt].defaultSelected=!0);return}j!==null||_[tt].disabled||(j=_[tt])}j!==null&&(j.selected=!0)}}function gb(_,j){if(j.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A({},j,{value:void 0,defaultValue:void 0,children:""+_._wrapperState.initialValue})}function hb(_,j){var $=j.value;if($==null){if($=j.children,j=j.defaultValue,$!=null){if(j!=null)throw Error(p$1(92));if(eb($)){if(1<$.length)throw Error(p$1(93));$=$[0]}j=$}j==null&&(j=""),$=j}_._wrapperState={initialValue:Sa($)}}function ib(_,j){var $=Sa(j.value),_e=Sa(j.defaultValue);$!=null&&($=""+$,$!==_.value&&(_.value=$),j.defaultValue==null&&_.defaultValue!==$&&(_.defaultValue=$)),_e!=null&&(_.defaultValue=""+_e)}function jb(_){var j=_.textContent;j===_._wrapperState.initialValue&&j!==""&&j!==null&&(_.value=j)}function kb(_){switch(_){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(_,j){return _==null||_==="http://www.w3.org/1999/xhtml"?kb(j):_==="http://www.w3.org/2000/svg"&&j==="foreignObject"?"http://www.w3.org/1999/xhtml":_}var mb,nb=function(_){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(j,$,_e,tt){MSApp.execUnsafeLocalFunction(function(){return _(j,$,_e,tt)})}:_}(function(_,j){if(_.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _)_.innerHTML=j;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+j.valueOf().toString()+"</svg>",j=mb.firstChild;_.firstChild;)_.removeChild(_.firstChild);for(;j.firstChild;)_.appendChild(j.firstChild)}});function ob(_,j){if(j){var $=_.firstChild;if($&&$===_.lastChild&&$.nodeType===3){$.nodeValue=j;return}}_.textContent=j}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(_){qb.forEach(function(j){j=j+_.charAt(0).toUpperCase()+_.substring(1),pb[j]=pb[_]})});function rb(_,j,$){return j==null||typeof j=="boolean"||j===""?"":$||typeof j!="number"||j===0||pb.hasOwnProperty(_)&&pb[_]?(""+j).trim():j+"px"}function sb(_,j){_=_.style;for(var $ in j)if(j.hasOwnProperty($)){var _e=$.indexOf("--")===0,tt=rb($,j[$],_e);$==="float"&&($="cssFloat"),_e?_.setProperty($,tt):_[$]=tt}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(_,j){if(j){if(tb[_]&&(j.children!=null||j.dangerouslySetInnerHTML!=null))throw Error(p$1(137,_));if(j.dangerouslySetInnerHTML!=null){if(j.children!=null)throw Error(p$1(60));if(typeof j.dangerouslySetInnerHTML!="object"||!("__html"in j.dangerouslySetInnerHTML))throw Error(p$1(61))}if(j.style!=null&&typeof j.style!="object")throw Error(p$1(62))}}function vb(_,j){if(_.indexOf("-")===-1)return typeof j.is=="string";switch(_){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(_){return _=_.target||_.srcElement||window,_.correspondingUseElement&&(_=_.correspondingUseElement),_.nodeType===3?_.parentNode:_}var yb=null,zb=null,Ab=null;function Bb(_){if(_=Cb(_)){if(typeof yb!="function")throw Error(p$1(280));var j=_.stateNode;j&&(j=Db(j),yb(_.stateNode,_.type,j))}}function Eb(_){zb?Ab?Ab.push(_):Ab=[_]:zb=_}function Fb(){if(zb){var _=zb,j=Ab;if(Ab=zb=null,Bb(_),j)for(_=0;_<j.length;_++)Bb(j[_])}}function Gb(_,j){return _(j)}function Hb(){}var Ib=!1;function Jb(_,j,$){if(Ib)return _(j,$);Ib=!0;try{return Gb(_,j,$)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(_,j){var $=_.stateNode;if($===null)return null;var _e=Db($);if(_e===null)return null;$=_e[j];e:switch(j){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_e=!_e.disabled)||(_=_.type,_e=!(_==="button"||_==="input"||_==="select"||_==="textarea")),_=!_e;break e;default:_=!1}if(_)return null;if($&&typeof $!="function")throw Error(p$1(231,j,typeof $));return $}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(_,j,$,_e,tt,et,nt,ct,rt){var ot=Array.prototype.slice.call(arguments,3);try{j.apply($,ot)}catch(st){this.onError(st)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(_){Ob=!0,Pb=_}};function Tb(_,j,$,_e,tt,et,nt,ct,rt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(_,j,$,_e,tt,et,nt,ct,rt){if(Tb.apply(this,arguments),Ob){if(Ob){var ot=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=ot)}}function Vb(_){var j=_,$=_;if(_.alternate)for(;j.return;)j=j.return;else{_=j;do j=_,j.flags&4098&&($=j.return),_=j.return;while(_)}return j.tag===3?$:null}function Wb(_){if(_.tag===13){var j=_.memoizedState;if(j===null&&(_=_.alternate,_!==null&&(j=_.memoizedState)),j!==null)return j.dehydrated}return null}function Xb(_){if(Vb(_)!==_)throw Error(p$1(188))}function Yb(_){var j=_.alternate;if(!j){if(j=Vb(_),j===null)throw Error(p$1(188));return j!==_?null:_}for(var $=_,_e=j;;){var tt=$.return;if(tt===null)break;var et=tt.alternate;if(et===null){if(_e=tt.return,_e!==null){$=_e;continue}break}if(tt.child===et.child){for(et=tt.child;et;){if(et===$)return Xb(tt),_;if(et===_e)return Xb(tt),j;et=et.sibling}throw Error(p$1(188))}if($.return!==_e.return)$=tt,_e=et;else{for(var nt=!1,ct=tt.child;ct;){if(ct===$){nt=!0,$=tt,_e=et;break}if(ct===_e){nt=!0,_e=tt,$=et;break}ct=ct.sibling}if(!nt){for(ct=et.child;ct;){if(ct===$){nt=!0,$=et,_e=tt;break}if(ct===_e){nt=!0,_e=et,$=tt;break}ct=ct.sibling}if(!nt)throw Error(p$1(189))}}if($.alternate!==_e)throw Error(p$1(190))}if($.tag!==3)throw Error(p$1(188));return $.stateNode.current===$?_:j}function Zb(_){return _=Yb(_),_!==null?$b(_):null}function $b(_){if(_.tag===5||_.tag===6)return _;for(_=_.child;_!==null;){var j=$b(_);if(j!==null)return j;_=_.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(_){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,_,void 0,(_.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(_){return _>>>=0,_===0?32:31-(pc(_)/qc|0)|0}var rc=64,sc=4194304;function tc(_){switch(_&-_){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _}}function uc(_,j){var $=_.pendingLanes;if($===0)return 0;var _e=0,tt=_.suspendedLanes,et=_.pingedLanes,nt=$&268435455;if(nt!==0){var ct=nt&~tt;ct!==0?_e=tc(ct):(et&=nt,et!==0&&(_e=tc(et)))}else nt=$&~tt,nt!==0?_e=tc(nt):et!==0&&(_e=tc(et));if(_e===0)return 0;if(j!==0&&j!==_e&&!(j&tt)&&(tt=_e&-_e,et=j&-j,tt>=et||tt===16&&(et&4194240)!==0))return j;if(_e&4&&(_e|=$&16),j=_.entangledLanes,j!==0)for(_=_.entanglements,j&=_e;0<j;)$=31-oc(j),tt=1<<$,_e|=_[$],j&=~tt;return _e}function vc(_,j){switch(_){case 1:case 2:case 4:return j+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return j+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(_,j){for(var $=_.suspendedLanes,_e=_.pingedLanes,tt=_.expirationTimes,et=_.pendingLanes;0<et;){var nt=31-oc(et),ct=1<<nt,rt=tt[nt];rt===-1?(!(ct&$)||ct&_e)&&(tt[nt]=vc(ct,j)):rt<=j&&(_.expiredLanes|=ct),et&=~ct}}function xc(_){return _=_.pendingLanes&-1073741825,_!==0?_:_&1073741824?1073741824:0}function yc(){var _=rc;return rc<<=1,!(rc&4194240)&&(rc=64),_}function zc(_){for(var j=[],$=0;31>$;$++)j.push(_);return j}function Ac(_,j,$){_.pendingLanes|=j,j!==536870912&&(_.suspendedLanes=0,_.pingedLanes=0),_=_.eventTimes,j=31-oc(j),_[j]=$}function Bc(_,j){var $=_.pendingLanes&~j;_.pendingLanes=j,_.suspendedLanes=0,_.pingedLanes=0,_.expiredLanes&=j,_.mutableReadLanes&=j,_.entangledLanes&=j,j=_.entanglements;var _e=_.eventTimes;for(_=_.expirationTimes;0<$;){var tt=31-oc($),et=1<<tt;j[tt]=0,_e[tt]=-1,_[tt]=-1,$&=~et}}function Cc(_,j){var $=_.entangledLanes|=j;for(_=_.entanglements;$;){var _e=31-oc($),tt=1<<_e;tt&j|_[_e]&j&&(_[_e]|=j),$&=~tt}}var C$1=0;function Dc(_){return _&=-_,1<_?4<_?_&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(_,j){switch(_){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(j.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(j.pointerId)}}function Tc(_,j,$,_e,tt,et){return _===null||_.nativeEvent!==et?(_={blockedOn:j,domEventName:$,eventSystemFlags:_e,nativeEvent:et,targetContainers:[tt]},j!==null&&(j=Cb(j),j!==null&&Fc(j)),_):(_.eventSystemFlags|=_e,j=_.targetContainers,tt!==null&&j.indexOf(tt)===-1&&j.push(tt),_)}function Uc(_,j,$,_e,tt){switch(j){case"focusin":return Lc=Tc(Lc,_,j,$,_e,tt),!0;case"dragenter":return Mc=Tc(Mc,_,j,$,_e,tt),!0;case"mouseover":return Nc=Tc(Nc,_,j,$,_e,tt),!0;case"pointerover":var et=tt.pointerId;return Oc.set(et,Tc(Oc.get(et)||null,_,j,$,_e,tt)),!0;case"gotpointercapture":return et=tt.pointerId,Pc.set(et,Tc(Pc.get(et)||null,_,j,$,_e,tt)),!0}return!1}function Vc(_){var j=Wc(_.target);if(j!==null){var $=Vb(j);if($!==null){if(j=$.tag,j===13){if(j=Wb($),j!==null){_.blockedOn=j,Ic(_.priority,function(){Gc($)});return}}else if(j===3&&$.stateNode.current.memoizedState.isDehydrated){_.blockedOn=$.tag===3?$.stateNode.containerInfo:null;return}}}_.blockedOn=null}function Xc(_){if(_.blockedOn!==null)return!1;for(var j=_.targetContainers;0<j.length;){var $=Yc(_.domEventName,_.eventSystemFlags,j[0],_.nativeEvent);if($===null){$=_.nativeEvent;var _e=new $.constructor($.type,$);wb=_e,$.target.dispatchEvent(_e),wb=null}else return j=Cb($),j!==null&&Fc(j),_.blockedOn=$,!1;j.shift()}return!0}function Zc(_,j,$){Xc(_)&&$.delete(j)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(_,j){_.blockedOn===j&&(_.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(_){function j(tt){return ad(tt,_)}if(0<Kc.length){ad(Kc[0],_);for(var $=1;$<Kc.length;$++){var _e=Kc[$];_e.blockedOn===_&&(_e.blockedOn=null)}}for(Lc!==null&&ad(Lc,_),Mc!==null&&ad(Mc,_),Nc!==null&&ad(Nc,_),Oc.forEach(j),Pc.forEach(j),$=0;$<Qc.length;$++)_e=Qc[$],_e.blockedOn===_&&(_e.blockedOn=null);for(;0<Qc.length&&($=Qc[0],$.blockedOn===null);)Vc($),$.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(_,j,$,_e){var tt=C$1,et=cd.transition;cd.transition=null;try{C$1=1,fd(_,j,$,_e)}finally{C$1=tt,cd.transition=et}}function gd(_,j,$,_e){var tt=C$1,et=cd.transition;cd.transition=null;try{C$1=4,fd(_,j,$,_e)}finally{C$1=tt,cd.transition=et}}function fd(_,j,$,_e){if(dd){var tt=Yc(_,j,$,_e);if(tt===null)hd(_,j,_e,id,$),Sc(_,_e);else if(Uc(tt,_,j,$,_e))_e.stopPropagation();else if(Sc(_,_e),j&4&&-1<Rc.indexOf(_)){for(;tt!==null;){var et=Cb(tt);if(et!==null&&Ec(et),et=Yc(_,j,$,_e),et===null&&hd(_,j,_e,id,$),et===tt)break;tt=et}tt!==null&&_e.stopPropagation()}else hd(_,j,_e,null,$)}}var id=null;function Yc(_,j,$,_e){if(id=null,_=xb(_e),_=Wc(_),_!==null)if(j=Vb(_),j===null)_=null;else if($=j.tag,$===13){if(_=Wb(j),_!==null)return _;_=null}else if($===3){if(j.stateNode.current.memoizedState.isDehydrated)return j.tag===3?j.stateNode.containerInfo:null;_=null}else j!==_&&(_=null);return id=_,null}function jd(_){switch(_){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var _,j=ld,$=j.length,_e,tt="value"in kd?kd.value:kd.textContent,et=tt.length;for(_=0;_<$&&j[_]===tt[_];_++);var nt=$-_;for(_e=1;_e<=nt&&j[$-_e]===tt[et-_e];_e++);return md=tt.slice(_,1<_e?1-_e:void 0)}function od(_){var j=_.keyCode;return"charCode"in _?(_=_.charCode,_===0&&j===13&&(_=13)):_=j,_===10&&(_=13),32<=_||_===13?_:0}function pd(){return!0}function qd(){return!1}function rd(_){function j($,_e,tt,et,nt){this._reactName=$,this._targetInst=tt,this.type=_e,this.nativeEvent=et,this.target=nt,this.currentTarget=null;for(var ct in _)_.hasOwnProperty(ct)&&($=_[ct],this[ct]=$?$(et):et[ct]);return this.isDefaultPrevented=(et.defaultPrevented!=null?et.defaultPrevented:et.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(j.prototype,{preventDefault:function(){this.defaultPrevented=!0;var $=this.nativeEvent;$&&($.preventDefault?$.preventDefault():typeof $.returnValue!="unknown"&&($.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var $=this.nativeEvent;$&&($.stopPropagation?$.stopPropagation():typeof $.cancelBubble!="unknown"&&($.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),j}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_){return _.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(_){return _.relatedTarget===void 0?_.fromElement===_.srcElement?_.toElement:_.fromElement:_.relatedTarget},movementX:function(_){return"movementX"in _?_.movementX:(_!==yd&&(yd&&_.type==="mousemove"?(wd=_.screenX-yd.screenX,xd=_.screenY-yd.screenY):xd=wd=0,yd=_),wd)},movementY:function(_){return"movementY"in _?_.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(_){return"clipboardData"in _?_.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_){var j=this.nativeEvent;return j.getModifierState?j.getModifierState(_):(_=Od[_])?!!j[_]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(_){if(_.key){var j=Md[_.key]||_.key;if(j!=="Unidentified")return j}return _.type==="keypress"?(_=od(_),_===13?"Enter":String.fromCharCode(_)):_.type==="keydown"||_.type==="keyup"?Nd[_.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(_){return _.type==="keypress"?od(_):0},keyCode:function(_){return _.type==="keydown"||_.type==="keyup"?_.keyCode:0},which:function(_){return _.type==="keypress"?od(_):_.type==="keydown"||_.type==="keyup"?_.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(_){return"deltaX"in _?_.deltaX:"wheelDeltaX"in _?-_.wheelDeltaX:0},deltaY:function(_){return"deltaY"in _?_.deltaY:"wheelDeltaY"in _?-_.wheelDeltaY:"wheelDelta"in _?-_.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(_,j){switch(_){case"keyup":return $d.indexOf(j.keyCode)!==-1;case"keydown":return j.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(_){return _=_.detail,typeof _=="object"&&"data"in _?_.data:null}var ie=!1;function je(_,j){switch(_){case"compositionend":return he(j);case"keypress":return j.which!==32?null:(fe=!0,ee);case"textInput":return _=j.data,_===ee&&fe?null:_;default:return null}}function ke(_,j){if(ie)return _==="compositionend"||!ae&&ge(_,j)?(_=nd(),md=ld=kd=null,ie=!1,_):null;switch(_){case"paste":return null;case"keypress":if(!(j.ctrlKey||j.altKey||j.metaKey)||j.ctrlKey&&j.altKey){if(j.char&&1<j.char.length)return j.char;if(j.which)return String.fromCharCode(j.which)}return null;case"compositionend":return de&&j.locale!=="ko"?null:j.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(_){var j=_&&_.nodeName&&_.nodeName.toLowerCase();return j==="input"?!!le[_.type]:j==="textarea"}function ne(_,j,$,_e){Eb(_e),j=oe(j,"onChange"),0<j.length&&($=new td("onChange","change",null,$,_e),_.push({event:$,listeners:j}))}var pe=null,qe=null;function re(_){se(_,0)}function te(_){var j=ue(_);if(Wa(j))return _}function ve(_,j){if(_==="change")return j}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(_){if(_.propertyName==="value"&&te(qe)){var j=[];ne(j,qe,_,xb(_)),Jb(re,j)}}function Ce(_,j,$){_==="focusin"?(Ae(),pe=j,qe=$,pe.attachEvent("onpropertychange",Be)):_==="focusout"&&Ae()}function De(_){if(_==="selectionchange"||_==="keyup"||_==="keydown")return te(qe)}function Ee(_,j){if(_==="click")return te(j)}function Fe(_,j){if(_==="input"||_==="change")return te(j)}function Ge(_,j){return _===j&&(_!==0||1/_===1/j)||_!==_&&j!==j}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(_,j){if(He(_,j))return!0;if(typeof _!="object"||_===null||typeof j!="object"||j===null)return!1;var $=Object.keys(_),_e=Object.keys(j);if($.length!==_e.length)return!1;for(_e=0;_e<$.length;_e++){var tt=$[_e];if(!ja.call(j,tt)||!He(_[tt],j[tt]))return!1}return!0}function Je(_){for(;_&&_.firstChild;)_=_.firstChild;return _}function Ke(_,j){var $=Je(_);_=0;for(var _e;$;){if($.nodeType===3){if(_e=_+$.textContent.length,_<=j&&_e>=j)return{node:$,offset:j-_};_=_e}e:{for(;$;){if($.nextSibling){$=$.nextSibling;break e}$=$.parentNode}$=void 0}$=Je($)}}function Le(_,j){return _&&j?_===j?!0:_&&_.nodeType===3?!1:j&&j.nodeType===3?Le(_,j.parentNode):"contains"in _?_.contains(j):_.compareDocumentPosition?!!(_.compareDocumentPosition(j)&16):!1:!1}function Me(){for(var _=window,j=Xa();j instanceof _.HTMLIFrameElement;){try{var $=typeof j.contentWindow.location.href=="string"}catch{$=!1}if($)_=j.contentWindow;else break;j=Xa(_.document)}return j}function Ne(_){var j=_&&_.nodeName&&_.nodeName.toLowerCase();return j&&(j==="input"&&(_.type==="text"||_.type==="search"||_.type==="tel"||_.type==="url"||_.type==="password")||j==="textarea"||_.contentEditable==="true")}function Oe(_){var j=Me(),$=_.focusedElem,_e=_.selectionRange;if(j!==$&&$&&$.ownerDocument&&Le($.ownerDocument.documentElement,$)){if(_e!==null&&Ne($)){if(j=_e.start,_=_e.end,_===void 0&&(_=j),"selectionStart"in $)$.selectionStart=j,$.selectionEnd=Math.min(_,$.value.length);else if(_=(j=$.ownerDocument||document)&&j.defaultView||window,_.getSelection){_=_.getSelection();var tt=$.textContent.length,et=Math.min(_e.start,tt);_e=_e.end===void 0?et:Math.min(_e.end,tt),!_.extend&&et>_e&&(tt=_e,_e=et,et=tt),tt=Ke($,et);var nt=Ke($,_e);tt&&nt&&(_.rangeCount!==1||_.anchorNode!==tt.node||_.anchorOffset!==tt.offset||_.focusNode!==nt.node||_.focusOffset!==nt.offset)&&(j=j.createRange(),j.setStart(tt.node,tt.offset),_.removeAllRanges(),et>_e?(_.addRange(j),_.extend(nt.node,nt.offset)):(j.setEnd(nt.node,nt.offset),_.addRange(j)))}}for(j=[],_=$;_=_.parentNode;)_.nodeType===1&&j.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<j.length;$++)_=j[$],_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(_,j,$){var _e=$.window===$?$.document:$.nodeType===9?$:$.ownerDocument;Te||Qe==null||Qe!==Xa(_e)||(_e=Qe,"selectionStart"in _e&&Ne(_e)?_e={start:_e.selectionStart,end:_e.selectionEnd}:(_e=(_e.ownerDocument&&_e.ownerDocument.defaultView||window).getSelection(),_e={anchorNode:_e.anchorNode,anchorOffset:_e.anchorOffset,focusNode:_e.focusNode,focusOffset:_e.focusOffset}),Se&&Ie(Se,_e)||(Se=_e,_e=oe(Re,"onSelect"),0<_e.length&&(j=new td("onSelect","select",null,j,$),_.push({event:j,listeners:_e}),j.target=Qe)))}function Ve(_,j){var $={};return $[_.toLowerCase()]=j.toLowerCase(),$["Webkit"+_]="webkit"+j,$["Moz"+_]="moz"+j,$}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(_){if(Xe[_])return Xe[_];if(!We[_])return _;var j=We[_],$;for($ in j)if(j.hasOwnProperty($)&&$ in Ye)return Xe[_]=j[$];return _}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(_,j){df.set(_,j),fa(j,[_])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(_,j,$){var _e=_.type||"unknown-event";_.currentTarget=$,Ub(_e,j,void 0,_),_.currentTarget=null}function se(_,j){j=(j&4)!==0;for(var $=0;$<_.length;$++){var _e=_[$],tt=_e.event;_e=_e.listeners;e:{var et=void 0;if(j)for(var nt=_e.length-1;0<=nt;nt--){var ct=_e[nt],rt=ct.instance,ot=ct.currentTarget;if(ct=ct.listener,rt!==et&&tt.isPropagationStopped())break e;nf(tt,ct,ot),et=rt}else for(nt=0;nt<_e.length;nt++){if(ct=_e[nt],rt=ct.instance,ot=ct.currentTarget,ct=ct.listener,rt!==et&&tt.isPropagationStopped())break e;nf(tt,ct,ot),et=rt}}}if(Qb)throw _=Rb,Qb=!1,Rb=null,_}function D(_,j){var $=j[of];$===void 0&&($=j[of]=new Set);var _e=_+"__bubble";$.has(_e)||(pf(j,_,2,!1),$.add(_e))}function qf(_,j,$){var _e=0;j&&(_e|=4),pf($,_,_e,j)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(_){if(!_[rf]){_[rf]=!0,da.forEach(function($){$!=="selectionchange"&&(mf.has($)||qf($,!1,_),qf($,!0,_))});var j=_.nodeType===9?_:_.ownerDocument;j===null||j[rf]||(j[rf]=!0,qf("selectionchange",!1,j))}}function pf(_,j,$,_e){switch(jd(j)){case 1:var tt=ed;break;case 4:tt=gd;break;default:tt=fd}$=tt.bind(null,j,$,_),tt=void 0,!Lb||j!=="touchstart"&&j!=="touchmove"&&j!=="wheel"||(tt=!0),_e?tt!==void 0?_.addEventListener(j,$,{capture:!0,passive:tt}):_.addEventListener(j,$,!0):tt!==void 0?_.addEventListener(j,$,{passive:tt}):_.addEventListener(j,$,!1)}function hd(_,j,$,_e,tt){var et=_e;if(!(j&1)&&!(j&2)&&_e!==null)e:for(;;){if(_e===null)return;var nt=_e.tag;if(nt===3||nt===4){var ct=_e.stateNode.containerInfo;if(ct===tt||ct.nodeType===8&&ct.parentNode===tt)break;if(nt===4)for(nt=_e.return;nt!==null;){var rt=nt.tag;if((rt===3||rt===4)&&(rt=nt.stateNode.containerInfo,rt===tt||rt.nodeType===8&&rt.parentNode===tt))return;nt=nt.return}for(;ct!==null;){if(nt=Wc(ct),nt===null)return;if(rt=nt.tag,rt===5||rt===6){_e=et=nt;continue e}ct=ct.parentNode}}_e=_e.return}Jb(function(){var ot=et,st=xb($),_t=[];e:{var yt=df.get(_);if(yt!==void 0){var gt=td,pt=_;switch(_){case"keypress":if(od($)===0)break e;case"keydown":case"keyup":gt=Rd;break;case"focusin":pt="focus",gt=Fd;break;case"focusout":pt="blur",gt=Fd;break;case"beforeblur":case"afterblur":gt=Fd;break;case"click":if($.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":gt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":gt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":gt=Vd;break;case $e:case af:case bf:gt=Hd;break;case cf:gt=Xd;break;case"scroll":gt=vd;break;case"wheel":gt=Zd;break;case"copy":case"cut":case"paste":gt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":gt=Td}var kt=(j&4)!==0,At=!kt&&_==="scroll",at=kt?yt!==null?yt+"Capture":null:yt;kt=[];for(var lt=ot,dt;lt!==null;){dt=lt;var wt=dt.stateNode;if(dt.tag===5&&wt!==null&&(dt=wt,at!==null&&(wt=Kb(lt,at),wt!=null&&kt.push(tf(lt,wt,dt)))),At)break;lt=lt.return}0<kt.length&&(yt=new gt(yt,pt,null,$,st),_t.push({event:yt,listeners:kt}))}}if(!(j&7)){e:{if(yt=_==="mouseover"||_==="pointerover",gt=_==="mouseout"||_==="pointerout",yt&&$!==wb&&(pt=$.relatedTarget||$.fromElement)&&(Wc(pt)||pt[uf]))break e;if((gt||yt)&&(yt=st.window===st?st:(yt=st.ownerDocument)?yt.defaultView||yt.parentWindow:window,gt?(pt=$.relatedTarget||$.toElement,gt=ot,pt=pt?Wc(pt):null,pt!==null&&(At=Vb(pt),pt!==At||pt.tag!==5&&pt.tag!==6)&&(pt=null)):(gt=null,pt=ot),gt!==pt)){if(kt=Bd,wt="onMouseLeave",at="onMouseEnter",lt="mouse",(_==="pointerout"||_==="pointerover")&&(kt=Td,wt="onPointerLeave",at="onPointerEnter",lt="pointer"),At=gt==null?yt:ue(gt),dt=pt==null?yt:ue(pt),yt=new kt(wt,lt+"leave",gt,$,st),yt.target=At,yt.relatedTarget=dt,wt=null,Wc(st)===ot&&(kt=new kt(at,lt+"enter",pt,$,st),kt.target=dt,kt.relatedTarget=At,wt=kt),At=wt,gt&&pt)t:{for(kt=gt,at=pt,lt=0,dt=kt;dt;dt=vf(dt))lt++;for(dt=0,wt=at;wt;wt=vf(wt))dt++;for(;0<lt-dt;)kt=vf(kt),lt--;for(;0<dt-lt;)at=vf(at),dt--;for(;lt--;){if(kt===at||at!==null&&kt===at.alternate)break t;kt=vf(kt),at=vf(at)}kt=null}else kt=null;gt!==null&&wf(_t,yt,gt,kt,!1),pt!==null&&At!==null&&wf(_t,At,pt,kt,!0)}}e:{if(yt=ot?ue(ot):window,gt=yt.nodeName&&yt.nodeName.toLowerCase(),gt==="select"||gt==="input"&&yt.type==="file")var ut=ve;else if(me(yt))if(we)ut=Fe;else{ut=De;var Et=Ce}else(gt=yt.nodeName)&&gt.toLowerCase()==="input"&&(yt.type==="checkbox"||yt.type==="radio")&&(ut=Ee);if(ut&&(ut=ut(_,ot))){ne(_t,ut,$,st);break e}Et&&Et(_,yt,ot),_==="focusout"&&(Et=yt._wrapperState)&&Et.controlled&&yt.type==="number"&&cb(yt,"number",yt.value)}switch(Et=ot?ue(ot):window,_){case"focusin":(me(Et)||Et.contentEditable==="true")&&(Qe=Et,Re=ot,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(_t,$,st);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(_t,$,st)}var ft;if(ae)e:{switch(_){case"compositionstart":var St="onCompositionStart";break e;case"compositionend":St="onCompositionEnd";break e;case"compositionupdate":St="onCompositionUpdate";break e}St=void 0}else ie?ge(_,$)&&(St="onCompositionEnd"):_==="keydown"&&$.keyCode===229&&(St="onCompositionStart");St&&(de&&$.locale!=="ko"&&(ie||St!=="onCompositionStart"?St==="onCompositionEnd"&&ie&&(ft=nd()):(kd=st,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Et=oe(ot,St),0<Et.length&&(St=new Ld(St,_,null,$,st),_t.push({event:St,listeners:Et}),ft?St.data=ft:(ft=he($),ft!==null&&(St.data=ft)))),(ft=ce?je(_,$):ke(_,$))&&(ot=oe(ot,"onBeforeInput"),0<ot.length&&(st=new Ld("onBeforeInput","beforeinput",null,$,st),_t.push({event:st,listeners:ot}),st.data=ft))}se(_t,j)})}function tf(_,j,$){return{instance:_,listener:j,currentTarget:$}}function oe(_,j){for(var $=j+"Capture",_e=[];_!==null;){var tt=_,et=tt.stateNode;tt.tag===5&&et!==null&&(tt=et,et=Kb(_,$),et!=null&&_e.unshift(tf(_,et,tt)),et=Kb(_,j),et!=null&&_e.push(tf(_,et,tt))),_=_.return}return _e}function vf(_){if(_===null)return null;do _=_.return;while(_&&_.tag!==5);return _||null}function wf(_,j,$,_e,tt){for(var et=j._reactName,nt=[];$!==null&&$!==_e;){var ct=$,rt=ct.alternate,ot=ct.stateNode;if(rt!==null&&rt===_e)break;ct.tag===5&&ot!==null&&(ct=ot,tt?(rt=Kb($,et),rt!=null&&nt.unshift(tf($,rt,ct))):tt||(rt=Kb($,et),rt!=null&&nt.push(tf($,rt,ct)))),$=$.return}nt.length!==0&&_.push({event:j,listeners:nt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(_){return(typeof _=="string"?_:""+_).replace(xf,`
`).replace(yf,"")}function Af(_,j,$){if(j=zf(j),zf(_)!==j&&$)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(_,j){return _==="textarea"||_==="noscript"||typeof j.children=="string"||typeof j.children=="number"||typeof j.dangerouslySetInnerHTML=="object"&&j.dangerouslySetInnerHTML!==null&&j.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(_){return Hf.resolve(null).then(_).catch(If)}:Ff;function If(_){setTimeout(function(){throw _})}function Kf(_,j){var $=j,_e=0;do{var tt=$.nextSibling;if(_.removeChild($),tt&&tt.nodeType===8)if($=tt.data,$==="/$"){if(_e===0){_.removeChild(tt),bd(j);return}_e--}else $!=="$"&&$!=="$?"&&$!=="$!"||_e++;$=tt}while($);bd(j)}function Lf(_){for(;_!=null;_=_.nextSibling){var j=_.nodeType;if(j===1||j===3)break;if(j===8){if(j=_.data,j==="$"||j==="$!"||j==="$?")break;if(j==="/$")return null}}return _}function Mf(_){_=_.previousSibling;for(var j=0;_;){if(_.nodeType===8){var $=_.data;if($==="$"||$==="$!"||$==="$?"){if(j===0)return _;j--}else $==="/$"&&j++}_=_.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(_){var j=_[Of];if(j)return j;for(var $=_.parentNode;$;){if(j=$[uf]||$[Of]){if($=j.alternate,j.child!==null||$!==null&&$.child!==null)for(_=Mf(_);_!==null;){if($=_[Of])return $;_=Mf(_)}return j}_=$,$=_.parentNode}return null}function Cb(_){return _=_[Of]||_[uf],!_||_.tag!==5&&_.tag!==6&&_.tag!==13&&_.tag!==3?null:_}function ue(_){if(_.tag===5||_.tag===6)return _.stateNode;throw Error(p$1(33))}function Db(_){return _[Pf]||null}var Sf=[],Tf=-1;function Uf(_){return{current:_}}function E$1(_){0>Tf||(_.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(_,j){Tf++,Sf[Tf]=_.current,_.current=j}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(_,j){var $=_.type.contextTypes;if(!$)return Vf;var _e=_.stateNode;if(_e&&_e.__reactInternalMemoizedUnmaskedChildContext===j)return _e.__reactInternalMemoizedMaskedChildContext;var tt={},et;for(et in $)tt[et]=j[et];return _e&&(_=_.stateNode,_.__reactInternalMemoizedUnmaskedChildContext=j,_.__reactInternalMemoizedMaskedChildContext=tt),tt}function Zf(_){return _=_.childContextTypes,_!=null}function $f(){E$1(Wf),E$1(H)}function ag(_,j,$){if(H.current!==Vf)throw Error(p$1(168));G(H,j),G(Wf,$)}function bg(_,j,$){var _e=_.stateNode;if(j=j.childContextTypes,typeof _e.getChildContext!="function")return $;_e=_e.getChildContext();for(var tt in _e)if(!(tt in j))throw Error(p$1(108,Ra(_)||"Unknown",tt));return A({},$,_e)}function cg(_){return _=(_=_.stateNode)&&_.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,_),G(Wf,Wf.current),!0}function dg(_,j,$){var _e=_.stateNode;if(!_e)throw Error(p$1(169));$?(_=bg(_,j,Xf),_e.__reactInternalMemoizedMergedChildContext=_,E$1(Wf),E$1(H),G(H,_)):E$1(Wf),G(Wf,$)}var eg=null,fg=!1,gg=!1;function hg(_){eg===null?eg=[_]:eg.push(_)}function ig(_){fg=!0,hg(_)}function jg(){if(!gg&&eg!==null){gg=!0;var _=0,j=C$1;try{var $=eg;for(C$1=1;_<$.length;_++){var _e=$[_];do _e=_e(!0);while(_e!==null)}eg=null,fg=!1}catch(tt){throw eg!==null&&(eg=eg.slice(_+1)),ac(fc,jg),tt}finally{C$1=j,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(_,j){kg[lg++]=ng,kg[lg++]=mg,mg=_,ng=j}function ug(_,j,$){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=_;var _e=rg;_=sg;var tt=32-oc(_e)-1;_e&=~(1<<tt),$+=1;var et=32-oc(j)+tt;if(30<et){var nt=tt-tt%5;et=(_e&(1<<nt)-1).toString(32),_e>>=nt,tt-=nt,rg=1<<32-oc(j)+tt|$<<tt|_e,sg=et+_}else rg=1<<et|$<<tt|_e,sg=_}function vg(_){_.return!==null&&(tg(_,1),ug(_,1,0))}function wg(_){for(;_===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;_===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(_,j){var $=Bg(5,null,null,0);$.elementType="DELETED",$.stateNode=j,$.return=_,j=_.deletions,j===null?(_.deletions=[$],_.flags|=16):j.push($)}function Cg(_,j){switch(_.tag){case 5:var $=_.type;return j=j.nodeType!==1||$.toLowerCase()!==j.nodeName.toLowerCase()?null:j,j!==null?(_.stateNode=j,xg=_,yg=Lf(j.firstChild),!0):!1;case 6:return j=_.pendingProps===""||j.nodeType!==3?null:j,j!==null?(_.stateNode=j,xg=_,yg=null,!0):!1;case 13:return j=j.nodeType!==8?null:j,j!==null?($=qg!==null?{id:rg,overflow:sg}:null,_.memoizedState={dehydrated:j,treeContext:$,retryLane:1073741824},$=Bg(18,null,null,0),$.stateNode=j,$.return=_,_.child=$,xg=_,yg=null,!0):!1;default:return!1}}function Dg(_){return(_.mode&1)!==0&&(_.flags&128)===0}function Eg(_){if(I$1){var j=yg;if(j){var $=j;if(!Cg(_,j)){if(Dg(_))throw Error(p$1(418));j=Lf($.nextSibling);var _e=xg;j&&Cg(_,j)?Ag(_e,$):(_.flags=_.flags&-4097|2,I$1=!1,xg=_)}}else{if(Dg(_))throw Error(p$1(418));_.flags=_.flags&-4097|2,I$1=!1,xg=_}}}function Fg(_){for(_=_.return;_!==null&&_.tag!==5&&_.tag!==3&&_.tag!==13;)_=_.return;xg=_}function Gg(_){if(_!==xg)return!1;if(!I$1)return Fg(_),I$1=!0,!1;var j;if((j=_.tag!==3)&&!(j=_.tag!==5)&&(j=_.type,j=j!=="head"&&j!=="body"&&!Ef(_.type,_.memoizedProps)),j&&(j=yg)){if(Dg(_))throw Hg(),Error(p$1(418));for(;j;)Ag(_,j),j=Lf(j.nextSibling)}if(Fg(_),_.tag===13){if(_=_.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(p$1(317));e:{for(_=_.nextSibling,j=0;_;){if(_.nodeType===8){var $=_.data;if($==="/$"){if(j===0){yg=Lf(_.nextSibling);break e}j--}else $!=="$"&&$!=="$!"&&$!=="$?"||j++}_=_.nextSibling}yg=null}}else yg=xg?Lf(_.stateNode.nextSibling):null;return!0}function Hg(){for(var _=yg;_;)_=Lf(_.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(_){zg===null?zg=[_]:zg.push(_)}var Kg=ua.ReactCurrentBatchConfig;function Lg(_,j){if(_&&_.defaultProps){j=A({},j),_=_.defaultProps;for(var $ in _)j[$]===void 0&&(j[$]=_[$]);return j}return j}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(_){var j=Mg.current;E$1(Mg),_._currentValue=j}function Sg(_,j,$){for(;_!==null;){var _e=_.alternate;if((_.childLanes&j)!==j?(_.childLanes|=j,_e!==null&&(_e.childLanes|=j)):_e!==null&&(_e.childLanes&j)!==j&&(_e.childLanes|=j),_===$)break;_=_.return}}function Tg(_,j){Ng=_,Pg=Og=null,_=_.dependencies,_!==null&&_.firstContext!==null&&(_.lanes&j&&(Ug=!0),_.firstContext=null)}function Vg(_){var j=_._currentValue;if(Pg!==_)if(_={context:_,memoizedValue:j,next:null},Og===null){if(Ng===null)throw Error(p$1(308));Og=_,Ng.dependencies={lanes:0,firstContext:_}}else Og=Og.next=_;return j}var Wg=null;function Xg(_){Wg===null?Wg=[_]:Wg.push(_)}function Yg(_,j,$,_e){var tt=j.interleaved;return tt===null?($.next=$,Xg(j)):($.next=tt.next,tt.next=$),j.interleaved=$,Zg(_,_e)}function Zg(_,j){_.lanes|=j;var $=_.alternate;for($!==null&&($.lanes|=j),$=_,_=_.return;_!==null;)_.childLanes|=j,$=_.alternate,$!==null&&($.childLanes|=j),$=_,_=_.return;return $.tag===3?$.stateNode:null}var $g=!1;function ah(_){_.updateQueue={baseState:_.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(_,j){_=_.updateQueue,j.updateQueue===_&&(j.updateQueue={baseState:_.baseState,firstBaseUpdate:_.firstBaseUpdate,lastBaseUpdate:_.lastBaseUpdate,shared:_.shared,effects:_.effects})}function ch(_,j){return{eventTime:_,lane:j,tag:0,payload:null,callback:null,next:null}}function dh(_,j,$){var _e=_.updateQueue;if(_e===null)return null;if(_e=_e.shared,K&2){var tt=_e.pending;return tt===null?j.next=j:(j.next=tt.next,tt.next=j),_e.pending=j,Zg(_,$)}return tt=_e.interleaved,tt===null?(j.next=j,Xg(_e)):(j.next=tt.next,tt.next=j),_e.interleaved=j,Zg(_,$)}function eh(_,j,$){if(j=j.updateQueue,j!==null&&(j=j.shared,($&4194240)!==0)){var _e=j.lanes;_e&=_.pendingLanes,$|=_e,j.lanes=$,Cc(_,$)}}function fh(_,j){var $=_.updateQueue,_e=_.alternate;if(_e!==null&&(_e=_e.updateQueue,$===_e)){var tt=null,et=null;if($=$.firstBaseUpdate,$!==null){do{var nt={eventTime:$.eventTime,lane:$.lane,tag:$.tag,payload:$.payload,callback:$.callback,next:null};et===null?tt=et=nt:et=et.next=nt,$=$.next}while($!==null);et===null?tt=et=j:et=et.next=j}else tt=et=j;$={baseState:_e.baseState,firstBaseUpdate:tt,lastBaseUpdate:et,shared:_e.shared,effects:_e.effects},_.updateQueue=$;return}_=$.lastBaseUpdate,_===null?$.firstBaseUpdate=j:_.next=j,$.lastBaseUpdate=j}function gh(_,j,$,_e){var tt=_.updateQueue;$g=!1;var et=tt.firstBaseUpdate,nt=tt.lastBaseUpdate,ct=tt.shared.pending;if(ct!==null){tt.shared.pending=null;var rt=ct,ot=rt.next;rt.next=null,nt===null?et=ot:nt.next=ot,nt=rt;var st=_.alternate;st!==null&&(st=st.updateQueue,ct=st.lastBaseUpdate,ct!==nt&&(ct===null?st.firstBaseUpdate=ot:ct.next=ot,st.lastBaseUpdate=rt))}if(et!==null){var _t=tt.baseState;nt=0,st=ot=rt=null,ct=et;do{var yt=ct.lane,gt=ct.eventTime;if((_e&yt)===yt){st!==null&&(st=st.next={eventTime:gt,lane:0,tag:ct.tag,payload:ct.payload,callback:ct.callback,next:null});e:{var pt=_,kt=ct;switch(yt=j,gt=$,kt.tag){case 1:if(pt=kt.payload,typeof pt=="function"){_t=pt.call(gt,_t,yt);break e}_t=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=kt.payload,yt=typeof pt=="function"?pt.call(gt,_t,yt):pt,yt==null)break e;_t=A({},_t,yt);break e;case 2:$g=!0}}ct.callback!==null&&ct.lane!==0&&(_.flags|=64,yt=tt.effects,yt===null?tt.effects=[ct]:yt.push(ct))}else gt={eventTime:gt,lane:yt,tag:ct.tag,payload:ct.payload,callback:ct.callback,next:null},st===null?(ot=st=gt,rt=_t):st=st.next=gt,nt|=yt;if(ct=ct.next,ct===null){if(ct=tt.shared.pending,ct===null)break;yt=ct,ct=yt.next,yt.next=null,tt.lastBaseUpdate=yt,tt.shared.pending=null}}while(!0);if(st===null&&(rt=_t),tt.baseState=rt,tt.firstBaseUpdate=ot,tt.lastBaseUpdate=st,j=tt.shared.interleaved,j!==null){tt=j;do nt|=tt.lane,tt=tt.next;while(tt!==j)}else et===null&&(tt.shared.lanes=0);hh|=nt,_.lanes=nt,_.memoizedState=_t}}function ih(_,j,$){if(_=j.effects,j.effects=null,_!==null)for(j=0;j<_.length;j++){var _e=_[j],tt=_e.callback;if(tt!==null){if(_e.callback=null,_e=$,typeof tt!="function")throw Error(p$1(191,tt));tt.call(_e)}}}var jh=new aa.Component().refs;function kh(_,j,$,_e){j=_.memoizedState,$=$(_e,j),$=$==null?j:A({},j,$),_.memoizedState=$,_.lanes===0&&(_.updateQueue.baseState=$)}var nh={isMounted:function(_){return(_=_._reactInternals)?Vb(_)===_:!1},enqueueSetState:function(_,j,$){_=_._reactInternals;var _e=L(),tt=lh(_),et=ch(_e,tt);et.payload=j,$!=null&&(et.callback=$),j=dh(_,et,tt),j!==null&&(mh(j,_,tt,_e),eh(j,_,tt))},enqueueReplaceState:function(_,j,$){_=_._reactInternals;var _e=L(),tt=lh(_),et=ch(_e,tt);et.tag=1,et.payload=j,$!=null&&(et.callback=$),j=dh(_,et,tt),j!==null&&(mh(j,_,tt,_e),eh(j,_,tt))},enqueueForceUpdate:function(_,j){_=_._reactInternals;var $=L(),_e=lh(_),tt=ch($,_e);tt.tag=2,j!=null&&(tt.callback=j),j=dh(_,tt,_e),j!==null&&(mh(j,_,_e,$),eh(j,_,_e))}};function oh(_,j,$,_e,tt,et,nt){return _=_.stateNode,typeof _.shouldComponentUpdate=="function"?_.shouldComponentUpdate(_e,et,nt):j.prototype&&j.prototype.isPureReactComponent?!Ie($,_e)||!Ie(tt,et):!0}function ph(_,j,$){var _e=!1,tt=Vf,et=j.contextType;return typeof et=="object"&&et!==null?et=Vg(et):(tt=Zf(j)?Xf:H.current,_e=j.contextTypes,et=(_e=_e!=null)?Yf(_,tt):Vf),j=new j($,et),_.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=nh,_.stateNode=j,j._reactInternals=_,_e&&(_=_.stateNode,_.__reactInternalMemoizedUnmaskedChildContext=tt,_.__reactInternalMemoizedMaskedChildContext=et),j}function qh(_,j,$,_e){_=j.state,typeof j.componentWillReceiveProps=="function"&&j.componentWillReceiveProps($,_e),typeof j.UNSAFE_componentWillReceiveProps=="function"&&j.UNSAFE_componentWillReceiveProps($,_e),j.state!==_&&nh.enqueueReplaceState(j,j.state,null)}function rh(_,j,$,_e){var tt=_.stateNode;tt.props=$,tt.state=_.memoizedState,tt.refs=jh,ah(_);var et=j.contextType;typeof et=="object"&&et!==null?tt.context=Vg(et):(et=Zf(j)?Xf:H.current,tt.context=Yf(_,et)),tt.state=_.memoizedState,et=j.getDerivedStateFromProps,typeof et=="function"&&(kh(_,j,et,$),tt.state=_.memoizedState),typeof j.getDerivedStateFromProps=="function"||typeof tt.getSnapshotBeforeUpdate=="function"||typeof tt.UNSAFE_componentWillMount!="function"&&typeof tt.componentWillMount!="function"||(j=tt.state,typeof tt.componentWillMount=="function"&&tt.componentWillMount(),typeof tt.UNSAFE_componentWillMount=="function"&&tt.UNSAFE_componentWillMount(),j!==tt.state&&nh.enqueueReplaceState(tt,tt.state,null),gh(_,$,tt,_e),tt.state=_.memoizedState),typeof tt.componentDidMount=="function"&&(_.flags|=4194308)}function sh(_,j,$){if(_=$.ref,_!==null&&typeof _!="function"&&typeof _!="object"){if($._owner){if($=$._owner,$){if($.tag!==1)throw Error(p$1(309));var _e=$.stateNode}if(!_e)throw Error(p$1(147,_));var tt=_e,et=""+_;return j!==null&&j.ref!==null&&typeof j.ref=="function"&&j.ref._stringRef===et?j.ref:(j=function(nt){var ct=tt.refs;ct===jh&&(ct=tt.refs={}),nt===null?delete ct[et]:ct[et]=nt},j._stringRef=et,j)}if(typeof _!="string")throw Error(p$1(284));if(!$._owner)throw Error(p$1(290,_))}return _}function th(_,j){throw _=Object.prototype.toString.call(j),Error(p$1(31,_==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":_))}function uh(_){var j=_._init;return j(_._payload)}function vh(_){function j(at,lt){if(_){var dt=at.deletions;dt===null?(at.deletions=[lt],at.flags|=16):dt.push(lt)}}function $(at,lt){if(!_)return null;for(;lt!==null;)j(at,lt),lt=lt.sibling;return null}function _e(at,lt){for(at=new Map;lt!==null;)lt.key!==null?at.set(lt.key,lt):at.set(lt.index,lt),lt=lt.sibling;return at}function tt(at,lt){return at=wh(at,lt),at.index=0,at.sibling=null,at}function et(at,lt,dt){return at.index=dt,_?(dt=at.alternate,dt!==null?(dt=dt.index,dt<lt?(at.flags|=2,lt):dt):(at.flags|=2,lt)):(at.flags|=1048576,lt)}function nt(at){return _&&at.alternate===null&&(at.flags|=2),at}function ct(at,lt,dt,wt){return lt===null||lt.tag!==6?(lt=xh(dt,at.mode,wt),lt.return=at,lt):(lt=tt(lt,dt),lt.return=at,lt)}function rt(at,lt,dt,wt){var ut=dt.type;return ut===ya?st(at,lt,dt.props.children,wt,dt.key):lt!==null&&(lt.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===Ha&&uh(ut)===lt.type)?(wt=tt(lt,dt.props),wt.ref=sh(at,lt,dt),wt.return=at,wt):(wt=yh(dt.type,dt.key,dt.props,null,at.mode,wt),wt.ref=sh(at,lt,dt),wt.return=at,wt)}function ot(at,lt,dt,wt){return lt===null||lt.tag!==4||lt.stateNode.containerInfo!==dt.containerInfo||lt.stateNode.implementation!==dt.implementation?(lt=zh(dt,at.mode,wt),lt.return=at,lt):(lt=tt(lt,dt.children||[]),lt.return=at,lt)}function st(at,lt,dt,wt,ut){return lt===null||lt.tag!==7?(lt=Ah(dt,at.mode,wt,ut),lt.return=at,lt):(lt=tt(lt,dt),lt.return=at,lt)}function _t(at,lt,dt){if(typeof lt=="string"&&lt!==""||typeof lt=="number")return lt=xh(""+lt,at.mode,dt),lt.return=at,lt;if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case va:return dt=yh(lt.type,lt.key,lt.props,null,at.mode,dt),dt.ref=sh(at,null,lt),dt.return=at,dt;case wa:return lt=zh(lt,at.mode,dt),lt.return=at,lt;case Ha:var wt=lt._init;return _t(at,wt(lt._payload),dt)}if(eb(lt)||Ka(lt))return lt=Ah(lt,at.mode,dt,null),lt.return=at,lt;th(at,lt)}return null}function yt(at,lt,dt,wt){var ut=lt!==null?lt.key:null;if(typeof dt=="string"&&dt!==""||typeof dt=="number")return ut!==null?null:ct(at,lt,""+dt,wt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case va:return dt.key===ut?rt(at,lt,dt,wt):null;case wa:return dt.key===ut?ot(at,lt,dt,wt):null;case Ha:return ut=dt._init,yt(at,lt,ut(dt._payload),wt)}if(eb(dt)||Ka(dt))return ut!==null?null:st(at,lt,dt,wt,null);th(at,dt)}return null}function gt(at,lt,dt,wt,ut){if(typeof wt=="string"&&wt!==""||typeof wt=="number")return at=at.get(dt)||null,ct(lt,at,""+wt,ut);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case va:return at=at.get(wt.key===null?dt:wt.key)||null,rt(lt,at,wt,ut);case wa:return at=at.get(wt.key===null?dt:wt.key)||null,ot(lt,at,wt,ut);case Ha:var Et=wt._init;return gt(at,lt,dt,Et(wt._payload),ut)}if(eb(wt)||Ka(wt))return at=at.get(dt)||null,st(lt,at,wt,ut,null);th(lt,wt)}return null}function pt(at,lt,dt,wt){for(var ut=null,Et=null,ft=lt,St=lt=0,xt=null;ft!==null&&St<dt.length;St++){ft.index>St?(xt=ft,ft=null):xt=ft.sibling;var Dt=yt(at,ft,dt[St],wt);if(Dt===null){ft===null&&(ft=xt);break}_&&ft&&Dt.alternate===null&&j(at,ft),lt=et(Dt,lt,St),Et===null?ut=Dt:Et.sibling=Dt,Et=Dt,ft=xt}if(St===dt.length)return $(at,ft),I$1&&tg(at,St),ut;if(ft===null){for(;St<dt.length;St++)ft=_t(at,dt[St],wt),ft!==null&&(lt=et(ft,lt,St),Et===null?ut=ft:Et.sibling=ft,Et=ft);return I$1&&tg(at,St),ut}for(ft=_e(at,ft);St<dt.length;St++)xt=gt(ft,at,St,dt[St],wt),xt!==null&&(_&&xt.alternate!==null&&ft.delete(xt.key===null?St:xt.key),lt=et(xt,lt,St),Et===null?ut=xt:Et.sibling=xt,Et=xt);return _&&ft.forEach(function(bt){return j(at,bt)}),I$1&&tg(at,St),ut}function kt(at,lt,dt,wt){var ut=Ka(dt);if(typeof ut!="function")throw Error(p$1(150));if(dt=ut.call(dt),dt==null)throw Error(p$1(151));for(var Et=ut=null,ft=lt,St=lt=0,xt=null,Dt=dt.next();ft!==null&&!Dt.done;St++,Dt=dt.next()){ft.index>St?(xt=ft,ft=null):xt=ft.sibling;var bt=yt(at,ft,Dt.value,wt);if(bt===null){ft===null&&(ft=xt);break}_&&ft&&bt.alternate===null&&j(at,ft),lt=et(bt,lt,St),Et===null?ut=bt:Et.sibling=bt,Et=bt,ft=xt}if(Dt.done)return $(at,ft),I$1&&tg(at,St),ut;if(ft===null){for(;!Dt.done;St++,Dt=dt.next())Dt=_t(at,Dt.value,wt),Dt!==null&&(lt=et(Dt,lt,St),Et===null?ut=Dt:Et.sibling=Dt,Et=Dt);return I$1&&tg(at,St),ut}for(ft=_e(at,ft);!Dt.done;St++,Dt=dt.next())Dt=gt(ft,at,St,Dt.value,wt),Dt!==null&&(_&&Dt.alternate!==null&&ft.delete(Dt.key===null?St:Dt.key),lt=et(Dt,lt,St),Et===null?ut=Dt:Et.sibling=Dt,Et=Dt);return _&&ft.forEach(function(Ft){return j(at,Ft)}),I$1&&tg(at,St),ut}function At(at,lt,dt,wt){if(typeof dt=="object"&&dt!==null&&dt.type===ya&&dt.key===null&&(dt=dt.props.children),typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case va:e:{for(var ut=dt.key,Et=lt;Et!==null;){if(Et.key===ut){if(ut=dt.type,ut===ya){if(Et.tag===7){$(at,Et.sibling),lt=tt(Et,dt.props.children),lt.return=at,at=lt;break e}}else if(Et.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===Ha&&uh(ut)===Et.type){$(at,Et.sibling),lt=tt(Et,dt.props),lt.ref=sh(at,Et,dt),lt.return=at,at=lt;break e}$(at,Et);break}else j(at,Et);Et=Et.sibling}dt.type===ya?(lt=Ah(dt.props.children,at.mode,wt,dt.key),lt.return=at,at=lt):(wt=yh(dt.type,dt.key,dt.props,null,at.mode,wt),wt.ref=sh(at,lt,dt),wt.return=at,at=wt)}return nt(at);case wa:e:{for(Et=dt.key;lt!==null;){if(lt.key===Et)if(lt.tag===4&&lt.stateNode.containerInfo===dt.containerInfo&&lt.stateNode.implementation===dt.implementation){$(at,lt.sibling),lt=tt(lt,dt.children||[]),lt.return=at,at=lt;break e}else{$(at,lt);break}else j(at,lt);lt=lt.sibling}lt=zh(dt,at.mode,wt),lt.return=at,at=lt}return nt(at);case Ha:return Et=dt._init,At(at,lt,Et(dt._payload),wt)}if(eb(dt))return pt(at,lt,dt,wt);if(Ka(dt))return kt(at,lt,dt,wt);th(at,dt)}return typeof dt=="string"&&dt!==""||typeof dt=="number"?(dt=""+dt,lt!==null&&lt.tag===6?($(at,lt.sibling),lt=tt(lt,dt),lt.return=at,at=lt):($(at,lt),lt=xh(dt,at.mode,wt),lt.return=at,at=lt),nt(at)):$(at,lt)}return At}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(_){if(_===Dh)throw Error(p$1(174));return _}function Ih(_,j){switch(G(Gh,j),G(Fh,_),G(Eh,Dh),_=j.nodeType,_){case 9:case 11:j=(j=j.documentElement)?j.namespaceURI:lb(null,"");break;default:_=_===8?j.parentNode:j,j=_.namespaceURI||null,_=_.tagName,j=lb(j,_)}E$1(Eh),G(Eh,j)}function Jh(){E$1(Eh),E$1(Fh),E$1(Gh)}function Kh(_){Hh(Gh.current);var j=Hh(Eh.current),$=lb(j,_.type);j!==$&&(G(Fh,_),G(Eh,$))}function Lh(_){Fh.current===_&&(E$1(Eh),E$1(Fh))}var M$1=Uf(0);function Mh(_){for(var j=_;j!==null;){if(j.tag===13){var $=j.memoizedState;if($!==null&&($=$.dehydrated,$===null||$.data==="$?"||$.data==="$!"))return j}else if(j.tag===19&&j.memoizedProps.revealOrder!==void 0){if(j.flags&128)return j}else if(j.child!==null){j.child.return=j,j=j.child;continue}if(j===_)break;for(;j.sibling===null;){if(j.return===null||j.return===_)return null;j=j.return}j.sibling.return=j.return,j=j.sibling}return null}var Nh=[];function Oh(){for(var _=0;_<Nh.length;_++)Nh[_]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$1(321))}function Wh(_,j){if(j===null)return!1;for(var $=0;$<j.length&&$<_.length;$++)if(!He(_[$],j[$]))return!1;return!0}function Xh(_,j,$,_e,tt,et){if(Rh=et,N=j,j.memoizedState=null,j.updateQueue=null,j.lanes=0,Ph.current=_===null||_.memoizedState===null?Yh:Zh,_=$(_e,tt),Th){et=0;do{if(Th=!1,Uh=0,25<=et)throw Error(p$1(301));et+=1,P=O=null,j.updateQueue=null,Ph.current=$h,_=$(_e,tt)}while(Th)}if(Ph.current=ai,j=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,j)throw Error(p$1(300));return _}function bi(){var _=Uh!==0;return Uh=0,_}function ci(){var _={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=_:P=P.next=_,P}function di(){if(O===null){var _=N.alternate;_=_!==null?_.memoizedState:null}else _=O.next;var j=P===null?N.memoizedState:P.next;if(j!==null)P=j,O=_;else{if(_===null)throw Error(p$1(310));O=_,_={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=_:P=P.next=_}return P}function ei(_,j){return typeof j=="function"?j(_):j}function fi(_){var j=di(),$=j.queue;if($===null)throw Error(p$1(311));$.lastRenderedReducer=_;var _e=O,tt=_e.baseQueue,et=$.pending;if(et!==null){if(tt!==null){var nt=tt.next;tt.next=et.next,et.next=nt}_e.baseQueue=tt=et,$.pending=null}if(tt!==null){et=tt.next,_e=_e.baseState;var ct=nt=null,rt=null,ot=et;do{var st=ot.lane;if((Rh&st)===st)rt!==null&&(rt=rt.next={lane:0,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null}),_e=ot.hasEagerState?ot.eagerState:_(_e,ot.action);else{var _t={lane:st,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null};rt===null?(ct=rt=_t,nt=_e):rt=rt.next=_t,N.lanes|=st,hh|=st}ot=ot.next}while(ot!==null&&ot!==et);rt===null?nt=_e:rt.next=ct,He(_e,j.memoizedState)||(Ug=!0),j.memoizedState=_e,j.baseState=nt,j.baseQueue=rt,$.lastRenderedState=_e}if(_=$.interleaved,_!==null){tt=_;do et=tt.lane,N.lanes|=et,hh|=et,tt=tt.next;while(tt!==_)}else tt===null&&($.lanes=0);return[j.memoizedState,$.dispatch]}function gi(_){var j=di(),$=j.queue;if($===null)throw Error(p$1(311));$.lastRenderedReducer=_;var _e=$.dispatch,tt=$.pending,et=j.memoizedState;if(tt!==null){$.pending=null;var nt=tt=tt.next;do et=_(et,nt.action),nt=nt.next;while(nt!==tt);He(et,j.memoizedState)||(Ug=!0),j.memoizedState=et,j.baseQueue===null&&(j.baseState=et),$.lastRenderedState=et}return[et,_e]}function hi(){}function ii(_,j){var $=N,_e=di(),tt=j(),et=!He(_e.memoizedState,tt);if(et&&(_e.memoizedState=tt,Ug=!0),_e=_e.queue,ji(ki.bind(null,$,_e,_),[_]),_e.getSnapshot!==j||et||P!==null&&P.memoizedState.tag&1){if($.flags|=2048,li(9,mi.bind(null,$,_e,tt,j),void 0,null),R===null)throw Error(p$1(349));Rh&30||ni($,j,tt)}return tt}function ni(_,j,$){_.flags|=16384,_={getSnapshot:j,value:$},j=N.updateQueue,j===null?(j={lastEffect:null,stores:null},N.updateQueue=j,j.stores=[_]):($=j.stores,$===null?j.stores=[_]:$.push(_))}function mi(_,j,$,_e){j.value=$,j.getSnapshot=_e,oi(j)&&pi(_)}function ki(_,j,$){return $(function(){oi(j)&&pi(_)})}function oi(_){var j=_.getSnapshot;_=_.value;try{var $=j();return!He(_,$)}catch{return!0}}function pi(_){var j=Zg(_,1);j!==null&&mh(j,_,1,-1)}function qi(_){var j=ci();return typeof _=="function"&&(_=_()),j.memoizedState=j.baseState=_,_={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:_},j.queue=_,_=_.dispatch=ri.bind(null,N,_),[j.memoizedState,_]}function li(_,j,$,_e){return _={tag:_,create:j,destroy:$,deps:_e,next:null},j=N.updateQueue,j===null?(j={lastEffect:null,stores:null},N.updateQueue=j,j.lastEffect=_.next=_):($=j.lastEffect,$===null?j.lastEffect=_.next=_:(_e=$.next,$.next=_,_.next=_e,j.lastEffect=_)),_}function si(){return di().memoizedState}function ti(_,j,$,_e){var tt=ci();N.flags|=_,tt.memoizedState=li(1|j,$,void 0,_e===void 0?null:_e)}function ui(_,j,$,_e){var tt=di();_e=_e===void 0?null:_e;var et=void 0;if(O!==null){var nt=O.memoizedState;if(et=nt.destroy,_e!==null&&Wh(_e,nt.deps)){tt.memoizedState=li(j,$,et,_e);return}}N.flags|=_,tt.memoizedState=li(1|j,$,et,_e)}function vi(_,j){return ti(8390656,8,_,j)}function ji(_,j){return ui(2048,8,_,j)}function wi(_,j){return ui(4,2,_,j)}function xi(_,j){return ui(4,4,_,j)}function yi(_,j){if(typeof j=="function")return _=_(),j(_),function(){j(null)};if(j!=null)return _=_(),j.current=_,function(){j.current=null}}function zi(_,j,$){return $=$!=null?$.concat([_]):null,ui(4,4,yi.bind(null,j,_),$)}function Ai(){}function Bi(_,j){var $=di();j=j===void 0?null:j;var _e=$.memoizedState;return _e!==null&&j!==null&&Wh(j,_e[1])?_e[0]:($.memoizedState=[_,j],_)}function Ci(_,j){var $=di();j=j===void 0?null:j;var _e=$.memoizedState;return _e!==null&&j!==null&&Wh(j,_e[1])?_e[0]:(_=_(),$.memoizedState=[_,j],_)}function Di(_,j,$){return Rh&21?(He($,j)||($=yc(),N.lanes|=$,hh|=$,_.baseState=!0),j):(_.baseState&&(_.baseState=!1,Ug=!0),_.memoizedState=$)}function Ei(_,j){var $=C$1;C$1=$!==0&&4>$?$:4,_(!0);var _e=Qh.transition;Qh.transition={};try{_(!1),j()}finally{C$1=$,Qh.transition=_e}}function Fi(){return di().memoizedState}function Gi(_,j,$){var _e=lh(_);if($={lane:_e,action:$,hasEagerState:!1,eagerState:null,next:null},Hi(_))Ii(j,$);else if($=Yg(_,j,$,_e),$!==null){var tt=L();mh($,_,_e,tt),Ji($,j,_e)}}function ri(_,j,$){var _e=lh(_),tt={lane:_e,action:$,hasEagerState:!1,eagerState:null,next:null};if(Hi(_))Ii(j,tt);else{var et=_.alternate;if(_.lanes===0&&(et===null||et.lanes===0)&&(et=j.lastRenderedReducer,et!==null))try{var nt=j.lastRenderedState,ct=et(nt,$);if(tt.hasEagerState=!0,tt.eagerState=ct,He(ct,nt)){var rt=j.interleaved;rt===null?(tt.next=tt,Xg(j)):(tt.next=rt.next,rt.next=tt),j.interleaved=tt;return}}catch{}finally{}$=Yg(_,j,tt,_e),$!==null&&(tt=L(),mh($,_,_e,tt),Ji($,j,_e))}}function Hi(_){var j=_.alternate;return _===N||j!==null&&j===N}function Ii(_,j){Th=Sh=!0;var $=_.pending;$===null?j.next=j:(j.next=$.next,$.next=j),_.pending=j}function Ji(_,j,$){if($&4194240){var _e=j.lanes;_e&=_.pendingLanes,$|=_e,j.lanes=$,Cc(_,$)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(_,j){return ci().memoizedState=[_,j===void 0?null:j],_},useContext:Vg,useEffect:vi,useImperativeHandle:function(_,j,$){return $=$!=null?$.concat([_]):null,ti(4194308,4,yi.bind(null,j,_),$)},useLayoutEffect:function(_,j){return ti(4194308,4,_,j)},useInsertionEffect:function(_,j){return ti(4,2,_,j)},useMemo:function(_,j){var $=ci();return j=j===void 0?null:j,_=_(),$.memoizedState=[_,j],_},useReducer:function(_,j,$){var _e=ci();return j=$!==void 0?$(j):j,_e.memoizedState=_e.baseState=j,_={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_,lastRenderedState:j},_e.queue=_,_=_.dispatch=Gi.bind(null,N,_),[_e.memoizedState,_]},useRef:function(_){var j=ci();return _={current:_},j.memoizedState=_},useState:qi,useDebugValue:Ai,useDeferredValue:function(_){return ci().memoizedState=_},useTransition:function(){var _=qi(!1),j=_[0];return _=Ei.bind(null,_[1]),ci().memoizedState=_,[j,_]},useMutableSource:function(){},useSyncExternalStore:function(_,j,$){var _e=N,tt=ci();if(I$1){if($===void 0)throw Error(p$1(407));$=$()}else{if($=j(),R===null)throw Error(p$1(349));Rh&30||ni(_e,j,$)}tt.memoizedState=$;var et={value:$,getSnapshot:j};return tt.queue=et,vi(ki.bind(null,_e,et,_),[_]),_e.flags|=2048,li(9,mi.bind(null,_e,et,$,j),void 0,null),$},useId:function(){var _=ci(),j=R.identifierPrefix;if(I$1){var $=sg,_e=rg;$=(_e&~(1<<32-oc(_e)-1)).toString(32)+$,j=":"+j+"R"+$,$=Uh++,0<$&&(j+="H"+$.toString(32)),j+=":"}else $=Vh++,j=":"+j+"r"+$.toString(32)+":";return _.memoizedState=j},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(_){var j=di();return Di(j,O.memoizedState,_)},useTransition:function(){var _=fi(ei)[0],j=di().memoizedState;return[_,j]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(_){var j=di();return O===null?j.memoizedState=_:Di(j,O.memoizedState,_)},useTransition:function(){var _=gi(ei)[0],j=di().memoizedState;return[_,j]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(_,j){try{var $="",_e=j;do $+=Pa(_e),_e=_e.return;while(_e);var tt=$}catch(et){tt=`
Error generating stack: `+et.message+`
`+et.stack}return{value:_,source:j,stack:tt,digest:null}}function Li(_,j,$){return{value:_,source:null,stack:$??null,digest:j??null}}function Mi(_,j){try{console.error(j.value)}catch($){setTimeout(function(){throw $})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(_,j,$){$=ch(-1,$),$.tag=3,$.payload={element:null};var _e=j.value;return $.callback=function(){Pi||(Pi=!0,Qi=_e),Mi(_,j)},$}function Ri(_,j,$){$=ch(-1,$),$.tag=3;var _e=_.type.getDerivedStateFromError;if(typeof _e=="function"){var tt=j.value;$.payload=function(){return _e(tt)},$.callback=function(){Mi(_,j)}}var et=_.stateNode;return et!==null&&typeof et.componentDidCatch=="function"&&($.callback=function(){Mi(_,j),typeof _e!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var nt=j.stack;this.componentDidCatch(j.value,{componentStack:nt!==null?nt:""})}),$}function Ti(_,j,$){var _e=_.pingCache;if(_e===null){_e=_.pingCache=new Ni;var tt=new Set;_e.set(j,tt)}else tt=_e.get(j),tt===void 0&&(tt=new Set,_e.set(j,tt));tt.has($)||(tt.add($),_=Ui.bind(null,_,j,$),j.then(_,_))}function Vi(_){do{var j;if((j=_.tag===13)&&(j=_.memoizedState,j=j!==null?j.dehydrated!==null:!0),j)return _;_=_.return}while(_!==null);return null}function Wi(_,j,$,_e,tt){return _.mode&1?(_.flags|=65536,_.lanes=tt,_):(_===j?_.flags|=65536:(_.flags|=128,$.flags|=131072,$.flags&=-52805,$.tag===1&&($.alternate===null?$.tag=17:(j=ch(-1,1),j.tag=2,dh($,j,1))),$.lanes|=1),_)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(_,j,$,_e){j.child=_===null?Ch(j,null,$,_e):Bh(j,_.child,$,_e)}function Zi(_,j,$,_e,tt){$=$.render;var et=j.ref;return Tg(j,tt),_e=Xh(_,j,$,_e,et,tt),$=bi(),_!==null&&!Ug?(j.updateQueue=_.updateQueue,j.flags&=-2053,_.lanes&=~tt,$i(_,j,tt)):(I$1&&$&&vg(j),j.flags|=1,Yi(_,j,_e,tt),j.child)}function aj(_,j,$,_e,tt){if(_===null){var et=$.type;return typeof et=="function"&&!bj(et)&&et.defaultProps===void 0&&$.compare===null&&$.defaultProps===void 0?(j.tag=15,j.type=et,cj(_,j,et,_e,tt)):(_=yh($.type,null,_e,j,j.mode,tt),_.ref=j.ref,_.return=j,j.child=_)}if(et=_.child,!(_.lanes&tt)){var nt=et.memoizedProps;if($=$.compare,$=$!==null?$:Ie,$(nt,_e)&&_.ref===j.ref)return $i(_,j,tt)}return j.flags|=1,_=wh(et,_e),_.ref=j.ref,_.return=j,j.child=_}function cj(_,j,$,_e,tt){if(_!==null){var et=_.memoizedProps;if(Ie(et,_e)&&_.ref===j.ref)if(Ug=!1,j.pendingProps=_e=et,(_.lanes&tt)!==0)_.flags&131072&&(Ug=!0);else return j.lanes=_.lanes,$i(_,j,tt)}return dj(_,j,$,_e,tt)}function ej(_,j,$){var _e=j.pendingProps,tt=_e.children,et=_!==null?_.memoizedState:null;if(_e.mode==="hidden")if(!(j.mode&1))j.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=$;else{if(!($&1073741824))return _=et!==null?et.baseLanes|$:$,j.lanes=j.childLanes=1073741824,j.memoizedState={baseLanes:_,cachePool:null,transitions:null},j.updateQueue=null,G(fj,gj),gj|=_,null;j.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e=et!==null?et.baseLanes:$,G(fj,gj),gj|=_e}else et!==null?(_e=et.baseLanes|$,j.memoizedState=null):_e=$,G(fj,gj),gj|=_e;return Yi(_,j,tt,$),j.child}function hj(_,j){var $=j.ref;(_===null&&$!==null||_!==null&&_.ref!==$)&&(j.flags|=512,j.flags|=2097152)}function dj(_,j,$,_e,tt){var et=Zf($)?Xf:H.current;return et=Yf(j,et),Tg(j,tt),$=Xh(_,j,$,_e,et,tt),_e=bi(),_!==null&&!Ug?(j.updateQueue=_.updateQueue,j.flags&=-2053,_.lanes&=~tt,$i(_,j,tt)):(I$1&&_e&&vg(j),j.flags|=1,Yi(_,j,$,tt),j.child)}function ij(_,j,$,_e,tt){if(Zf($)){var et=!0;cg(j)}else et=!1;if(Tg(j,tt),j.stateNode===null)jj(_,j),ph(j,$,_e),rh(j,$,_e,tt),_e=!0;else if(_===null){var nt=j.stateNode,ct=j.memoizedProps;nt.props=ct;var rt=nt.context,ot=$.contextType;typeof ot=="object"&&ot!==null?ot=Vg(ot):(ot=Zf($)?Xf:H.current,ot=Yf(j,ot));var st=$.getDerivedStateFromProps,_t=typeof st=="function"||typeof nt.getSnapshotBeforeUpdate=="function";_t||typeof nt.UNSAFE_componentWillReceiveProps!="function"&&typeof nt.componentWillReceiveProps!="function"||(ct!==_e||rt!==ot)&&qh(j,nt,_e,ot),$g=!1;var yt=j.memoizedState;nt.state=yt,gh(j,_e,nt,tt),rt=j.memoizedState,ct!==_e||yt!==rt||Wf.current||$g?(typeof st=="function"&&(kh(j,$,st,_e),rt=j.memoizedState),(ct=$g||oh(j,$,ct,_e,yt,rt,ot))?(_t||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||(typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount()),typeof nt.componentDidMount=="function"&&(j.flags|=4194308)):(typeof nt.componentDidMount=="function"&&(j.flags|=4194308),j.memoizedProps=_e,j.memoizedState=rt),nt.props=_e,nt.state=rt,nt.context=ot,_e=ct):(typeof nt.componentDidMount=="function"&&(j.flags|=4194308),_e=!1)}else{nt=j.stateNode,bh(_,j),ct=j.memoizedProps,ot=j.type===j.elementType?ct:Lg(j.type,ct),nt.props=ot,_t=j.pendingProps,yt=nt.context,rt=$.contextType,typeof rt=="object"&&rt!==null?rt=Vg(rt):(rt=Zf($)?Xf:H.current,rt=Yf(j,rt));var gt=$.getDerivedStateFromProps;(st=typeof gt=="function"||typeof nt.getSnapshotBeforeUpdate=="function")||typeof nt.UNSAFE_componentWillReceiveProps!="function"&&typeof nt.componentWillReceiveProps!="function"||(ct!==_t||yt!==rt)&&qh(j,nt,_e,rt),$g=!1,yt=j.memoizedState,nt.state=yt,gh(j,_e,nt,tt);var pt=j.memoizedState;ct!==_t||yt!==pt||Wf.current||$g?(typeof gt=="function"&&(kh(j,$,gt,_e),pt=j.memoizedState),(ot=$g||oh(j,$,ot,_e,yt,pt,rt)||!1)?(st||typeof nt.UNSAFE_componentWillUpdate!="function"&&typeof nt.componentWillUpdate!="function"||(typeof nt.componentWillUpdate=="function"&&nt.componentWillUpdate(_e,pt,rt),typeof nt.UNSAFE_componentWillUpdate=="function"&&nt.UNSAFE_componentWillUpdate(_e,pt,rt)),typeof nt.componentDidUpdate=="function"&&(j.flags|=4),typeof nt.getSnapshotBeforeUpdate=="function"&&(j.flags|=1024)):(typeof nt.componentDidUpdate!="function"||ct===_.memoizedProps&&yt===_.memoizedState||(j.flags|=4),typeof nt.getSnapshotBeforeUpdate!="function"||ct===_.memoizedProps&&yt===_.memoizedState||(j.flags|=1024),j.memoizedProps=_e,j.memoizedState=pt),nt.props=_e,nt.state=pt,nt.context=rt,_e=ot):(typeof nt.componentDidUpdate!="function"||ct===_.memoizedProps&&yt===_.memoizedState||(j.flags|=4),typeof nt.getSnapshotBeforeUpdate!="function"||ct===_.memoizedProps&&yt===_.memoizedState||(j.flags|=1024),_e=!1)}return kj(_,j,$,_e,et,tt)}function kj(_,j,$,_e,tt,et){hj(_,j);var nt=(j.flags&128)!==0;if(!_e&&!nt)return tt&&dg(j,$,!1),$i(_,j,et);_e=j.stateNode,Xi.current=j;var ct=nt&&typeof $.getDerivedStateFromError!="function"?null:_e.render();return j.flags|=1,_!==null&&nt?(j.child=Bh(j,_.child,null,et),j.child=Bh(j,null,ct,et)):Yi(_,j,ct,et),j.memoizedState=_e.state,tt&&dg(j,$,!0),j.child}function lj(_){var j=_.stateNode;j.pendingContext?ag(_,j.pendingContext,j.pendingContext!==j.context):j.context&&ag(_,j.context,!1),Ih(_,j.containerInfo)}function mj(_,j,$,_e,tt){return Ig(),Jg(tt),j.flags|=256,Yi(_,j,$,_e),j.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(_){return{baseLanes:_,cachePool:null,transitions:null}}function pj(_,j,$){var _e=j.pendingProps,tt=M$1.current,et=!1,nt=(j.flags&128)!==0,ct;if((ct=nt)||(ct=_!==null&&_.memoizedState===null?!1:(tt&2)!==0),ct?(et=!0,j.flags&=-129):(_===null||_.memoizedState!==null)&&(tt|=1),G(M$1,tt&1),_===null)return Eg(j),_=j.memoizedState,_!==null&&(_=_.dehydrated,_!==null)?(j.mode&1?_.data==="$!"?j.lanes=8:j.lanes=1073741824:j.lanes=1,null):(nt=_e.children,_=_e.fallback,et?(_e=j.mode,et=j.child,nt={mode:"hidden",children:nt},!(_e&1)&&et!==null?(et.childLanes=0,et.pendingProps=nt):et=qj(nt,_e,0,null),_=Ah(_,_e,$,null),et.return=j,_.return=j,et.sibling=_,j.child=et,j.child.memoizedState=oj($),j.memoizedState=nj,_):rj(j,nt));if(tt=_.memoizedState,tt!==null&&(ct=tt.dehydrated,ct!==null))return sj(_,j,nt,_e,ct,tt,$);if(et){et=_e.fallback,nt=j.mode,tt=_.child,ct=tt.sibling;var rt={mode:"hidden",children:_e.children};return!(nt&1)&&j.child!==tt?(_e=j.child,_e.childLanes=0,_e.pendingProps=rt,j.deletions=null):(_e=wh(tt,rt),_e.subtreeFlags=tt.subtreeFlags&14680064),ct!==null?et=wh(ct,et):(et=Ah(et,nt,$,null),et.flags|=2),et.return=j,_e.return=j,_e.sibling=et,j.child=_e,_e=et,et=j.child,nt=_.child.memoizedState,nt=nt===null?oj($):{baseLanes:nt.baseLanes|$,cachePool:null,transitions:nt.transitions},et.memoizedState=nt,et.childLanes=_.childLanes&~$,j.memoizedState=nj,_e}return et=_.child,_=et.sibling,_e=wh(et,{mode:"visible",children:_e.children}),!(j.mode&1)&&(_e.lanes=$),_e.return=j,_e.sibling=null,_!==null&&($=j.deletions,$===null?(j.deletions=[_],j.flags|=16):$.push(_)),j.child=_e,j.memoizedState=null,_e}function rj(_,j){return j=qj({mode:"visible",children:j},_.mode,0,null),j.return=_,_.child=j}function tj(_,j,$,_e){return _e!==null&&Jg(_e),Bh(j,_.child,null,$),_=rj(j,j.pendingProps.children),_.flags|=2,j.memoizedState=null,_}function sj(_,j,$,_e,tt,et,nt){if($)return j.flags&256?(j.flags&=-257,_e=Li(Error(p$1(422))),tj(_,j,nt,_e)):j.memoizedState!==null?(j.child=_.child,j.flags|=128,null):(et=_e.fallback,tt=j.mode,_e=qj({mode:"visible",children:_e.children},tt,0,null),et=Ah(et,tt,nt,null),et.flags|=2,_e.return=j,et.return=j,_e.sibling=et,j.child=_e,j.mode&1&&Bh(j,_.child,null,nt),j.child.memoizedState=oj(nt),j.memoizedState=nj,et);if(!(j.mode&1))return tj(_,j,nt,null);if(tt.data==="$!"){if(_e=tt.nextSibling&&tt.nextSibling.dataset,_e)var ct=_e.dgst;return _e=ct,et=Error(p$1(419)),_e=Li(et,_e,void 0),tj(_,j,nt,_e)}if(ct=(nt&_.childLanes)!==0,Ug||ct){if(_e=R,_e!==null){switch(nt&-nt){case 4:tt=2;break;case 16:tt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:tt=32;break;case 536870912:tt=268435456;break;default:tt=0}tt=tt&(_e.suspendedLanes|nt)?0:tt,tt!==0&&tt!==et.retryLane&&(et.retryLane=tt,Zg(_,tt),mh(_e,_,tt,-1))}return uj(),_e=Li(Error(p$1(421))),tj(_,j,nt,_e)}return tt.data==="$?"?(j.flags|=128,j.child=_.child,j=vj.bind(null,_),tt._reactRetry=j,null):(_=et.treeContext,yg=Lf(tt.nextSibling),xg=j,I$1=!0,zg=null,_!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=_.id,sg=_.overflow,qg=j),j=rj(j,_e.children),j.flags|=4096,j)}function wj(_,j,$){_.lanes|=j;var _e=_.alternate;_e!==null&&(_e.lanes|=j),Sg(_.return,j,$)}function xj(_,j,$,_e,tt){var et=_.memoizedState;et===null?_.memoizedState={isBackwards:j,rendering:null,renderingStartTime:0,last:_e,tail:$,tailMode:tt}:(et.isBackwards=j,et.rendering=null,et.renderingStartTime=0,et.last=_e,et.tail=$,et.tailMode=tt)}function yj(_,j,$){var _e=j.pendingProps,tt=_e.revealOrder,et=_e.tail;if(Yi(_,j,_e.children,$),_e=M$1.current,_e&2)_e=_e&1|2,j.flags|=128;else{if(_!==null&&_.flags&128)e:for(_=j.child;_!==null;){if(_.tag===13)_.memoizedState!==null&&wj(_,$,j);else if(_.tag===19)wj(_,$,j);else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===j)break e;for(;_.sibling===null;){if(_.return===null||_.return===j)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}_e&=1}if(G(M$1,_e),!(j.mode&1))j.memoizedState=null;else switch(tt){case"forwards":for($=j.child,tt=null;$!==null;)_=$.alternate,_!==null&&Mh(_)===null&&(tt=$),$=$.sibling;$=tt,$===null?(tt=j.child,j.child=null):(tt=$.sibling,$.sibling=null),xj(j,!1,tt,$,et);break;case"backwards":for($=null,tt=j.child,j.child=null;tt!==null;){if(_=tt.alternate,_!==null&&Mh(_)===null){j.child=tt;break}_=tt.sibling,tt.sibling=$,$=tt,tt=_}xj(j,!0,$,null,et);break;case"together":xj(j,!1,null,null,void 0);break;default:j.memoizedState=null}return j.child}function jj(_,j){!(j.mode&1)&&_!==null&&(_.alternate=null,j.alternate=null,j.flags|=2)}function $i(_,j,$){if(_!==null&&(j.dependencies=_.dependencies),hh|=j.lanes,!($&j.childLanes))return null;if(_!==null&&j.child!==_.child)throw Error(p$1(153));if(j.child!==null){for(_=j.child,$=wh(_,_.pendingProps),j.child=$,$.return=j;_.sibling!==null;)_=_.sibling,$=$.sibling=wh(_,_.pendingProps),$.return=j;$.sibling=null}return j.child}function zj(_,j,$){switch(j.tag){case 3:lj(j),Ig();break;case 5:Kh(j);break;case 1:Zf(j.type)&&cg(j);break;case 4:Ih(j,j.stateNode.containerInfo);break;case 10:var _e=j.type._context,tt=j.memoizedProps.value;G(Mg,_e._currentValue),_e._currentValue=tt;break;case 13:if(_e=j.memoizedState,_e!==null)return _e.dehydrated!==null?(G(M$1,M$1.current&1),j.flags|=128,null):$&j.child.childLanes?pj(_,j,$):(G(M$1,M$1.current&1),_=$i(_,j,$),_!==null?_.sibling:null);G(M$1,M$1.current&1);break;case 19:if(_e=($&j.childLanes)!==0,_.flags&128){if(_e)return yj(_,j,$);j.flags|=128}if(tt=j.memoizedState,tt!==null&&(tt.rendering=null,tt.tail=null,tt.lastEffect=null),G(M$1,M$1.current),_e)break;return null;case 22:case 23:return j.lanes=0,ej(_,j,$)}return $i(_,j,$)}var Aj,Bj,Cj,Dj;Aj=function(_,j){for(var $=j.child;$!==null;){if($.tag===5||$.tag===6)_.appendChild($.stateNode);else if($.tag!==4&&$.child!==null){$.child.return=$,$=$.child;continue}if($===j)break;for(;$.sibling===null;){if($.return===null||$.return===j)return;$=$.return}$.sibling.return=$.return,$=$.sibling}};Bj=function(){};Cj=function(_,j,$,_e){var tt=_.memoizedProps;if(tt!==_e){_=j.stateNode,Hh(Eh.current);var et=null;switch($){case"input":tt=Ya(_,tt),_e=Ya(_,_e),et=[];break;case"select":tt=A({},tt,{value:void 0}),_e=A({},_e,{value:void 0}),et=[];break;case"textarea":tt=gb(_,tt),_e=gb(_,_e),et=[];break;default:typeof tt.onClick!="function"&&typeof _e.onClick=="function"&&(_.onclick=Bf)}ub($,_e);var nt;$=null;for(ot in tt)if(!_e.hasOwnProperty(ot)&&tt.hasOwnProperty(ot)&&tt[ot]!=null)if(ot==="style"){var ct=tt[ot];for(nt in ct)ct.hasOwnProperty(nt)&&($||($={}),$[nt]="")}else ot!=="dangerouslySetInnerHTML"&&ot!=="children"&&ot!=="suppressContentEditableWarning"&&ot!=="suppressHydrationWarning"&&ot!=="autoFocus"&&(ea.hasOwnProperty(ot)?et||(et=[]):(et=et||[]).push(ot,null));for(ot in _e){var rt=_e[ot];if(ct=tt!=null?tt[ot]:void 0,_e.hasOwnProperty(ot)&&rt!==ct&&(rt!=null||ct!=null))if(ot==="style")if(ct){for(nt in ct)!ct.hasOwnProperty(nt)||rt&&rt.hasOwnProperty(nt)||($||($={}),$[nt]="");for(nt in rt)rt.hasOwnProperty(nt)&&ct[nt]!==rt[nt]&&($||($={}),$[nt]=rt[nt])}else $||(et||(et=[]),et.push(ot,$)),$=rt;else ot==="dangerouslySetInnerHTML"?(rt=rt?rt.__html:void 0,ct=ct?ct.__html:void 0,rt!=null&&ct!==rt&&(et=et||[]).push(ot,rt)):ot==="children"?typeof rt!="string"&&typeof rt!="number"||(et=et||[]).push(ot,""+rt):ot!=="suppressContentEditableWarning"&&ot!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ot)?(rt!=null&&ot==="onScroll"&&D("scroll",_),et||ct===rt||(et=[])):(et=et||[]).push(ot,rt))}$&&(et=et||[]).push("style",$);var ot=et;(j.updateQueue=ot)&&(j.flags|=4)}};Dj=function(_,j,$,_e){$!==_e&&(j.flags|=4)};function Ej(_,j){if(!I$1)switch(_.tailMode){case"hidden":j=_.tail;for(var $=null;j!==null;)j.alternate!==null&&($=j),j=j.sibling;$===null?_.tail=null:$.sibling=null;break;case"collapsed":$=_.tail;for(var _e=null;$!==null;)$.alternate!==null&&(_e=$),$=$.sibling;_e===null?j||_.tail===null?_.tail=null:_.tail.sibling=null:_e.sibling=null}}function S$1(_){var j=_.alternate!==null&&_.alternate.child===_.child,$=0,_e=0;if(j)for(var tt=_.child;tt!==null;)$|=tt.lanes|tt.childLanes,_e|=tt.subtreeFlags&14680064,_e|=tt.flags&14680064,tt.return=_,tt=tt.sibling;else for(tt=_.child;tt!==null;)$|=tt.lanes|tt.childLanes,_e|=tt.subtreeFlags,_e|=tt.flags,tt.return=_,tt=tt.sibling;return _.subtreeFlags|=_e,_.childLanes=$,j}function Fj(_,j,$){var _e=j.pendingProps;switch(wg(j),j.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(j),null;case 1:return Zf(j.type)&&$f(),S$1(j),null;case 3:return _e=j.stateNode,Jh(),E$1(Wf),E$1(H),Oh(),_e.pendingContext&&(_e.context=_e.pendingContext,_e.pendingContext=null),(_===null||_.child===null)&&(Gg(j)?j.flags|=4:_===null||_.memoizedState.isDehydrated&&!(j.flags&256)||(j.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(_,j),S$1(j),null;case 5:Lh(j);var tt=Hh(Gh.current);if($=j.type,_!==null&&j.stateNode!=null)Cj(_,j,$,_e,tt),_.ref!==j.ref&&(j.flags|=512,j.flags|=2097152);else{if(!_e){if(j.stateNode===null)throw Error(p$1(166));return S$1(j),null}if(_=Hh(Eh.current),Gg(j)){_e=j.stateNode,$=j.type;var et=j.memoizedProps;switch(_e[Of]=j,_e[Pf]=et,_=(j.mode&1)!==0,$){case"dialog":D("cancel",_e),D("close",_e);break;case"iframe":case"object":case"embed":D("load",_e);break;case"video":case"audio":for(tt=0;tt<lf.length;tt++)D(lf[tt],_e);break;case"source":D("error",_e);break;case"img":case"image":case"link":D("error",_e),D("load",_e);break;case"details":D("toggle",_e);break;case"input":Za(_e,et),D("invalid",_e);break;case"select":_e._wrapperState={wasMultiple:!!et.multiple},D("invalid",_e);break;case"textarea":hb(_e,et),D("invalid",_e)}ub($,et),tt=null;for(var nt in et)if(et.hasOwnProperty(nt)){var ct=et[nt];nt==="children"?typeof ct=="string"?_e.textContent!==ct&&(et.suppressHydrationWarning!==!0&&Af(_e.textContent,ct,_),tt=["children",ct]):typeof ct=="number"&&_e.textContent!==""+ct&&(et.suppressHydrationWarning!==!0&&Af(_e.textContent,ct,_),tt=["children",""+ct]):ea.hasOwnProperty(nt)&&ct!=null&&nt==="onScroll"&&D("scroll",_e)}switch($){case"input":Va(_e),db(_e,et,!0);break;case"textarea":Va(_e),jb(_e);break;case"select":case"option":break;default:typeof et.onClick=="function"&&(_e.onclick=Bf)}_e=tt,j.updateQueue=_e,_e!==null&&(j.flags|=4)}else{nt=tt.nodeType===9?tt:tt.ownerDocument,_==="http://www.w3.org/1999/xhtml"&&(_=kb($)),_==="http://www.w3.org/1999/xhtml"?$==="script"?(_=nt.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild)):typeof _e.is=="string"?_=nt.createElement($,{is:_e.is}):(_=nt.createElement($),$==="select"&&(nt=_,_e.multiple?nt.multiple=!0:_e.size&&(nt.size=_e.size))):_=nt.createElementNS(_,$),_[Of]=j,_[Pf]=_e,Aj(_,j,!1,!1),j.stateNode=_;e:{switch(nt=vb($,_e),$){case"dialog":D("cancel",_),D("close",_),tt=_e;break;case"iframe":case"object":case"embed":D("load",_),tt=_e;break;case"video":case"audio":for(tt=0;tt<lf.length;tt++)D(lf[tt],_);tt=_e;break;case"source":D("error",_),tt=_e;break;case"img":case"image":case"link":D("error",_),D("load",_),tt=_e;break;case"details":D("toggle",_),tt=_e;break;case"input":Za(_,_e),tt=Ya(_,_e),D("invalid",_);break;case"option":tt=_e;break;case"select":_._wrapperState={wasMultiple:!!_e.multiple},tt=A({},_e,{value:void 0}),D("invalid",_);break;case"textarea":hb(_,_e),tt=gb(_,_e),D("invalid",_);break;default:tt=_e}ub($,tt),ct=tt;for(et in ct)if(ct.hasOwnProperty(et)){var rt=ct[et];et==="style"?sb(_,rt):et==="dangerouslySetInnerHTML"?(rt=rt?rt.__html:void 0,rt!=null&&nb(_,rt)):et==="children"?typeof rt=="string"?($!=="textarea"||rt!=="")&&ob(_,rt):typeof rt=="number"&&ob(_,""+rt):et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&et!=="autoFocus"&&(ea.hasOwnProperty(et)?rt!=null&&et==="onScroll"&&D("scroll",_):rt!=null&&ta(_,et,rt,nt))}switch($){case"input":Va(_),db(_,_e,!1);break;case"textarea":Va(_),jb(_);break;case"option":_e.value!=null&&_.setAttribute("value",""+Sa(_e.value));break;case"select":_.multiple=!!_e.multiple,et=_e.value,et!=null?fb(_,!!_e.multiple,et,!1):_e.defaultValue!=null&&fb(_,!!_e.multiple,_e.defaultValue,!0);break;default:typeof tt.onClick=="function"&&(_.onclick=Bf)}switch($){case"button":case"input":case"select":case"textarea":_e=!!_e.autoFocus;break e;case"img":_e=!0;break e;default:_e=!1}}_e&&(j.flags|=4)}j.ref!==null&&(j.flags|=512,j.flags|=2097152)}return S$1(j),null;case 6:if(_&&j.stateNode!=null)Dj(_,j,_.memoizedProps,_e);else{if(typeof _e!="string"&&j.stateNode===null)throw Error(p$1(166));if($=Hh(Gh.current),Hh(Eh.current),Gg(j)){if(_e=j.stateNode,$=j.memoizedProps,_e[Of]=j,(et=_e.nodeValue!==$)&&(_=xg,_!==null))switch(_.tag){case 3:Af(_e.nodeValue,$,(_.mode&1)!==0);break;case 5:_.memoizedProps.suppressHydrationWarning!==!0&&Af(_e.nodeValue,$,(_.mode&1)!==0)}et&&(j.flags|=4)}else _e=($.nodeType===9?$:$.ownerDocument).createTextNode(_e),_e[Of]=j,j.stateNode=_e}return S$1(j),null;case 13:if(E$1(M$1),_e=j.memoizedState,_===null||_.memoizedState!==null&&_.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&j.mode&1&&!(j.flags&128))Hg(),Ig(),j.flags|=98560,et=!1;else if(et=Gg(j),_e!==null&&_e.dehydrated!==null){if(_===null){if(!et)throw Error(p$1(318));if(et=j.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$1(317));et[Of]=j}else Ig(),!(j.flags&128)&&(j.memoizedState=null),j.flags|=4;S$1(j),et=!1}else zg!==null&&(Gj(zg),zg=null),et=!0;if(!et)return j.flags&65536?j:null}return j.flags&128?(j.lanes=$,j):(_e=_e!==null,_e!==(_!==null&&_.memoizedState!==null)&&_e&&(j.child.flags|=8192,j.mode&1&&(_===null||M$1.current&1?T===0&&(T=3):uj())),j.updateQueue!==null&&(j.flags|=4),S$1(j),null);case 4:return Jh(),Bj(_,j),_===null&&sf(j.stateNode.containerInfo),S$1(j),null;case 10:return Rg(j.type._context),S$1(j),null;case 17:return Zf(j.type)&&$f(),S$1(j),null;case 19:if(E$1(M$1),et=j.memoizedState,et===null)return S$1(j),null;if(_e=(j.flags&128)!==0,nt=et.rendering,nt===null)if(_e)Ej(et,!1);else{if(T!==0||_!==null&&_.flags&128)for(_=j.child;_!==null;){if(nt=Mh(_),nt!==null){for(j.flags|=128,Ej(et,!1),_e=nt.updateQueue,_e!==null&&(j.updateQueue=_e,j.flags|=4),j.subtreeFlags=0,_e=$,$=j.child;$!==null;)et=$,_=_e,et.flags&=14680066,nt=et.alternate,nt===null?(et.childLanes=0,et.lanes=_,et.child=null,et.subtreeFlags=0,et.memoizedProps=null,et.memoizedState=null,et.updateQueue=null,et.dependencies=null,et.stateNode=null):(et.childLanes=nt.childLanes,et.lanes=nt.lanes,et.child=nt.child,et.subtreeFlags=0,et.deletions=null,et.memoizedProps=nt.memoizedProps,et.memoizedState=nt.memoizedState,et.updateQueue=nt.updateQueue,et.type=nt.type,_=nt.dependencies,et.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext}),$=$.sibling;return G(M$1,M$1.current&1|2),j.child}_=_.sibling}et.tail!==null&&B()>Hj&&(j.flags|=128,_e=!0,Ej(et,!1),j.lanes=4194304)}else{if(!_e)if(_=Mh(nt),_!==null){if(j.flags|=128,_e=!0,$=_.updateQueue,$!==null&&(j.updateQueue=$,j.flags|=4),Ej(et,!0),et.tail===null&&et.tailMode==="hidden"&&!nt.alternate&&!I$1)return S$1(j),null}else 2*B()-et.renderingStartTime>Hj&&$!==1073741824&&(j.flags|=128,_e=!0,Ej(et,!1),j.lanes=4194304);et.isBackwards?(nt.sibling=j.child,j.child=nt):($=et.last,$!==null?$.sibling=nt:j.child=nt,et.last=nt)}return et.tail!==null?(j=et.tail,et.rendering=j,et.tail=j.sibling,et.renderingStartTime=B(),j.sibling=null,$=M$1.current,G(M$1,_e?$&1|2:$&1),j):(S$1(j),null);case 22:case 23:return Ij(),_e=j.memoizedState!==null,_!==null&&_.memoizedState!==null!==_e&&(j.flags|=8192),_e&&j.mode&1?gj&1073741824&&(S$1(j),j.subtreeFlags&6&&(j.flags|=8192)):S$1(j),null;case 24:return null;case 25:return null}throw Error(p$1(156,j.tag))}function Jj(_,j){switch(wg(j),j.tag){case 1:return Zf(j.type)&&$f(),_=j.flags,_&65536?(j.flags=_&-65537|128,j):null;case 3:return Jh(),E$1(Wf),E$1(H),Oh(),_=j.flags,_&65536&&!(_&128)?(j.flags=_&-65537|128,j):null;case 5:return Lh(j),null;case 13:if(E$1(M$1),_=j.memoizedState,_!==null&&_.dehydrated!==null){if(j.alternate===null)throw Error(p$1(340));Ig()}return _=j.flags,_&65536?(j.flags=_&-65537|128,j):null;case 19:return E$1(M$1),null;case 4:return Jh(),null;case 10:return Rg(j.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(_,j){var $=_.ref;if($!==null)if(typeof $=="function")try{$(null)}catch(_e){W(_,j,_e)}else $.current=null}function Nj(_,j,$){try{$()}catch(_e){W(_,j,_e)}}var Oj=!1;function Pj(_,j){if(Cf=dd,_=Me(),Ne(_)){if("selectionStart"in _)var $={start:_.selectionStart,end:_.selectionEnd};else e:{$=($=_.ownerDocument)&&$.defaultView||window;var _e=$.getSelection&&$.getSelection();if(_e&&_e.rangeCount!==0){$=_e.anchorNode;var tt=_e.anchorOffset,et=_e.focusNode;_e=_e.focusOffset;try{$.nodeType,et.nodeType}catch{$=null;break e}var nt=0,ct=-1,rt=-1,ot=0,st=0,_t=_,yt=null;t:for(;;){for(var gt;_t!==$||tt!==0&&_t.nodeType!==3||(ct=nt+tt),_t!==et||_e!==0&&_t.nodeType!==3||(rt=nt+_e),_t.nodeType===3&&(nt+=_t.nodeValue.length),(gt=_t.firstChild)!==null;)yt=_t,_t=gt;for(;;){if(_t===_)break t;if(yt===$&&++ot===tt&&(ct=nt),yt===et&&++st===_e&&(rt=nt),(gt=_t.nextSibling)!==null)break;_t=yt,yt=_t.parentNode}_t=gt}$=ct===-1||rt===-1?null:{start:ct,end:rt}}else $=null}$=$||{start:0,end:0}}else $=null;for(Df={focusedElem:_,selectionRange:$},dd=!1,V=j;V!==null;)if(j=V,_=j.child,(j.subtreeFlags&1028)!==0&&_!==null)_.return=j,V=_;else for(;V!==null;){j=V;try{var pt=j.alternate;if(j.flags&1024)switch(j.tag){case 0:case 11:case 15:break;case 1:if(pt!==null){var kt=pt.memoizedProps,At=pt.memoizedState,at=j.stateNode,lt=at.getSnapshotBeforeUpdate(j.elementType===j.type?kt:Lg(j.type,kt),At);at.__reactInternalSnapshotBeforeUpdate=lt}break;case 3:var dt=j.stateNode.containerInfo;dt.nodeType===1?dt.textContent="":dt.nodeType===9&&dt.documentElement&&dt.removeChild(dt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(wt){W(j,j.return,wt)}if(_=j.sibling,_!==null){_.return=j.return,V=_;break}V=j.return}return pt=Oj,Oj=!1,pt}function Qj(_,j,$){var _e=j.updateQueue;if(_e=_e!==null?_e.lastEffect:null,_e!==null){var tt=_e=_e.next;do{if((tt.tag&_)===_){var et=tt.destroy;tt.destroy=void 0,et!==void 0&&Nj(j,$,et)}tt=tt.next}while(tt!==_e)}}function Rj(_,j){if(j=j.updateQueue,j=j!==null?j.lastEffect:null,j!==null){var $=j=j.next;do{if(($.tag&_)===_){var _e=$.create;$.destroy=_e()}$=$.next}while($!==j)}}function Sj(_){var j=_.ref;if(j!==null){var $=_.stateNode;switch(_.tag){case 5:_=$;break;default:_=$}typeof j=="function"?j(_):j.current=_}}function Tj(_){var j=_.alternate;j!==null&&(_.alternate=null,Tj(j)),_.child=null,_.deletions=null,_.sibling=null,_.tag===5&&(j=_.stateNode,j!==null&&(delete j[Of],delete j[Pf],delete j[of],delete j[Qf],delete j[Rf])),_.stateNode=null,_.return=null,_.dependencies=null,_.memoizedProps=null,_.memoizedState=null,_.pendingProps=null,_.stateNode=null,_.updateQueue=null}function Uj(_){return _.tag===5||_.tag===3||_.tag===4}function Vj(_){e:for(;;){for(;_.sibling===null;){if(_.return===null||Uj(_.return))return null;_=_.return}for(_.sibling.return=_.return,_=_.sibling;_.tag!==5&&_.tag!==6&&_.tag!==18;){if(_.flags&2||_.child===null||_.tag===4)continue e;_.child.return=_,_=_.child}if(!(_.flags&2))return _.stateNode}}function Wj(_,j,$){var _e=_.tag;if(_e===5||_e===6)_=_.stateNode,j?$.nodeType===8?$.parentNode.insertBefore(_,j):$.insertBefore(_,j):($.nodeType===8?(j=$.parentNode,j.insertBefore(_,$)):(j=$,j.appendChild(_)),$=$._reactRootContainer,$!=null||j.onclick!==null||(j.onclick=Bf));else if(_e!==4&&(_=_.child,_!==null))for(Wj(_,j,$),_=_.sibling;_!==null;)Wj(_,j,$),_=_.sibling}function Xj(_,j,$){var _e=_.tag;if(_e===5||_e===6)_=_.stateNode,j?$.insertBefore(_,j):$.appendChild(_);else if(_e!==4&&(_=_.child,_!==null))for(Xj(_,j,$),_=_.sibling;_!==null;)Xj(_,j,$),_=_.sibling}var X=null,Yj=!1;function Zj(_,j,$){for($=$.child;$!==null;)ak(_,j,$),$=$.sibling}function ak(_,j,$){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,$)}catch{}switch($.tag){case 5:U||Mj($,j);case 6:var _e=X,tt=Yj;X=null,Zj(_,j,$),X=_e,Yj=tt,X!==null&&(Yj?(_=X,$=$.stateNode,_.nodeType===8?_.parentNode.removeChild($):_.removeChild($)):X.removeChild($.stateNode));break;case 18:X!==null&&(Yj?(_=X,$=$.stateNode,_.nodeType===8?Kf(_.parentNode,$):_.nodeType===1&&Kf(_,$),bd(_)):Kf(X,$.stateNode));break;case 4:_e=X,tt=Yj,X=$.stateNode.containerInfo,Yj=!0,Zj(_,j,$),X=_e,Yj=tt;break;case 0:case 11:case 14:case 15:if(!U&&(_e=$.updateQueue,_e!==null&&(_e=_e.lastEffect,_e!==null))){tt=_e=_e.next;do{var et=tt,nt=et.destroy;et=et.tag,nt!==void 0&&(et&2||et&4)&&Nj($,j,nt),tt=tt.next}while(tt!==_e)}Zj(_,j,$);break;case 1:if(!U&&(Mj($,j),_e=$.stateNode,typeof _e.componentWillUnmount=="function"))try{_e.props=$.memoizedProps,_e.state=$.memoizedState,_e.componentWillUnmount()}catch(ct){W($,j,ct)}Zj(_,j,$);break;case 21:Zj(_,j,$);break;case 22:$.mode&1?(U=(_e=U)||$.memoizedState!==null,Zj(_,j,$),U=_e):Zj(_,j,$);break;default:Zj(_,j,$)}}function bk(_){var j=_.updateQueue;if(j!==null){_.updateQueue=null;var $=_.stateNode;$===null&&($=_.stateNode=new Lj),j.forEach(function(_e){var tt=ck.bind(null,_,_e);$.has(_e)||($.add(_e),_e.then(tt,tt))})}}function dk(_,j){var $=j.deletions;if($!==null)for(var _e=0;_e<$.length;_e++){var tt=$[_e];try{var et=_,nt=j,ct=nt;e:for(;ct!==null;){switch(ct.tag){case 5:X=ct.stateNode,Yj=!1;break e;case 3:X=ct.stateNode.containerInfo,Yj=!0;break e;case 4:X=ct.stateNode.containerInfo,Yj=!0;break e}ct=ct.return}if(X===null)throw Error(p$1(160));ak(et,nt,tt),X=null,Yj=!1;var rt=tt.alternate;rt!==null&&(rt.return=null),tt.return=null}catch(ot){W(tt,j,ot)}}if(j.subtreeFlags&12854)for(j=j.child;j!==null;)ek(j,_),j=j.sibling}function ek(_,j){var $=_.alternate,_e=_.flags;switch(_.tag){case 0:case 11:case 14:case 15:if(dk(j,_),fk(_),_e&4){try{Qj(3,_,_.return),Rj(3,_)}catch(kt){W(_,_.return,kt)}try{Qj(5,_,_.return)}catch(kt){W(_,_.return,kt)}}break;case 1:dk(j,_),fk(_),_e&512&&$!==null&&Mj($,$.return);break;case 5:if(dk(j,_),fk(_),_e&512&&$!==null&&Mj($,$.return),_.flags&32){var tt=_.stateNode;try{ob(tt,"")}catch(kt){W(_,_.return,kt)}}if(_e&4&&(tt=_.stateNode,tt!=null)){var et=_.memoizedProps,nt=$!==null?$.memoizedProps:et,ct=_.type,rt=_.updateQueue;if(_.updateQueue=null,rt!==null)try{ct==="input"&&et.type==="radio"&&et.name!=null&&ab(tt,et),vb(ct,nt);var ot=vb(ct,et);for(nt=0;nt<rt.length;nt+=2){var st=rt[nt],_t=rt[nt+1];st==="style"?sb(tt,_t):st==="dangerouslySetInnerHTML"?nb(tt,_t):st==="children"?ob(tt,_t):ta(tt,st,_t,ot)}switch(ct){case"input":bb(tt,et);break;case"textarea":ib(tt,et);break;case"select":var yt=tt._wrapperState.wasMultiple;tt._wrapperState.wasMultiple=!!et.multiple;var gt=et.value;gt!=null?fb(tt,!!et.multiple,gt,!1):yt!==!!et.multiple&&(et.defaultValue!=null?fb(tt,!!et.multiple,et.defaultValue,!0):fb(tt,!!et.multiple,et.multiple?[]:"",!1))}tt[Pf]=et}catch(kt){W(_,_.return,kt)}}break;case 6:if(dk(j,_),fk(_),_e&4){if(_.stateNode===null)throw Error(p$1(162));tt=_.stateNode,et=_.memoizedProps;try{tt.nodeValue=et}catch(kt){W(_,_.return,kt)}}break;case 3:if(dk(j,_),fk(_),_e&4&&$!==null&&$.memoizedState.isDehydrated)try{bd(j.containerInfo)}catch(kt){W(_,_.return,kt)}break;case 4:dk(j,_),fk(_);break;case 13:dk(j,_),fk(_),tt=_.child,tt.flags&8192&&(et=tt.memoizedState!==null,tt.stateNode.isHidden=et,!et||tt.alternate!==null&&tt.alternate.memoizedState!==null||(gk=B())),_e&4&&bk(_);break;case 22:if(st=$!==null&&$.memoizedState!==null,_.mode&1?(U=(ot=U)||st,dk(j,_),U=ot):dk(j,_),fk(_),_e&8192){if(ot=_.memoizedState!==null,(_.stateNode.isHidden=ot)&&!st&&_.mode&1)for(V=_,st=_.child;st!==null;){for(_t=V=st;V!==null;){switch(yt=V,gt=yt.child,yt.tag){case 0:case 11:case 14:case 15:Qj(4,yt,yt.return);break;case 1:Mj(yt,yt.return);var pt=yt.stateNode;if(typeof pt.componentWillUnmount=="function"){_e=yt,$=yt.return;try{j=_e,pt.props=j.memoizedProps,pt.state=j.memoizedState,pt.componentWillUnmount()}catch(kt){W(_e,$,kt)}}break;case 5:Mj(yt,yt.return);break;case 22:if(yt.memoizedState!==null){hk(_t);continue}}gt!==null?(gt.return=yt,V=gt):hk(_t)}st=st.sibling}e:for(st=null,_t=_;;){if(_t.tag===5){if(st===null){st=_t;try{tt=_t.stateNode,ot?(et=tt.style,typeof et.setProperty=="function"?et.setProperty("display","none","important"):et.display="none"):(ct=_t.stateNode,rt=_t.memoizedProps.style,nt=rt!=null&&rt.hasOwnProperty("display")?rt.display:null,ct.style.display=rb("display",nt))}catch(kt){W(_,_.return,kt)}}}else if(_t.tag===6){if(st===null)try{_t.stateNode.nodeValue=ot?"":_t.memoizedProps}catch(kt){W(_,_.return,kt)}}else if((_t.tag!==22&&_t.tag!==23||_t.memoizedState===null||_t===_)&&_t.child!==null){_t.child.return=_t,_t=_t.child;continue}if(_t===_)break e;for(;_t.sibling===null;){if(_t.return===null||_t.return===_)break e;st===_t&&(st=null),_t=_t.return}st===_t&&(st=null),_t.sibling.return=_t.return,_t=_t.sibling}}break;case 19:dk(j,_),fk(_),_e&4&&bk(_);break;case 21:break;default:dk(j,_),fk(_)}}function fk(_){var j=_.flags;if(j&2){try{e:{for(var $=_.return;$!==null;){if(Uj($)){var _e=$;break e}$=$.return}throw Error(p$1(160))}switch(_e.tag){case 5:var tt=_e.stateNode;_e.flags&32&&(ob(tt,""),_e.flags&=-33);var et=Vj(_);Xj(_,et,tt);break;case 3:case 4:var nt=_e.stateNode.containerInfo,ct=Vj(_);Wj(_,ct,nt);break;default:throw Error(p$1(161))}}catch(rt){W(_,_.return,rt)}_.flags&=-3}j&4096&&(_.flags&=-4097)}function ik(_,j,$){V=_,jk(_)}function jk(_,j,$){for(var _e=(_.mode&1)!==0;V!==null;){var tt=V,et=tt.child;if(tt.tag===22&&_e){var nt=tt.memoizedState!==null||Kj;if(!nt){var ct=tt.alternate,rt=ct!==null&&ct.memoizedState!==null||U;ct=Kj;var ot=U;if(Kj=nt,(U=rt)&&!ot)for(V=tt;V!==null;)nt=V,rt=nt.child,nt.tag===22&&nt.memoizedState!==null?kk(tt):rt!==null?(rt.return=nt,V=rt):kk(tt);for(;et!==null;)V=et,jk(et),et=et.sibling;V=tt,Kj=ct,U=ot}lk(_)}else tt.subtreeFlags&8772&&et!==null?(et.return=tt,V=et):lk(_)}}function lk(_){for(;V!==null;){var j=V;if(j.flags&8772){var $=j.alternate;try{if(j.flags&8772)switch(j.tag){case 0:case 11:case 15:U||Rj(5,j);break;case 1:var _e=j.stateNode;if(j.flags&4&&!U)if($===null)_e.componentDidMount();else{var tt=j.elementType===j.type?$.memoizedProps:Lg(j.type,$.memoizedProps);_e.componentDidUpdate(tt,$.memoizedState,_e.__reactInternalSnapshotBeforeUpdate)}var et=j.updateQueue;et!==null&&ih(j,et,_e);break;case 3:var nt=j.updateQueue;if(nt!==null){if($=null,j.child!==null)switch(j.child.tag){case 5:$=j.child.stateNode;break;case 1:$=j.child.stateNode}ih(j,nt,$)}break;case 5:var ct=j.stateNode;if($===null&&j.flags&4){$=ct;var rt=j.memoizedProps;switch(j.type){case"button":case"input":case"select":case"textarea":rt.autoFocus&&$.focus();break;case"img":rt.src&&($.src=rt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(j.memoizedState===null){var ot=j.alternate;if(ot!==null){var st=ot.memoizedState;if(st!==null){var _t=st.dehydrated;_t!==null&&bd(_t)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U||j.flags&512&&Sj(j)}catch(yt){W(j,j.return,yt)}}if(j===_){V=null;break}if($=j.sibling,$!==null){$.return=j.return,V=$;break}V=j.return}}function hk(_){for(;V!==null;){var j=V;if(j===_){V=null;break}var $=j.sibling;if($!==null){$.return=j.return,V=$;break}V=j.return}}function kk(_){for(;V!==null;){var j=V;try{switch(j.tag){case 0:case 11:case 15:var $=j.return;try{Rj(4,j)}catch(rt){W(j,$,rt)}break;case 1:var _e=j.stateNode;if(typeof _e.componentDidMount=="function"){var tt=j.return;try{_e.componentDidMount()}catch(rt){W(j,tt,rt)}}var et=j.return;try{Sj(j)}catch(rt){W(j,et,rt)}break;case 5:var nt=j.return;try{Sj(j)}catch(rt){W(j,nt,rt)}}}catch(rt){W(j,j.return,rt)}if(j===_){V=null;break}var ct=j.sibling;if(ct!==null){ct.return=j.return,V=ct;break}V=j.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z$1=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(_){return _.mode&1?K&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(_=C$1,_!==0||(_=window.event,_=_===void 0?16:jd(_.type)),_):1}function mh(_,j,$,_e){if(50<zk)throw zk=0,Ak=null,Error(p$1(185));Ac(_,$,_e),(!(K&2)||_!==R)&&(_===R&&(!(K&2)&&(rk|=$),T===4&&Dk(_,Z$1)),Ek(_,_e),$===1&&K===0&&!(j.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(_,j){var $=_.callbackNode;wc(_,j);var _e=uc(_,_===R?Z$1:0);if(_e===0)$!==null&&bc($),_.callbackNode=null,_.callbackPriority=0;else if(j=_e&-_e,_.callbackPriority!==j){if($!=null&&bc($),j===1)_.tag===0?ig(Fk.bind(null,_)):hg(Fk.bind(null,_)),Jf(function(){!(K&6)&&jg()}),$=null;else{switch(Dc(_e)){case 1:$=fc;break;case 4:$=gc;break;case 16:$=hc;break;case 536870912:$=jc;break;default:$=hc}$=Gk($,Hk.bind(null,_))}_.callbackPriority=j,_.callbackNode=$}}function Hk(_,j){if(Bk=-1,Ck=0,K&6)throw Error(p$1(327));var $=_.callbackNode;if(Ik()&&_.callbackNode!==$)return null;var _e=uc(_,_===R?Z$1:0);if(_e===0)return null;if(_e&30||_e&_.expiredLanes||j)j=Jk(_,_e);else{j=_e;var tt=K;K|=2;var et=Kk();(R!==_||Z$1!==j)&&(vk=null,Hj=B()+500,Lk(_,j));do try{Mk();break}catch(ct){Nk(_,ct)}while(!0);Qg(),nk.current=et,K=tt,Y!==null?j=0:(R=null,Z$1=0,j=T)}if(j!==0){if(j===2&&(tt=xc(_),tt!==0&&(_e=tt,j=Ok(_,tt))),j===1)throw $=qk,Lk(_,0),Dk(_,_e),Ek(_,B()),$;if(j===6)Dk(_,_e);else{if(tt=_.current.alternate,!(_e&30)&&!Pk(tt)&&(j=Jk(_,_e),j===2&&(et=xc(_),et!==0&&(_e=et,j=Ok(_,et))),j===1))throw $=qk,Lk(_,0),Dk(_,_e),Ek(_,B()),$;switch(_.finishedWork=tt,_.finishedLanes=_e,j){case 0:case 1:throw Error(p$1(345));case 2:Qk(_,uk,vk);break;case 3:if(Dk(_,_e),(_e&130023424)===_e&&(j=gk+500-B(),10<j)){if(uc(_,0)!==0)break;if(tt=_.suspendedLanes,(tt&_e)!==_e){L(),_.pingedLanes|=_.suspendedLanes&tt;break}_.timeoutHandle=Ff(Qk.bind(null,_,uk,vk),j);break}Qk(_,uk,vk);break;case 4:if(Dk(_,_e),(_e&4194240)===_e)break;for(j=_.eventTimes,tt=-1;0<_e;){var nt=31-oc(_e);et=1<<nt,nt=j[nt],nt>tt&&(tt=nt),_e&=~et}if(_e=tt,_e=B()-_e,_e=(120>_e?120:480>_e?480:1080>_e?1080:1920>_e?1920:3e3>_e?3e3:4320>_e?4320:1960*mk(_e/1960))-_e,10<_e){_.timeoutHandle=Ff(Qk.bind(null,_,uk,vk),_e);break}Qk(_,uk,vk);break;case 5:Qk(_,uk,vk);break;default:throw Error(p$1(329))}}}return Ek(_,B()),_.callbackNode===$?Hk.bind(null,_):null}function Ok(_,j){var $=tk;return _.current.memoizedState.isDehydrated&&(Lk(_,j).flags|=256),_=Jk(_,j),_!==2&&(j=uk,uk=$,j!==null&&Gj(j)),_}function Gj(_){uk===null?uk=_:uk.push.apply(uk,_)}function Pk(_){for(var j=_;;){if(j.flags&16384){var $=j.updateQueue;if($!==null&&($=$.stores,$!==null))for(var _e=0;_e<$.length;_e++){var tt=$[_e],et=tt.getSnapshot;tt=tt.value;try{if(!He(et(),tt))return!1}catch{return!1}}}if($=j.child,j.subtreeFlags&16384&&$!==null)$.return=j,j=$;else{if(j===_)break;for(;j.sibling===null;){if(j.return===null||j.return===_)return!0;j=j.return}j.sibling.return=j.return,j=j.sibling}}return!0}function Dk(_,j){for(j&=~sk,j&=~rk,_.suspendedLanes|=j,_.pingedLanes&=~j,_=_.expirationTimes;0<j;){var $=31-oc(j),_e=1<<$;_[$]=-1,j&=~_e}}function Fk(_){if(K&6)throw Error(p$1(327));Ik();var j=uc(_,0);if(!(j&1))return Ek(_,B()),null;var $=Jk(_,j);if(_.tag!==0&&$===2){var _e=xc(_);_e!==0&&(j=_e,$=Ok(_,_e))}if($===1)throw $=qk,Lk(_,0),Dk(_,j),Ek(_,B()),$;if($===6)throw Error(p$1(345));return _.finishedWork=_.current.alternate,_.finishedLanes=j,Qk(_,uk,vk),Ek(_,B()),null}function Rk(_,j){var $=K;K|=1;try{return _(j)}finally{K=$,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(_){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var j=K;K|=1;var $=pk.transition,_e=C$1;try{if(pk.transition=null,C$1=1,_)return _()}finally{C$1=_e,pk.transition=$,K=j,!(K&6)&&jg()}}function Ij(){gj=fj.current,E$1(fj)}function Lk(_,j){_.finishedWork=null,_.finishedLanes=0;var $=_.timeoutHandle;if($!==-1&&(_.timeoutHandle=-1,Gf($)),Y!==null)for($=Y.return;$!==null;){var _e=$;switch(wg(_e),_e.tag){case 1:_e=_e.type.childContextTypes,_e!=null&&$f();break;case 3:Jh(),E$1(Wf),E$1(H),Oh();break;case 5:Lh(_e);break;case 4:Jh();break;case 13:E$1(M$1);break;case 19:E$1(M$1);break;case 10:Rg(_e.type._context);break;case 22:case 23:Ij()}$=$.return}if(R=_,Y=_=wh(_.current,null),Z$1=gj=j,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(j=0;j<Wg.length;j++)if($=Wg[j],_e=$.interleaved,_e!==null){$.interleaved=null;var tt=_e.next,et=$.pending;if(et!==null){var nt=et.next;et.next=tt,_e.next=nt}$.pending=_e}Wg=null}return _}function Nk(_,j){do{var $=Y;try{if(Qg(),Ph.current=ai,Sh){for(var _e=N.memoizedState;_e!==null;){var tt=_e.queue;tt!==null&&(tt.pending=null),_e=_e.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,$===null||$.return===null){T=1,qk=j,Y=null;break}e:{var et=_,nt=$.return,ct=$,rt=j;if(j=Z$1,ct.flags|=32768,rt!==null&&typeof rt=="object"&&typeof rt.then=="function"){var ot=rt,st=ct,_t=st.tag;if(!(st.mode&1)&&(_t===0||_t===11||_t===15)){var yt=st.alternate;yt?(st.updateQueue=yt.updateQueue,st.memoizedState=yt.memoizedState,st.lanes=yt.lanes):(st.updateQueue=null,st.memoizedState=null)}var gt=Vi(nt);if(gt!==null){gt.flags&=-257,Wi(gt,nt,ct,et,j),gt.mode&1&&Ti(et,ot,j),j=gt,rt=ot;var pt=j.updateQueue;if(pt===null){var kt=new Set;kt.add(rt),j.updateQueue=kt}else pt.add(rt);break e}else{if(!(j&1)){Ti(et,ot,j),uj();break e}rt=Error(p$1(426))}}else if(I$1&&ct.mode&1){var At=Vi(nt);if(At!==null){!(At.flags&65536)&&(At.flags|=256),Wi(At,nt,ct,et,j),Jg(Ki(rt,ct));break e}}et=rt=Ki(rt,ct),T!==4&&(T=2),tk===null?tk=[et]:tk.push(et),et=nt;do{switch(et.tag){case 3:et.flags|=65536,j&=-j,et.lanes|=j;var at=Oi(et,rt,j);fh(et,at);break e;case 1:ct=rt;var lt=et.type,dt=et.stateNode;if(!(et.flags&128)&&(typeof lt.getDerivedStateFromError=="function"||dt!==null&&typeof dt.componentDidCatch=="function"&&(Si===null||!Si.has(dt)))){et.flags|=65536,j&=-j,et.lanes|=j;var wt=Ri(et,ct,j);fh(et,wt);break e}}et=et.return}while(et!==null)}Tk($)}catch(ut){j=ut,Y===$&&$!==null&&(Y=$=$.return);continue}break}while(!0)}function Kk(){var _=nk.current;return nk.current=ai,_===null?ai:_}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z$1)}function Jk(_,j){var $=K;K|=2;var _e=Kk();(R!==_||Z$1!==j)&&(vk=null,Lk(_,j));do try{Uk();break}catch(tt){Nk(_,tt)}while(!0);if(Qg(),K=$,nk.current=_e,Y!==null)throw Error(p$1(261));return R=null,Z$1=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(_){var j=Wk(_.alternate,_,gj);_.memoizedProps=_.pendingProps,j===null?Tk(_):Y=j,ok.current=null}function Tk(_){var j=_;do{var $=j.alternate;if(_=j.return,j.flags&32768){if($=Jj($,j),$!==null){$.flags&=32767,Y=$;return}if(_!==null)_.flags|=32768,_.subtreeFlags=0,_.deletions=null;else{T=6,Y=null;return}}else if($=Fj($,j,gj),$!==null){Y=$;return}if(j=j.sibling,j!==null){Y=j;return}Y=j=_}while(j!==null);T===0&&(T=5)}function Qk(_,j,$){var _e=C$1,tt=pk.transition;try{pk.transition=null,C$1=1,Xk(_,j,$,_e)}finally{pk.transition=tt,C$1=_e}return null}function Xk(_,j,$,_e){do Ik();while(xk!==null);if(K&6)throw Error(p$1(327));$=_.finishedWork;var tt=_.finishedLanes;if($===null)return null;if(_.finishedWork=null,_.finishedLanes=0,$===_.current)throw Error(p$1(177));_.callbackNode=null,_.callbackPriority=0;var et=$.lanes|$.childLanes;if(Bc(_,et),_===R&&(Y=R=null,Z$1=0),!($.subtreeFlags&2064)&&!($.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),et=($.flags&15990)!==0,$.subtreeFlags&15990||et){et=pk.transition,pk.transition=null;var nt=C$1;C$1=1;var ct=K;K|=4,ok.current=null,Pj(_,$),ek($,_),Oe(Df),dd=!!Cf,Df=Cf=null,_.current=$,ik($),dc(),K=ct,C$1=nt,pk.transition=et}else _.current=$;if(wk&&(wk=!1,xk=_,yk=tt),et=_.pendingLanes,et===0&&(Si=null),mc($.stateNode),Ek(_,B()),j!==null)for(_e=_.onRecoverableError,$=0;$<j.length;$++)tt=j[$],_e(tt.value,{componentStack:tt.stack,digest:tt.digest});if(Pi)throw Pi=!1,_=Qi,Qi=null,_;return yk&1&&_.tag!==0&&Ik(),et=_.pendingLanes,et&1?_===Ak?zk++:(zk=0,Ak=_):zk=0,jg(),null}function Ik(){if(xk!==null){var _=Dc(yk),j=pk.transition,$=C$1;try{if(pk.transition=null,C$1=16>_?16:_,xk===null)var _e=!1;else{if(_=xk,xk=null,yk=0,K&6)throw Error(p$1(331));var tt=K;for(K|=4,V=_.current;V!==null;){var et=V,nt=et.child;if(V.flags&16){var ct=et.deletions;if(ct!==null){for(var rt=0;rt<ct.length;rt++){var ot=ct[rt];for(V=ot;V!==null;){var st=V;switch(st.tag){case 0:case 11:case 15:Qj(8,st,et)}var _t=st.child;if(_t!==null)_t.return=st,V=_t;else for(;V!==null;){st=V;var yt=st.sibling,gt=st.return;if(Tj(st),st===ot){V=null;break}if(yt!==null){yt.return=gt,V=yt;break}V=gt}}}var pt=et.alternate;if(pt!==null){var kt=pt.child;if(kt!==null){pt.child=null;do{var At=kt.sibling;kt.sibling=null,kt=At}while(kt!==null)}}V=et}}if(et.subtreeFlags&2064&&nt!==null)nt.return=et,V=nt;else e:for(;V!==null;){if(et=V,et.flags&2048)switch(et.tag){case 0:case 11:case 15:Qj(9,et,et.return)}var at=et.sibling;if(at!==null){at.return=et.return,V=at;break e}V=et.return}}var lt=_.current;for(V=lt;V!==null;){nt=V;var dt=nt.child;if(nt.subtreeFlags&2064&&dt!==null)dt.return=nt,V=dt;else e:for(nt=lt;V!==null;){if(ct=V,ct.flags&2048)try{switch(ct.tag){case 0:case 11:case 15:Rj(9,ct)}}catch(ut){W(ct,ct.return,ut)}if(ct===nt){V=null;break e}var wt=ct.sibling;if(wt!==null){wt.return=ct.return,V=wt;break e}V=ct.return}}if(K=tt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,_)}catch{}_e=!0}return _e}finally{C$1=$,pk.transition=j}}return!1}function Yk(_,j,$){j=Ki($,j),j=Oi(_,j,1),_=dh(_,j,1),j=L(),_!==null&&(Ac(_,1,j),Ek(_,j))}function W(_,j,$){if(_.tag===3)Yk(_,_,$);else for(;j!==null;){if(j.tag===3){Yk(j,_,$);break}else if(j.tag===1){var _e=j.stateNode;if(typeof j.type.getDerivedStateFromError=="function"||typeof _e.componentDidCatch=="function"&&(Si===null||!Si.has(_e))){_=Ki($,_),_=Ri(j,_,1),j=dh(j,_,1),_=L(),j!==null&&(Ac(j,1,_),Ek(j,_));break}}j=j.return}}function Ui(_,j,$){var _e=_.pingCache;_e!==null&&_e.delete(j),j=L(),_.pingedLanes|=_.suspendedLanes&$,R===_&&(Z$1&$)===$&&(T===4||T===3&&(Z$1&130023424)===Z$1&&500>B()-gk?Lk(_,0):sk|=$),Ek(_,j)}function Zk(_,j){j===0&&(_.mode&1?(j=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):j=1);var $=L();_=Zg(_,j),_!==null&&(Ac(_,j,$),Ek(_,$))}function vj(_){var j=_.memoizedState,$=0;j!==null&&($=j.retryLane),Zk(_,$)}function ck(_,j){var $=0;switch(_.tag){case 13:var _e=_.stateNode,tt=_.memoizedState;tt!==null&&($=tt.retryLane);break;case 19:_e=_.stateNode;break;default:throw Error(p$1(314))}_e!==null&&_e.delete(j),Zk(_,$)}var Wk;Wk=function(_,j,$){if(_!==null)if(_.memoizedProps!==j.pendingProps||Wf.current)Ug=!0;else{if(!(_.lanes&$)&&!(j.flags&128))return Ug=!1,zj(_,j,$);Ug=!!(_.flags&131072)}else Ug=!1,I$1&&j.flags&1048576&&ug(j,ng,j.index);switch(j.lanes=0,j.tag){case 2:var _e=j.type;jj(_,j),_=j.pendingProps;var tt=Yf(j,H.current);Tg(j,$),tt=Xh(null,j,_e,_,tt,$);var et=bi();return j.flags|=1,typeof tt=="object"&&tt!==null&&typeof tt.render=="function"&&tt.$$typeof===void 0?(j.tag=1,j.memoizedState=null,j.updateQueue=null,Zf(_e)?(et=!0,cg(j)):et=!1,j.memoizedState=tt.state!==null&&tt.state!==void 0?tt.state:null,ah(j),tt.updater=nh,j.stateNode=tt,tt._reactInternals=j,rh(j,_e,_,$),j=kj(null,j,_e,!0,et,$)):(j.tag=0,I$1&&et&&vg(j),Yi(null,j,tt,$),j=j.child),j;case 16:_e=j.elementType;e:{switch(jj(_,j),_=j.pendingProps,tt=_e._init,_e=tt(_e._payload),j.type=_e,tt=j.tag=$k(_e),_=Lg(_e,_),tt){case 0:j=dj(null,j,_e,_,$);break e;case 1:j=ij(null,j,_e,_,$);break e;case 11:j=Zi(null,j,_e,_,$);break e;case 14:j=aj(null,j,_e,Lg(_e.type,_),$);break e}throw Error(p$1(306,_e,""))}return j;case 0:return _e=j.type,tt=j.pendingProps,tt=j.elementType===_e?tt:Lg(_e,tt),dj(_,j,_e,tt,$);case 1:return _e=j.type,tt=j.pendingProps,tt=j.elementType===_e?tt:Lg(_e,tt),ij(_,j,_e,tt,$);case 3:e:{if(lj(j),_===null)throw Error(p$1(387));_e=j.pendingProps,et=j.memoizedState,tt=et.element,bh(_,j),gh(j,_e,null,$);var nt=j.memoizedState;if(_e=nt.element,et.isDehydrated)if(et={element:_e,isDehydrated:!1,cache:nt.cache,pendingSuspenseBoundaries:nt.pendingSuspenseBoundaries,transitions:nt.transitions},j.updateQueue.baseState=et,j.memoizedState=et,j.flags&256){tt=Ki(Error(p$1(423)),j),j=mj(_,j,_e,$,tt);break e}else if(_e!==tt){tt=Ki(Error(p$1(424)),j),j=mj(_,j,_e,$,tt);break e}else for(yg=Lf(j.stateNode.containerInfo.firstChild),xg=j,I$1=!0,zg=null,$=Ch(j,null,_e,$),j.child=$;$;)$.flags=$.flags&-3|4096,$=$.sibling;else{if(Ig(),_e===tt){j=$i(_,j,$);break e}Yi(_,j,_e,$)}j=j.child}return j;case 5:return Kh(j),_===null&&Eg(j),_e=j.type,tt=j.pendingProps,et=_!==null?_.memoizedProps:null,nt=tt.children,Ef(_e,tt)?nt=null:et!==null&&Ef(_e,et)&&(j.flags|=32),hj(_,j),Yi(_,j,nt,$),j.child;case 6:return _===null&&Eg(j),null;case 13:return pj(_,j,$);case 4:return Ih(j,j.stateNode.containerInfo),_e=j.pendingProps,_===null?j.child=Bh(j,null,_e,$):Yi(_,j,_e,$),j.child;case 11:return _e=j.type,tt=j.pendingProps,tt=j.elementType===_e?tt:Lg(_e,tt),Zi(_,j,_e,tt,$);case 7:return Yi(_,j,j.pendingProps,$),j.child;case 8:return Yi(_,j,j.pendingProps.children,$),j.child;case 12:return Yi(_,j,j.pendingProps.children,$),j.child;case 10:e:{if(_e=j.type._context,tt=j.pendingProps,et=j.memoizedProps,nt=tt.value,G(Mg,_e._currentValue),_e._currentValue=nt,et!==null)if(He(et.value,nt)){if(et.children===tt.children&&!Wf.current){j=$i(_,j,$);break e}}else for(et=j.child,et!==null&&(et.return=j);et!==null;){var ct=et.dependencies;if(ct!==null){nt=et.child;for(var rt=ct.firstContext;rt!==null;){if(rt.context===_e){if(et.tag===1){rt=ch(-1,$&-$),rt.tag=2;var ot=et.updateQueue;if(ot!==null){ot=ot.shared;var st=ot.pending;st===null?rt.next=rt:(rt.next=st.next,st.next=rt),ot.pending=rt}}et.lanes|=$,rt=et.alternate,rt!==null&&(rt.lanes|=$),Sg(et.return,$,j),ct.lanes|=$;break}rt=rt.next}}else if(et.tag===10)nt=et.type===j.type?null:et.child;else if(et.tag===18){if(nt=et.return,nt===null)throw Error(p$1(341));nt.lanes|=$,ct=nt.alternate,ct!==null&&(ct.lanes|=$),Sg(nt,$,j),nt=et.sibling}else nt=et.child;if(nt!==null)nt.return=et;else for(nt=et;nt!==null;){if(nt===j){nt=null;break}if(et=nt.sibling,et!==null){et.return=nt.return,nt=et;break}nt=nt.return}et=nt}Yi(_,j,tt.children,$),j=j.child}return j;case 9:return tt=j.type,_e=j.pendingProps.children,Tg(j,$),tt=Vg(tt),_e=_e(tt),j.flags|=1,Yi(_,j,_e,$),j.child;case 14:return _e=j.type,tt=Lg(_e,j.pendingProps),tt=Lg(_e.type,tt),aj(_,j,_e,tt,$);case 15:return cj(_,j,j.type,j.pendingProps,$);case 17:return _e=j.type,tt=j.pendingProps,tt=j.elementType===_e?tt:Lg(_e,tt),jj(_,j),j.tag=1,Zf(_e)?(_=!0,cg(j)):_=!1,Tg(j,$),ph(j,_e,tt),rh(j,_e,tt,$),kj(null,j,_e,!0,_,$);case 19:return yj(_,j,$);case 22:return ej(_,j,$)}throw Error(p$1(156,j.tag))};function Gk(_,j){return ac(_,j)}function al(_,j,$,_e){this.tag=_,this.key=$,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=j,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_e,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(_,j,$,_e){return new al(_,j,$,_e)}function bj(_){return _=_.prototype,!(!_||!_.isReactComponent)}function $k(_){if(typeof _=="function")return bj(_)?1:0;if(_!=null){if(_=_.$$typeof,_===Da)return 11;if(_===Ga)return 14}return 2}function wh(_,j){var $=_.alternate;return $===null?($=Bg(_.tag,j,_.key,_.mode),$.elementType=_.elementType,$.type=_.type,$.stateNode=_.stateNode,$.alternate=_,_.alternate=$):($.pendingProps=j,$.type=_.type,$.flags=0,$.subtreeFlags=0,$.deletions=null),$.flags=_.flags&14680064,$.childLanes=_.childLanes,$.lanes=_.lanes,$.child=_.child,$.memoizedProps=_.memoizedProps,$.memoizedState=_.memoizedState,$.updateQueue=_.updateQueue,j=_.dependencies,$.dependencies=j===null?null:{lanes:j.lanes,firstContext:j.firstContext},$.sibling=_.sibling,$.index=_.index,$.ref=_.ref,$}function yh(_,j,$,_e,tt,et){var nt=2;if(_e=_,typeof _=="function")bj(_)&&(nt=1);else if(typeof _=="string")nt=5;else e:switch(_){case ya:return Ah($.children,tt,et,j);case za:nt=8,tt|=8;break;case Aa:return _=Bg(12,$,j,tt|2),_.elementType=Aa,_.lanes=et,_;case Ea:return _=Bg(13,$,j,tt),_.elementType=Ea,_.lanes=et,_;case Fa:return _=Bg(19,$,j,tt),_.elementType=Fa,_.lanes=et,_;case Ia:return qj($,tt,et,j);default:if(typeof _=="object"&&_!==null)switch(_.$$typeof){case Ba:nt=10;break e;case Ca:nt=9;break e;case Da:nt=11;break e;case Ga:nt=14;break e;case Ha:nt=16,_e=null;break e}throw Error(p$1(130,_==null?_:typeof _,""))}return j=Bg(nt,$,j,tt),j.elementType=_,j.type=_e,j.lanes=et,j}function Ah(_,j,$,_e){return _=Bg(7,_,_e,j),_.lanes=$,_}function qj(_,j,$,_e){return _=Bg(22,_,_e,j),_.elementType=Ia,_.lanes=$,_.stateNode={isHidden:!1},_}function xh(_,j,$){return _=Bg(6,_,null,j),_.lanes=$,_}function zh(_,j,$){return j=Bg(4,_.children!==null?_.children:[],_.key,j),j.lanes=$,j.stateNode={containerInfo:_.containerInfo,pendingChildren:null,implementation:_.implementation},j}function bl(_,j,$,_e,tt){this.tag=j,this.containerInfo=_,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=_e,this.onRecoverableError=tt,this.mutableSourceEagerHydrationData=null}function cl(_,j,$,_e,tt,et,nt,ct,rt){return _=new bl(_,j,$,ct,rt),j===1?(j=1,et===!0&&(j|=8)):j=0,et=Bg(3,null,null,j),_.current=et,et.stateNode=_,et.memoizedState={element:_e,isDehydrated:$,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(et),_}function dl(_,j,$){var _e=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:_e==null?null:""+_e,children:_,containerInfo:j,implementation:$}}function el(_){if(!_)return Vf;_=_._reactInternals;e:{if(Vb(_)!==_||_.tag!==1)throw Error(p$1(170));var j=_;do{switch(j.tag){case 3:j=j.stateNode.context;break e;case 1:if(Zf(j.type)){j=j.stateNode.__reactInternalMemoizedMergedChildContext;break e}}j=j.return}while(j!==null);throw Error(p$1(171))}if(_.tag===1){var $=_.type;if(Zf($))return bg(_,$,j)}return j}function fl(_,j,$,_e,tt,et,nt,ct,rt){return _=cl($,_e,!0,_,tt,et,nt,ct,rt),_.context=el(null),$=_.current,_e=L(),tt=lh($),et=ch(_e,tt),et.callback=j??null,dh($,et,tt),_.current.lanes=tt,Ac(_,tt,_e),Ek(_,_e),_}function gl(_,j,$,_e){var tt=j.current,et=L(),nt=lh(tt);return $=el($),j.context===null?j.context=$:j.pendingContext=$,j=ch(et,nt),j.payload={element:_},_e=_e===void 0?null:_e,_e!==null&&(j.callback=_e),_=dh(tt,j,nt),_!==null&&(mh(_,tt,nt,et),eh(_,tt,nt)),nt}function hl(_){if(_=_.current,!_.child)return null;switch(_.child.tag){case 5:return _.child.stateNode;default:return _.child.stateNode}}function il(_,j){if(_=_.memoizedState,_!==null&&_.dehydrated!==null){var $=_.retryLane;_.retryLane=$!==0&&$<j?$:j}}function jl(_,j){il(_,j),(_=_.alternate)&&il(_,j)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(_){console.error(_)};function ml(_){this._internalRoot=_}nl.prototype.render=ml.prototype.render=function(_){var j=this._internalRoot;if(j===null)throw Error(p$1(409));gl(_,j,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var _=this._internalRoot;if(_!==null){this._internalRoot=null;var j=_.containerInfo;Sk(function(){gl(null,_,null,null)}),j[uf]=null}};function nl(_){this._internalRoot=_}nl.prototype.unstable_scheduleHydration=function(_){if(_){var j=Hc();_={blockedOn:null,target:_,priority:j};for(var $=0;$<Qc.length&&j!==0&&j<Qc[$].priority;$++);Qc.splice($,0,_),$===0&&Vc(_)}};function ol(_){return!(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)}function pl(_){return!(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11&&(_.nodeType!==8||_.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(_,j,$,_e,tt){if(tt){if(typeof _e=="function"){var et=_e;_e=function(){var ot=hl(nt);et.call(ot)}}var nt=fl(j,_e,_,0,null,!1,!1,"",ql);return _._reactRootContainer=nt,_[uf]=nt.current,sf(_.nodeType===8?_.parentNode:_),Sk(),nt}for(;tt=_.lastChild;)_.removeChild(tt);if(typeof _e=="function"){var ct=_e;_e=function(){var ot=hl(rt);ct.call(ot)}}var rt=cl(_,0,!1,null,null,!1,!1,"",ql);return _._reactRootContainer=rt,_[uf]=rt.current,sf(_.nodeType===8?_.parentNode:_),Sk(function(){gl(j,rt,$,_e)}),rt}function sl(_,j,$,_e,tt){var et=$._reactRootContainer;if(et){var nt=et;if(typeof tt=="function"){var ct=tt;tt=function(){var rt=hl(nt);ct.call(rt)}}gl(j,nt,_,tt)}else nt=rl($,j,_,tt,_e);return hl(nt)}Ec=function(_){switch(_.tag){case 3:var j=_.stateNode;if(j.current.memoizedState.isDehydrated){var $=tc(j.pendingLanes);$!==0&&(Cc(j,$|1),Ek(j,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var _e=Zg(_,1);if(_e!==null){var tt=L();mh(_e,_,1,tt)}}),jl(_,1)}};Fc=function(_){if(_.tag===13){var j=Zg(_,134217728);if(j!==null){var $=L();mh(j,_,134217728,$)}jl(_,134217728)}};Gc=function(_){if(_.tag===13){var j=lh(_),$=Zg(_,j);if($!==null){var _e=L();mh($,_,j,_e)}jl(_,j)}};Hc=function(){return C$1};Ic=function(_,j){var $=C$1;try{return C$1=_,j()}finally{C$1=$}};yb=function(_,j,$){switch(j){case"input":if(bb(_,$),j=$.name,$.type==="radio"&&j!=null){for($=_;$.parentNode;)$=$.parentNode;for($=$.querySelectorAll("input[name="+JSON.stringify(""+j)+'][type="radio"]'),j=0;j<$.length;j++){var _e=$[j];if(_e!==_&&_e.form===_.form){var tt=Db(_e);if(!tt)throw Error(p$1(90));Wa(_e),bb(_e,tt)}}}break;case"textarea":ib(_,$);break;case"select":j=$.value,j!=null&&fb(_,!!$.multiple,j,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(_){return _=Zb(_),_===null?null:_.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(_,j){var $=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(j))throw Error(p$1(200));return dl(_,j,null,$)};reactDom_production_min.createRoot=function(_,j){if(!ol(_))throw Error(p$1(299));var $=!1,_e="",tt=ll;return j!=null&&(j.unstable_strictMode===!0&&($=!0),j.identifierPrefix!==void 0&&(_e=j.identifierPrefix),j.onRecoverableError!==void 0&&(tt=j.onRecoverableError)),j=cl(_,1,!1,null,null,$,!1,_e,tt),_[uf]=j.current,sf(_.nodeType===8?_.parentNode:_),new ml(j)};reactDom_production_min.findDOMNode=function(_){if(_==null)return null;if(_.nodeType===1)return _;var j=_._reactInternals;if(j===void 0)throw typeof _.render=="function"?Error(p$1(188)):(_=Object.keys(_).join(","),Error(p$1(268,_)));return _=Zb(j),_=_===null?null:_.stateNode,_};reactDom_production_min.flushSync=function(_){return Sk(_)};reactDom_production_min.hydrate=function(_,j,$){if(!pl(j))throw Error(p$1(200));return sl(null,_,j,!0,$)};reactDom_production_min.hydrateRoot=function(_,j,$){if(!ol(_))throw Error(p$1(405));var _e=$!=null&&$.hydratedSources||null,tt=!1,et="",nt=ll;if($!=null&&($.unstable_strictMode===!0&&(tt=!0),$.identifierPrefix!==void 0&&(et=$.identifierPrefix),$.onRecoverableError!==void 0&&(nt=$.onRecoverableError)),j=fl(j,null,_,1,$??null,tt,!1,et,nt),_[uf]=j.current,sf(_),_e)for(_=0;_<_e.length;_++)$=_e[_],tt=$._getVersion,tt=tt($._source),j.mutableSourceEagerHydrationData==null?j.mutableSourceEagerHydrationData=[$,tt]:j.mutableSourceEagerHydrationData.push($,tt);return new nl(j)};reactDom_production_min.render=function(_,j,$){if(!pl(j))throw Error(p$1(200));return sl(null,_,j,!1,$)};reactDom_production_min.unmountComponentAtNode=function(_){if(!pl(_))throw Error(p$1(40));return _._reactRootContainer?(Sk(function(){sl(null,null,_,!1,function(){_._reactRootContainer=null,_[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_,j,$,_e){if(!pl($))throw Error(p$1(200));if(_==null||_._reactInternals===void 0)throw Error(p$1(38));return sl(_,j,$,!1,_e)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(_){console.error(_)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$1=reactDomExports;client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;var dist={};Object.defineProperty(dist,"__esModule",{value:!0});dist.parse=parse;dist.serialize=serialize;const cookieNameRegExp=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,cookieValueRegExp=/^[\u0021-\u003A\u003C-\u007E]*$/,domainValueRegExp=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,pathValueRegExp=/^[\u0020-\u003A\u003D-\u007E]*$/,__toString=Object.prototype.toString,NullObject=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function parse(_,j){const $=new NullObject,_e=_.length;if(_e<2)return $;const tt=(j==null?void 0:j.decode)||decode;let et=0;do{const nt=_.indexOf("=",et);if(nt===-1)break;const ct=_.indexOf(";",et),rt=ct===-1?_e:ct;if(nt>rt){et=_.lastIndexOf(";",nt-1)+1;continue}const ot=startIndex(_,et,nt),st=endIndex(_,nt,ot),_t=_.slice(ot,st);if($[_t]===void 0){let yt=startIndex(_,nt+1,rt),gt=endIndex(_,rt,yt);const pt=tt(_.slice(yt,gt));$[_t]=pt}et=rt+1}while(et<_e);return $}function startIndex(_,j,$){do{const _e=_.charCodeAt(j);if(_e!==32&&_e!==9)return j}while(++j<$);return $}function endIndex(_,j,$){for(;j>$;){const _e=_.charCodeAt(--j);if(_e!==32&&_e!==9)return j+1}return $}function serialize(_,j,$){const _e=($==null?void 0:$.encode)||encodeURIComponent;if(!cookieNameRegExp.test(_))throw new TypeError(`argument name is invalid: ${_}`);const tt=_e(j);if(!cookieValueRegExp.test(tt))throw new TypeError(`argument val is invalid: ${j}`);let et=_+"="+tt;if(!$)return et;if($.maxAge!==void 0){if(!Number.isInteger($.maxAge))throw new TypeError(`option maxAge is invalid: ${$.maxAge}`);et+="; Max-Age="+$.maxAge}if($.domain){if(!domainValueRegExp.test($.domain))throw new TypeError(`option domain is invalid: ${$.domain}`);et+="; Domain="+$.domain}if($.path){if(!pathValueRegExp.test($.path))throw new TypeError(`option path is invalid: ${$.path}`);et+="; Path="+$.path}if($.expires){if(!isDate($.expires)||!Number.isFinite($.expires.valueOf()))throw new TypeError(`option expires is invalid: ${$.expires}`);et+="; Expires="+$.expires.toUTCString()}if($.httpOnly&&(et+="; HttpOnly"),$.secure&&(et+="; Secure"),$.partitioned&&(et+="; Partitioned"),$.priority)switch(typeof $.priority=="string"?$.priority.toLowerCase():void 0){case"low":et+="; Priority=Low";break;case"medium":et+="; Priority=Medium";break;case"high":et+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${$.priority}`)}if($.sameSite)switch(typeof $.sameSite=="string"?$.sameSite.toLowerCase():$.sameSite){case!0:case"strict":et+="; SameSite=Strict";break;case"lax":et+="; SameSite=Lax";break;case"none":et+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${$.sameSite}`)}return et}function decode(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function isDate(_){return __toString.call(_)==="[object Date]"}/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createBrowserHistory(_={}){function j(_e,tt){let{pathname:et,search:nt,hash:ct}=_e.location;return createLocation("",{pathname:et,search:nt,hash:ct},tt.state&&tt.state.usr||null,tt.state&&tt.state.key||"default")}function $(_e,tt){return typeof tt=="string"?tt:createPath(tt)}return getUrlBasedHistory(j,$,null,_)}function invariant(_,j){if(_===!1||_===null||typeof _>"u")throw new Error(j)}function warning(_,j){if(!_){typeof console<"u"&&console.warn(j);try{throw new Error(j)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(_,j){return{usr:_.state,key:_.key,idx:j}}function createLocation(_,j,$=null,_e){return{pathname:typeof _=="string"?_:_.pathname,search:"",hash:"",...typeof j=="string"?parsePath(j):j,state:$,key:j&&j.key||_e||createKey()}}function createPath({pathname:_="/",search:j="",hash:$=""}){return j&&j!=="?"&&(_+=j.charAt(0)==="?"?j:"?"+j),$&&$!=="#"&&(_+=$.charAt(0)==="#"?$:"#"+$),_}function parsePath(_){let j={};if(_){let $=_.indexOf("#");$>=0&&(j.hash=_.substring($),_=_.substring(0,$));let _e=_.indexOf("?");_e>=0&&(j.search=_.substring(_e),_=_.substring(0,_e)),_&&(j.pathname=_)}return j}function getUrlBasedHistory(_,j,$,_e={}){let{window:tt=document.defaultView,v5Compat:et=!1}=_e,nt=tt.history,ct="POP",rt=null,ot=st();ot==null&&(ot=0,nt.replaceState({...nt.state,idx:ot},""));function st(){return(nt.state||{idx:null}).idx}function _t(){ct="POP";let At=st(),at=At==null?null:At-ot;ot=At,rt&&rt({action:ct,location:kt.location,delta:at})}function yt(At,at){ct="PUSH";let lt=createLocation(kt.location,At,at);ot=st()+1;let dt=getHistoryState(lt,ot),wt=kt.createHref(lt);try{nt.pushState(dt,"",wt)}catch(ut){if(ut instanceof DOMException&&ut.name==="DataCloneError")throw ut;tt.location.assign(wt)}et&&rt&&rt({action:ct,location:kt.location,delta:1})}function gt(At,at){ct="REPLACE";let lt=createLocation(kt.location,At,at);ot=st();let dt=getHistoryState(lt,ot),wt=kt.createHref(lt);nt.replaceState(dt,"",wt),et&&rt&&rt({action:ct,location:kt.location,delta:0})}function pt(At){let at=tt.location.origin!=="null"?tt.location.origin:tt.location.href,lt=typeof At=="string"?At:createPath(At);return lt=lt.replace(/ $/,"%20"),invariant(at,`No window.location.(origin|href) available to create URL for href: ${lt}`),new URL(lt,at)}let kt={get action(){return ct},get location(){return _(tt,nt)},listen(At){if(rt)throw new Error("A history only accepts one active listener");return tt.addEventListener(PopStateEventType,_t),rt=At,()=>{tt.removeEventListener(PopStateEventType,_t),rt=null}},createHref(At){return j(tt,At)},createURL:pt,encodeLocation(At){let at=pt(At);return{pathname:at.pathname,search:at.search,hash:at.hash}},push:yt,replace:gt,go(At){return nt.go(At)}};return kt}function matchRoutes(_,j,$="/"){return matchRoutesImpl(_,j,$,!1)}function matchRoutesImpl(_,j,$,_e){let tt=typeof j=="string"?parsePath(j):j,et=stripBasename(tt.pathname||"/",$);if(et==null)return null;let nt=flattenRoutes(_);rankRouteBranches(nt);let ct=null;for(let rt=0;ct==null&&rt<nt.length;++rt){let ot=decodePath(et);ct=matchRouteBranch(nt[rt],ot,_e)}return ct}function flattenRoutes(_,j=[],$=[],_e=""){let tt=(et,nt,ct)=>{let rt={relativePath:ct===void 0?et.path||"":ct,caseSensitive:et.caseSensitive===!0,childrenIndex:nt,route:et};rt.relativePath.startsWith("/")&&(invariant(rt.relativePath.startsWith(_e),`Absolute route path "${rt.relativePath}" nested under path "${_e}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),rt.relativePath=rt.relativePath.slice(_e.length));let ot=joinPaths([_e,rt.relativePath]),st=$.concat(rt);et.children&&et.children.length>0&&(invariant(et.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${ot}".`),flattenRoutes(et.children,j,st,ot)),!(et.path==null&&!et.index)&&j.push({path:ot,score:computeScore(ot,et.index),routesMeta:st})};return _.forEach((et,nt)=>{var ct;if(et.path===""||!((ct=et.path)!=null&&ct.includes("?")))tt(et,nt);else for(let rt of explodeOptionalSegments(et.path))tt(et,nt,rt)}),j}function explodeOptionalSegments(_){let j=_.split("/");if(j.length===0)return[];let[$,..._e]=j,tt=$.endsWith("?"),et=$.replace(/\?$/,"");if(_e.length===0)return tt?[et,""]:[et];let nt=explodeOptionalSegments(_e.join("/")),ct=[];return ct.push(...nt.map(rt=>rt===""?et:[et,rt].join("/"))),tt&&ct.push(...nt),ct.map(rt=>_.startsWith("/")&&rt===""?"/":rt)}function rankRouteBranches(_){_.sort((j,$)=>j.score!==$.score?$.score-j.score:compareIndexes(j.routesMeta.map(_e=>_e.childrenIndex),$.routesMeta.map(_e=>_e.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=_=>_==="*";function computeScore(_,j){let $=_.split("/"),_e=$.length;return $.some(isSplat)&&(_e+=splatPenalty),j&&(_e+=indexRouteValue),$.filter(tt=>!isSplat(tt)).reduce((tt,et)=>tt+(paramRe.test(et)?dynamicSegmentValue:et===""?emptySegmentValue:staticSegmentValue),_e)}function compareIndexes(_,j){return _.length===j.length&&_.slice(0,-1).every((_e,tt)=>_e===j[tt])?_[_.length-1]-j[j.length-1]:0}function matchRouteBranch(_,j,$=!1){let{routesMeta:_e}=_,tt={},et="/",nt=[];for(let ct=0;ct<_e.length;++ct){let rt=_e[ct],ot=ct===_e.length-1,st=et==="/"?j:j.slice(et.length)||"/",_t=matchPath({path:rt.relativePath,caseSensitive:rt.caseSensitive,end:ot},st),yt=rt.route;if(!_t&&ot&&$&&!_e[_e.length-1].route.index&&(_t=matchPath({path:rt.relativePath,caseSensitive:rt.caseSensitive,end:!1},st)),!_t)return null;Object.assign(tt,_t.params),nt.push({params:tt,pathname:joinPaths([et,_t.pathname]),pathnameBase:normalizePathname(joinPaths([et,_t.pathnameBase])),route:yt}),_t.pathnameBase!=="/"&&(et=joinPaths([et,_t.pathnameBase]))}return nt}function matchPath(_,j){typeof _=="string"&&(_={path:_,caseSensitive:!1,end:!0});let[$,_e]=compilePath(_.path,_.caseSensitive,_.end),tt=j.match($);if(!tt)return null;let et=tt[0],nt=et.replace(/(.)\/+$/,"$1"),ct=tt.slice(1);return{params:_e.reduce((ot,{paramName:st,isOptional:_t},yt)=>{if(st==="*"){let pt=ct[yt]||"";nt=et.slice(0,et.length-pt.length).replace(/(.)\/+$/,"$1")}const gt=ct[yt];return _t&&!gt?ot[st]=void 0:ot[st]=(gt||"").replace(/%2F/g,"/"),ot},{}),pathname:et,pathnameBase:nt,pattern:_}}function compilePath(_,j=!1,$=!0){warning(_==="*"||!_.endsWith("*")||_.endsWith("/*"),`Route path "${_}" will be treated as if it were "${_.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${_.replace(/\*$/,"/*")}".`);let _e=[],tt="^"+_.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(nt,ct,rt)=>(_e.push({paramName:ct,isOptional:rt!=null}),rt?"/?([^\\/]+)?":"/([^\\/]+)"));return _.endsWith("*")?(_e.push({paramName:"*"}),tt+=_==="*"||_==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):$?tt+="\\/*$":_!==""&&_!=="/"&&(tt+="(?:(?=\\/|$))"),[new RegExp(tt,j?void 0:"i"),_e]}function decodePath(_){try{return _.split("/").map(j=>decodeURIComponent(j).replace(/\//g,"%2F")).join("/")}catch(j){return warning(!1,`The URL path "${_}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${j}).`),_}}function stripBasename(_,j){if(j==="/")return _;if(!_.toLowerCase().startsWith(j.toLowerCase()))return null;let $=j.endsWith("/")?j.length-1:j.length,_e=_.charAt($);return _e&&_e!=="/"?null:_.slice($)||"/"}function resolvePath(_,j="/"){let{pathname:$,search:_e="",hash:tt=""}=typeof _=="string"?parsePath(_):_;return{pathname:$?$.startsWith("/")?$:resolvePathname($,j):j,search:normalizeSearch(_e),hash:normalizeHash(tt)}}function resolvePathname(_,j){let $=j.replace(/\/+$/,"").split("/");return _.split("/").forEach(tt=>{tt===".."?$.length>1&&$.pop():tt!=="."&&$.push(tt)}),$.length>1?$.join("/"):"/"}function getInvalidPathError(_,j,$,_e){return`Cannot include a '${_}' character in a manually specified \`to.${j}\` field [${JSON.stringify(_e)}].  Please separate it out to the \`to.${$}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(_){return _.filter((j,$)=>$===0||j.route.path&&j.route.path.length>0)}function getResolveToMatches(_){let j=getPathContributingMatches(_);return j.map(($,_e)=>_e===j.length-1?$.pathname:$.pathnameBase)}function resolveTo(_,j,$,_e=!1){let tt;typeof _=="string"?tt=parsePath(_):(tt={..._},invariant(!tt.pathname||!tt.pathname.includes("?"),getInvalidPathError("?","pathname","search",tt)),invariant(!tt.pathname||!tt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",tt)),invariant(!tt.search||!tt.search.includes("#"),getInvalidPathError("#","search","hash",tt)));let et=_===""||tt.pathname==="",nt=et?"/":tt.pathname,ct;if(nt==null)ct=$;else{let _t=j.length-1;if(!_e&&nt.startsWith("..")){let yt=nt.split("/");for(;yt[0]==="..";)yt.shift(),_t-=1;tt.pathname=yt.join("/")}ct=_t>=0?j[_t]:"/"}let rt=resolvePath(tt,ct),ot=nt&&nt!=="/"&&nt.endsWith("/"),st=(et||nt===".")&&$.endsWith("/");return!rt.pathname.endsWith("/")&&(ot||st)&&(rt.pathname+="/"),rt}var joinPaths=_=>_.join("/").replace(/\/\/+/g,"/"),normalizePathname=_=>_.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=_=>!_||_==="?"?"":_.startsWith("?")?_:"?"+_,normalizeHash=_=>!_||_==="#"?"":_.startsWith("#")?_:"#"+_;function isRouteErrorResponse(_){return _!=null&&typeof _.status=="number"&&typeof _.statusText=="string"&&typeof _.internal=="boolean"&&"data"in _}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(_,{relative:j}={}){invariant(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:$,navigator:_e}=reactExports.useContext(NavigationContext),{hash:tt,pathname:et,search:nt}=useResolvedPath(_,{relative:j}),ct=et;return $!=="/"&&(ct=et==="/"?$:joinPaths([$,et])),_e.createHref({pathname:ct,search:nt,hash:tt})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect(_){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(_)}function useNavigate(){let{isDataRoute:_}=reactExports.useContext(RouteContext);return _?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let _=reactExports.useContext(DataRouterContext),{basename:j,navigator:$}=reactExports.useContext(NavigationContext),{matches:_e}=reactExports.useContext(RouteContext),{pathname:tt}=useLocation(),et=JSON.stringify(getResolveToMatches(_e)),nt=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{nt.current=!0}),reactExports.useCallback((rt,ot={})=>{if(warning(nt.current,navigateEffectWarning),!nt.current)return;if(typeof rt=="number"){$.go(rt);return}let st=resolveTo(rt,JSON.parse(et),tt,ot.relative==="path");_==null&&j!=="/"&&(st.pathname=st.pathname==="/"?j:joinPaths([j,st.pathname])),(ot.replace?$.replace:$.push)(st,ot.state,ot)},[j,$,et,tt,_])}reactExports.createContext(null);function useResolvedPath(_,{relative:j}={}){let{matches:$}=reactExports.useContext(RouteContext),{pathname:_e}=useLocation(),tt=JSON.stringify(getResolveToMatches($));return reactExports.useMemo(()=>resolveTo(_,JSON.parse(tt),_e,j==="path"),[_,tt,_e,j])}function useRoutes(_,j){return useRoutesImpl(_,j)}function useRoutesImpl(_,j,$,_e){var lt;invariant(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:tt,static:et}=reactExports.useContext(NavigationContext),{matches:nt}=reactExports.useContext(RouteContext),ct=nt[nt.length-1],rt=ct?ct.params:{},ot=ct?ct.pathname:"/",st=ct?ct.pathnameBase:"/",_t=ct&&ct.route;{let dt=_t&&_t.path||"";warningOnce(ot,!_t||dt.endsWith("*")||dt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${ot}" (under <Route path="${dt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${dt}"> to <Route path="${dt==="/"?"*":`${dt}/*`}">.`)}let yt=useLocation(),gt;if(j){let dt=typeof j=="string"?parsePath(j):j;invariant(st==="/"||((lt=dt.pathname)==null?void 0:lt.startsWith(st)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${st}" but pathname "${dt.pathname}" was given in the \`location\` prop.`),gt=dt}else gt=yt;let pt=gt.pathname||"/",kt=pt;if(st!=="/"){let dt=st.replace(/^\//,"").split("/");kt="/"+pt.replace(/^\//,"").split("/").slice(dt.length).join("/")}let At=!et&&$&&$.matches&&$.matches.length>0?$.matches:matchRoutes(_,{pathname:kt});warning(_t||At!=null,`No routes matched location "${gt.pathname}${gt.search}${gt.hash}" `),warning(At==null||At[At.length-1].route.element!==void 0||At[At.length-1].route.Component!==void 0||At[At.length-1].route.lazy!==void 0,`Matched leaf route at location "${gt.pathname}${gt.search}${gt.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let at=_renderMatches(At&&At.map(dt=>Object.assign({},dt,{params:Object.assign({},rt,dt.params),pathname:joinPaths([st,tt.encodeLocation?tt.encodeLocation(dt.pathname).pathname:dt.pathname]),pathnameBase:dt.pathnameBase==="/"?st:joinPaths([st,tt.encodeLocation?tt.encodeLocation(dt.pathnameBase).pathname:dt.pathnameBase])})),nt,$,_e);return j&&at?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...gt},navigationType:"POP"}},at):at}function DefaultErrorComponent(){let _=useRouteError(),j=isRouteErrorResponse(_)?`${_.status} ${_.statusText}`:_ instanceof Error?_.message:JSON.stringify(_),$=_ instanceof Error?_.stack:null,_e="rgba(200,200,200, 0.5)",tt={padding:"0.5rem",backgroundColor:_e},et={padding:"2px 4px",backgroundColor:_e},nt=null;return console.error("Error handled by React Router default ErrorBoundary:",_),nt=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:et},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:et},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},j),$?reactExports.createElement("pre",{style:tt},$):null,nt)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(_){super(_),this.state={location:_.location,revalidation:_.revalidation,error:_.error}}static getDerivedStateFromError(_){return{error:_}}static getDerivedStateFromProps(_,j){return j.location!==_.location||j.revalidation!=="idle"&&_.revalidation==="idle"?{error:_.error,location:_.location,revalidation:_.revalidation}:{error:_.error!==void 0?_.error:j.error,location:j.location,revalidation:_.revalidation||j.revalidation}}componentDidCatch(_,j){console.error("React Router caught the following error during render",_,j)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:_,match:j,children:$}){let _e=reactExports.useContext(DataRouterContext);return _e&&_e.static&&_e.staticContext&&(j.route.errorElement||j.route.ErrorBoundary)&&(_e.staticContext._deepestRenderedBoundaryId=j.route.id),reactExports.createElement(RouteContext.Provider,{value:_},$)}function _renderMatches(_,j=[],$=null,_e=null){if(_==null){if(!$)return null;if($.errors)_=$.matches;else if(j.length===0&&!$.initialized&&$.matches.length>0)_=$.matches;else return null}let tt=_,et=$==null?void 0:$.errors;if(et!=null){let rt=tt.findIndex(ot=>ot.route.id&&(et==null?void 0:et[ot.route.id])!==void 0);invariant(rt>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(et).join(",")}`),tt=tt.slice(0,Math.min(tt.length,rt+1))}let nt=!1,ct=-1;if($)for(let rt=0;rt<tt.length;rt++){let ot=tt[rt];if((ot.route.HydrateFallback||ot.route.hydrateFallbackElement)&&(ct=rt),ot.route.id){let{loaderData:st,errors:_t}=$,yt=ot.route.loader&&!st.hasOwnProperty(ot.route.id)&&(!_t||_t[ot.route.id]===void 0);if(ot.route.lazy||yt){nt=!0,ct>=0?tt=tt.slice(0,ct+1):tt=[tt[0]];break}}}return tt.reduceRight((rt,ot,st)=>{let _t,yt=!1,gt=null,pt=null;$&&(_t=et&&ot.route.id?et[ot.route.id]:void 0,gt=ot.route.errorElement||defaultErrorElement,nt&&(ct<0&&st===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),yt=!0,pt=null):ct===st&&(yt=!0,pt=ot.route.hydrateFallbackElement||null)));let kt=j.concat(tt.slice(0,st+1)),At=()=>{let at;return _t?at=gt:yt?at=pt:ot.route.Component?at=reactExports.createElement(ot.route.Component,null):ot.route.element?at=ot.route.element:at=rt,reactExports.createElement(RenderedRoute,{match:ot,routeContext:{outlet:rt,matches:kt,isDataRoute:$!=null},children:at})};return $&&(ot.route.ErrorBoundary||ot.route.errorElement||st===0)?reactExports.createElement(RenderErrorBoundary,{location:$.location,revalidation:$.revalidation,component:gt,error:_t,children:At(),routeContext:{outlet:null,matches:kt,isDataRoute:!0}}):At()},null)}function getDataRouterConsoleError(_){return`${_} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(_){let j=reactExports.useContext(DataRouterContext);return invariant(j,getDataRouterConsoleError(_)),j}function useDataRouterState(_){let j=reactExports.useContext(DataRouterStateContext);return invariant(j,getDataRouterConsoleError(_)),j}function useRouteContext(_){let j=reactExports.useContext(RouteContext);return invariant(j,getDataRouterConsoleError(_)),j}function useCurrentRouteId(_){let j=useRouteContext(_),$=j.matches[j.matches.length-1];return invariant($.route.id,`${_} can only be used on routes that contain a unique "id"`),$.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var _e;let _=reactExports.useContext(RouteErrorContext),j=useDataRouterState("useRouteError"),$=useCurrentRouteId("useRouteError");return _!==void 0?_:(_e=j.errors)==null?void 0:_e[$]}function useNavigateStable(){let{router:_}=useDataRouterContext("useNavigate"),j=useCurrentRouteId("useNavigate"),$=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{$.current=!0}),reactExports.useCallback(async(tt,et={})=>{warning($.current,navigateEffectWarning),$.current&&(typeof tt=="number"?_.navigate(tt):await _.navigate(tt,{fromRouteId:j,...et}))},[_,j])}var alreadyWarned={};function warningOnce(_,j,$){!j&&!alreadyWarned[_]&&(alreadyWarned[_]=!0,warning(!1,$))}reactExports.memo(DataRoutes);function DataRoutes({routes:_,future:j,state:$}){return useRoutesImpl(_,void 0,$,j)}function Navigate({to:_,replace:j,state:$,relative:_e}){invariant(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:tt}=reactExports.useContext(NavigationContext);warning(!tt,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:et}=reactExports.useContext(RouteContext),{pathname:nt}=useLocation(),ct=useNavigate(),rt=resolveTo(_,getResolveToMatches(et),nt,_e==="path"),ot=JSON.stringify(rt);return reactExports.useEffect(()=>{ct(JSON.parse(ot),{replace:j,state:$,relative:_e})},[ct,ot,_e,j,$]),null}function Route(_){invariant(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:_="/",children:j=null,location:$,navigationType:_e="POP",navigator:tt,static:et=!1}){invariant(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let nt=_.replace(/^\/*/,"/"),ct=reactExports.useMemo(()=>({basename:nt,navigator:tt,static:et,future:{}}),[nt,tt,et]);typeof $=="string"&&($=parsePath($));let{pathname:rt="/",search:ot="",hash:st="",state:_t=null,key:yt="default"}=$,gt=reactExports.useMemo(()=>{let pt=stripBasename(rt,nt);return pt==null?null:{location:{pathname:pt,search:ot,hash:st,state:_t,key:yt},navigationType:_e}},[nt,rt,ot,st,_t,yt,_e]);return warning(gt!=null,`<Router basename="${nt}"> is not able to match the URL "${rt}${ot}${st}" because it does not start with the basename, so the <Router> won't render anything.`),gt==null?null:reactExports.createElement(NavigationContext.Provider,{value:ct},reactExports.createElement(LocationContext.Provider,{children:j,value:gt}))}function Routes({children:_,location:j}){return useRoutes(createRoutesFromChildren(_),j)}function createRoutesFromChildren(_,j=[]){let $=[];return reactExports.Children.forEach(_,(_e,tt)=>{if(!reactExports.isValidElement(_e))return;let et=[...j,tt];if(_e.type===reactExports.Fragment){$.push.apply($,createRoutesFromChildren(_e.props.children,et));return}invariant(_e.type===Route,`[${typeof _e.type=="string"?_e.type:_e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant(!_e.props.index||!_e.props.children,"An index route cannot have child routes.");let nt={id:_e.props.id||et.join("-"),caseSensitive:_e.props.caseSensitive,element:_e.props.element,Component:_e.props.Component,index:_e.props.index,path:_e.props.path,loader:_e.props.loader,action:_e.props.action,hydrateFallbackElement:_e.props.hydrateFallbackElement,HydrateFallback:_e.props.HydrateFallback,errorElement:_e.props.errorElement,ErrorBoundary:_e.props.ErrorBoundary,hasErrorBoundary:_e.props.hasErrorBoundary===!0||_e.props.ErrorBoundary!=null||_e.props.errorElement!=null,shouldRevalidate:_e.props.shouldRevalidate,handle:_e.props.handle,lazy:_e.props.lazy};_e.props.children&&(nt.children=createRoutesFromChildren(_e.props.children,et)),$.push(nt)}),$}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(_){return _!=null&&typeof _.tagName=="string"}function isButtonElement(_){return isHtmlElement(_)&&_.tagName.toLowerCase()==="button"}function isFormElement(_){return isHtmlElement(_)&&_.tagName.toLowerCase()==="form"}function isInputElement(_){return isHtmlElement(_)&&_.tagName.toLowerCase()==="input"}function isModifiedEvent(_){return!!(_.metaKey||_.altKey||_.ctrlKey||_.shiftKey)}function shouldProcessLinkClick(_,j){return _.button===0&&(!j||j==="_self")&&!isModifiedEvent(_)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(_){return _!=null&&!supportedFormEncTypes.has(_)?(warning(!1,`"${_}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):_}function getFormSubmissionInfo(_,j){let $,_e,tt,et,nt;if(isFormElement(_)){let ct=_.getAttribute("action");_e=ct?stripBasename(ct,j):null,$=_.getAttribute("method")||defaultMethod,tt=getFormEncType(_.getAttribute("enctype"))||defaultEncType,et=new FormData(_)}else if(isButtonElement(_)||isInputElement(_)&&(_.type==="submit"||_.type==="image")){let ct=_.form;if(ct==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let rt=_.getAttribute("formaction")||ct.getAttribute("action");if(_e=rt?stripBasename(rt,j):null,$=_.getAttribute("formmethod")||ct.getAttribute("method")||defaultMethod,tt=getFormEncType(_.getAttribute("formenctype"))||getFormEncType(ct.getAttribute("enctype"))||defaultEncType,et=new FormData(ct,_),!isFormDataSubmitterSupported()){let{name:ot,type:st,value:_t}=_;if(st==="image"){let yt=ot?`${ot}.`:"";et.append(`${yt}x`,"0"),et.append(`${yt}y`,"0")}else ot&&et.append(ot,_t)}}else{if(isHtmlElement(_))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');$=defaultMethod,_e=null,tt=defaultEncType,nt=_}return et&&tt==="text/plain"&&(nt=et,et=void 0),{action:_e,method:$.toLowerCase(),encType:tt,formData:et,body:nt}}function invariant2(_,j){if(_===!1||_===null||typeof _>"u")throw new Error(j)}async function loadRouteModule(_,j){if(_.id in j)return j[_.id];try{let $=await import(_.module);return j[_.id]=$,$}catch($){return console.error(`Error loading route module \`${_.module}\`, reloading page...`),console.error($),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(_){return _==null?!1:_.href==null?_.rel==="preload"&&typeof _.imageSrcSet=="string"&&typeof _.imageSizes=="string":typeof _.rel=="string"&&typeof _.href=="string"}async function getKeyedPrefetchLinks(_,j,$){let _e=await Promise.all(_.map(async tt=>{let et=j.routes[tt.route.id];if(et){let nt=await loadRouteModule(et,$);return nt.links?nt.links():[]}return[]}));return dedupeLinkDescriptors(_e.flat(1).filter(isHtmlLinkDescriptor).filter(tt=>tt.rel==="stylesheet"||tt.rel==="preload").map(tt=>tt.rel==="stylesheet"?{...tt,rel:"prefetch",as:"style"}:{...tt,rel:"prefetch"}))}function getNewMatchesForLinks(_,j,$,_e,tt,et){let nt=(rt,ot)=>$[ot]?rt.route.id!==$[ot].route.id:!0,ct=(rt,ot)=>{var st;return $[ot].pathname!==rt.pathname||((st=$[ot].route.path)==null?void 0:st.endsWith("*"))&&$[ot].params["*"]!==rt.params["*"]};return et==="assets"?j.filter((rt,ot)=>nt(rt,ot)||ct(rt,ot)):et==="data"?j.filter((rt,ot)=>{var _t;let st=_e.routes[rt.route.id];if(!st||!st.hasLoader)return!1;if(nt(rt,ot)||ct(rt,ot))return!0;if(rt.route.shouldRevalidate){let yt=rt.route.shouldRevalidate({currentUrl:new URL(tt.pathname+tt.search+tt.hash,window.origin),currentParams:((_t=$[0])==null?void 0:_t.params)||{},nextUrl:new URL(_,window.origin),nextParams:rt.params,defaultShouldRevalidate:!0});if(typeof yt=="boolean")return yt}return!0}):[]}function getModuleLinkHrefs(_,j,{includeHydrateFallback:$}={}){return dedupeHrefs(_.map(_e=>{let tt=j.routes[_e.route.id];if(!tt)return[];let et=[tt.module];return tt.clientActionModule&&(et=et.concat(tt.clientActionModule)),tt.clientLoaderModule&&(et=et.concat(tt.clientLoaderModule)),$&&tt.hydrateFallbackModule&&(et=et.concat(tt.hydrateFallbackModule)),tt.imports&&(et=et.concat(tt.imports)),et}).flat(1))}function dedupeHrefs(_){return[...new Set(_)]}function sortKeys(_){let j={},$=Object.keys(_).sort();for(let _e of $)j[_e]=_[_e];return j}function dedupeLinkDescriptors(_,j){let $=new Set;return new Set(j),_.reduce((_e,tt)=>{let et=JSON.stringify(sortKeys(tt));return $.has(et)||($.add(et),_e.push({key:et,link:tt})),_e},[])}var NO_BODY_STATUS_CODES=new Set([100,101,204,205]);function singleFetchUrl(_,j){let $=typeof _=="string"?new URL(_,typeof window>"u"?"server://singlefetch/":window.location.origin):_;return $.pathname==="/"?$.pathname="_root.data":j&&stripBasename($.pathname,j)==="/"?$.pathname=`${j.replace(/\/$/,"")}/_root.data`:$.pathname=`${$.pathname.replace(/\/$/,"")}.data`,$}function useDataRouterContext2(){let _=reactExports.useContext(DataRouterContext);return invariant2(_,"You must render this element inside a <DataRouterContext.Provider> element"),_}function useDataRouterStateContext(){let _=reactExports.useContext(DataRouterStateContext);return invariant2(_,"You must render this element inside a <DataRouterStateContext.Provider> element"),_}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let _=reactExports.useContext(FrameworkContext);return invariant2(_,"You must render this element inside a <HydratedRouter> element"),_}function usePrefetchBehavior(_,j){let $=reactExports.useContext(FrameworkContext),[_e,tt]=reactExports.useState(!1),[et,nt]=reactExports.useState(!1),{onFocus:ct,onBlur:rt,onMouseEnter:ot,onMouseLeave:st,onTouchStart:_t}=j,yt=reactExports.useRef(null);reactExports.useEffect(()=>{if(_==="render"&&nt(!0),_==="viewport"){let kt=at=>{at.forEach(lt=>{nt(lt.isIntersecting)})},At=new IntersectionObserver(kt,{threshold:.5});return yt.current&&At.observe(yt.current),()=>{At.disconnect()}}},[_]),reactExports.useEffect(()=>{if(_e){let kt=setTimeout(()=>{nt(!0)},100);return()=>{clearTimeout(kt)}}},[_e]);let gt=()=>{tt(!0)},pt=()=>{tt(!1),nt(!1)};return $?_!=="intent"?[et,yt,{}]:[et,yt,{onFocus:composeEventHandlers(ct,gt),onBlur:composeEventHandlers(rt,pt),onMouseEnter:composeEventHandlers(ot,gt),onMouseLeave:composeEventHandlers(st,pt),onTouchStart:composeEventHandlers(_t,gt)}]:[!1,yt,{}]}function composeEventHandlers(_,j){return $=>{_&&_($),$.defaultPrevented||j($)}}function PrefetchPageLinks({page:_,...j}){let{router:$}=useDataRouterContext2(),_e=reactExports.useMemo(()=>matchRoutes($.routes,_,$.basename),[$.routes,_,$.basename]);return _e?reactExports.createElement(PrefetchPageLinksImpl,{page:_,matches:_e,...j}):null}function useKeyedPrefetchLinks(_){let{manifest:j,routeModules:$}=useFrameworkContext(),[_e,tt]=reactExports.useState([]);return reactExports.useEffect(()=>{let et=!1;return getKeyedPrefetchLinks(_,j,$).then(nt=>{et||tt(nt)}),()=>{et=!0}},[_,j,$]),_e}function PrefetchPageLinksImpl({page:_,matches:j,...$}){let _e=useLocation(),{manifest:tt,routeModules:et}=useFrameworkContext(),{basename:nt}=useDataRouterContext2(),{loaderData:ct,matches:rt}=useDataRouterStateContext(),ot=reactExports.useMemo(()=>getNewMatchesForLinks(_,j,rt,tt,_e,"data"),[_,j,rt,tt,_e]),st=reactExports.useMemo(()=>getNewMatchesForLinks(_,j,rt,tt,_e,"assets"),[_,j,rt,tt,_e]),_t=reactExports.useMemo(()=>{if(_===_e.pathname+_e.search+_e.hash)return[];let pt=new Set,kt=!1;if(j.forEach(at=>{var dt;let lt=tt.routes[at.route.id];!lt||!lt.hasLoader||(!ot.some(wt=>wt.route.id===at.route.id)&&at.route.id in ct&&((dt=et[at.route.id])!=null&&dt.shouldRevalidate)||lt.hasClientLoader?kt=!0:pt.add(at.route.id))}),pt.size===0)return[];let At=singleFetchUrl(_,nt);return kt&&pt.size>0&&At.searchParams.set("_routes",j.filter(at=>pt.has(at.route.id)).map(at=>at.route.id).join(",")),[At.pathname+At.search]},[nt,ct,_e,tt,ot,j,_,et]),yt=reactExports.useMemo(()=>getModuleLinkHrefs(st,tt),[st,tt]),gt=useKeyedPrefetchLinks(st);return reactExports.createElement(reactExports.Fragment,null,_t.map(pt=>reactExports.createElement("link",{key:pt,rel:"prefetch",as:"fetch",href:pt,...$})),yt.map(pt=>reactExports.createElement("link",{key:pt,rel:"modulepreload",href:pt,...$})),gt.map(({key:pt,link:kt})=>reactExports.createElement("link",{key:pt,...kt})))}function mergeRefs(..._){return j=>{_.forEach($=>{typeof $=="function"?$(j):$!=null&&($.current=j)})}}var isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser&&(window.__reactRouterVersion="7.5.1")}catch{}function BrowserRouter({basename:_,children:j,window:$}){let _e=reactExports.useRef();_e.current==null&&(_e.current=createBrowserHistory({window:$,v5Compat:!0}));let tt=_e.current,[et,nt]=reactExports.useState({action:tt.action,location:tt.location}),ct=reactExports.useCallback(rt=>{reactExports.startTransition(()=>nt(rt))},[nt]);return reactExports.useLayoutEffect(()=>tt.listen(ct),[tt,ct]),reactExports.createElement(Router,{basename:_,children:j,location:et.location,navigationType:et.action,navigator:tt})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:j,discover:$="render",prefetch:_e="none",relative:tt,reloadDocument:et,replace:nt,state:ct,target:rt,to:ot,preventScrollReset:st,viewTransition:_t,...yt},gt){let{basename:pt}=reactExports.useContext(NavigationContext),kt=typeof ot=="string"&&ABSOLUTE_URL_REGEX2.test(ot),At,at=!1;if(typeof ot=="string"&&kt&&(At=ot,isBrowser))try{let xt=new URL(window.location.href),Dt=ot.startsWith("//")?new URL(xt.protocol+ot):new URL(ot),bt=stripBasename(Dt.pathname,pt);Dt.origin===xt.origin&&bt!=null?ot=bt+Dt.search+Dt.hash:at=!0}catch{warning(!1,`<Link to="${ot}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let lt=useHref(ot,{relative:tt}),[dt,wt,ut]=usePrefetchBehavior(_e,yt),Et=useLinkClickHandler(ot,{replace:nt,state:ct,target:rt,preventScrollReset:st,relative:tt,viewTransition:_t});function ft(xt){j&&j(xt),xt.defaultPrevented||Et(xt)}let St=reactExports.createElement("a",{...yt,...ut,href:At||lt,onClick:at||et?j:ft,ref:mergeRefs(gt,wt),target:rt,"data-discover":!kt&&$==="render"?"true":void 0});return dt&&!kt?reactExports.createElement(reactExports.Fragment,null,St,reactExports.createElement(PrefetchPageLinks,{page:lt})):St});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":j="page",caseSensitive:$=!1,className:_e="",end:tt=!1,style:et,to:nt,viewTransition:ct,children:rt,...ot},st){let _t=useResolvedPath(nt,{relative:ot.relative}),yt=useLocation(),gt=reactExports.useContext(DataRouterStateContext),{navigator:pt,basename:kt}=reactExports.useContext(NavigationContext),At=gt!=null&&useViewTransitionState(_t)&&ct===!0,at=pt.encodeLocation?pt.encodeLocation(_t).pathname:_t.pathname,lt=yt.pathname,dt=gt&&gt.navigation&&gt.navigation.location?gt.navigation.location.pathname:null;$||(lt=lt.toLowerCase(),dt=dt?dt.toLowerCase():null,at=at.toLowerCase()),dt&&kt&&(dt=stripBasename(dt,kt)||dt);const wt=at!=="/"&&at.endsWith("/")?at.length-1:at.length;let ut=lt===at||!tt&&lt.startsWith(at)&&lt.charAt(wt)==="/",Et=dt!=null&&(dt===at||!tt&&dt.startsWith(at)&&dt.charAt(at.length)==="/"),ft={isActive:ut,isPending:Et,isTransitioning:At},St=ut?j:void 0,xt;typeof _e=="function"?xt=_e(ft):xt=[_e,ut?"active":null,Et?"pending":null,At?"transitioning":null].filter(Boolean).join(" ");let Dt=typeof et=="function"?et(ft):et;return reactExports.createElement(Link,{...ot,"aria-current":St,className:xt,ref:st,style:Dt,to:nt,viewTransition:ct},typeof rt=="function"?rt(ft):rt)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:_="render",fetcherKey:j,navigate:$,reloadDocument:_e,replace:tt,state:et,method:nt=defaultMethod,action:ct,onSubmit:rt,relative:ot,preventScrollReset:st,viewTransition:_t,...yt},gt)=>{let pt=useSubmit(),kt=useFormAction(ct,{relative:ot}),At=nt.toLowerCase()==="get"?"get":"post",at=typeof ct=="string"&&ABSOLUTE_URL_REGEX2.test(ct),lt=dt=>{if(rt&&rt(dt),dt.defaultPrevented)return;dt.preventDefault();let wt=dt.nativeEvent.submitter,ut=(wt==null?void 0:wt.getAttribute("formmethod"))||nt;pt(wt||dt.currentTarget,{fetcherKey:j,method:ut,navigate:$,replace:tt,state:et,relative:ot,preventScrollReset:st,viewTransition:_t})};return reactExports.createElement("form",{ref:gt,method:At,action:kt,onSubmit:_e?rt:lt,...yt,"data-discover":!at&&_==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(_){return`${_} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(_){let j=reactExports.useContext(DataRouterContext);return invariant(j,getDataRouterConsoleError2(_)),j}function useLinkClickHandler(_,{target:j,replace:$,state:_e,preventScrollReset:tt,relative:et,viewTransition:nt}={}){let ct=useNavigate(),rt=useLocation(),ot=useResolvedPath(_,{relative:et});return reactExports.useCallback(st=>{if(shouldProcessLinkClick(st,j)){st.preventDefault();let _t=$!==void 0?$:createPath(rt)===createPath(ot);ct(_,{replace:_t,state:_e,preventScrollReset:tt,relative:et,viewTransition:nt})}},[rt,ct,ot,$,_e,j,_,tt,et,nt])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:_}=useDataRouterContext3("useSubmit"),{basename:j}=reactExports.useContext(NavigationContext),$=useRouteId();return reactExports.useCallback(async(_e,tt={})=>{let{action:et,method:nt,encType:ct,formData:rt,body:ot}=getFormSubmissionInfo(_e,j);if(tt.navigate===!1){let st=tt.fetcherKey||getUniqueFetcherId();await _.fetch(st,$,tt.action||et,{preventScrollReset:tt.preventScrollReset,formData:rt,body:ot,formMethod:tt.method||nt,formEncType:tt.encType||ct,flushSync:tt.flushSync})}else await _.navigate(tt.action||et,{preventScrollReset:tt.preventScrollReset,formData:rt,body:ot,formMethod:tt.method||nt,formEncType:tt.encType||ct,replace:tt.replace,state:tt.state,fromRouteId:$,flushSync:tt.flushSync,viewTransition:tt.viewTransition})},[_,j,$])}function useFormAction(_,{relative:j}={}){let{basename:$}=reactExports.useContext(NavigationContext),_e=reactExports.useContext(RouteContext);invariant(_e,"useFormAction must be used inside a RouteContext");let[tt]=_e.matches.slice(-1),et={...useResolvedPath(_||".",{relative:j})},nt=useLocation();if(_==null){et.search=nt.search;let ct=new URLSearchParams(et.search),rt=ct.getAll("index");if(rt.some(st=>st==="")){ct.delete("index"),rt.filter(_t=>_t).forEach(_t=>ct.append("index",_t));let st=ct.toString();et.search=st?`?${st}`:""}}return(!_||_===".")&&tt.route.index&&(et.search=et.search?et.search.replace(/^\?/,"?index&"):"?index"),$!=="/"&&(et.pathname=et.pathname==="/"?$:joinPaths([$,et.pathname])),createPath(et)}function useViewTransitionState(_,j={}){let $=reactExports.useContext(ViewTransitionContext);invariant($!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:_e}=useDataRouterContext3("useViewTransitionState"),tt=useResolvedPath(_,{relative:j.relative});if(!$.isTransitioning)return!1;let et=stripBasename($.currentLocation.pathname,_e)||$.currentLocation.pathname,nt=stripBasename($.nextLocation.pathname,_e)||$.nextLocation.pathname;return matchPath(tt.pathname,nt)!=null||matchPath(tt.pathname,et)!=null}new TextEncoder;[...NO_BODY_STATUS_CODES];const Header$1=({active:_,onChange:j})=>jsxRuntimeExports.jsx("header",{children:jsxRuntimeExports.jsx("nav",{children:jsxRuntimeExports.jsxs("ul",{className:"nav",children:[jsxRuntimeExports.jsx("li",{className:_==="signIn"?"active":"",onClick:()=>j("signIn"),children:"Login"}),jsxRuntimeExports.jsx("li",{className:_==="signUp"?"active":"",onClick:()=>j("signUp"),children:"Sign up"}),jsxRuntimeExports.jsx("li",{className:_==="aboutUs"?"active":"",onClick:()=>j("aboutUs"),children:"About us"})]})})});function FieldForm(_){return jsxRuntimeExports.jsxs("div",{className:`Field ${_.error?"diff-padding":""}`,children:[jsxRuntimeExports.jsxs("label",{children:[_.name," ",jsxRuntimeExports.jsx("sup",{children:"*"})]}),jsxRuntimeExports.jsx("input",{type:_.type,placeholder:_.placeholder,value:_.value,onChange:_.onChange}),_.error&&jsxRuntimeExports.jsx("p",{className:"error",children:_.error})]})}function OptionForm(_){return jsxRuntimeExports.jsxs("option",{value:_.value,children:[" ",_.title," "]})}const languages=[{value:"english",title:"English",kod:"en"},{value:"polski",title:"Polski",kod:"pl"},{value:"franais",title:"Franais",kod:"fr"},{value:"deutsch",title:"Deutsch",kod:"de"},{value:"italiano",title:"Italiano",kod:"it"},{value:"espaol",title:"Espaol",kod:"es"},{value:"portugus",title:"Portugus",kod:"pt"},{value:"svenska",title:"Svenska",kod:"sv"}],fields=[{name:"First name",type:"text",placeholder:"First name",value:"firstName"},{name:"Last name",type:"text",placeholder:"Last name",value:"lastName"},{name:"Email address",type:"email",placeholder:"Email address",value:"email"},{name:"Password",type:"password",placeholder:"Password",value:"password"}],features=[{key:"upload",text:"Upload documents in multiple formats (PDF, DOCX, TXT)"},{key:"translate",text:"Translate using AI (OpenAI, DeepL or other NLP models)"},{key:"detect",text:"Language auto-detection & custom target language"},{key:"secure",text:"Secure user access and file storage"},{key:"access",text:"View and download translated documents"},{key:"interface",text:"Clean, responsive user interface (React)"},{key:"deploy",text:"Deployable with Docker and Railway"}],validateFirstName=_=>{const j=/^[A-Za-z]+$/;return _?j.test(_)?null:"Invalid name forma.":"First name is required."},validateLastName=_=>{const j=/^[A-Za-z]+$/;return _?j.test(_)?null:"Invalid name format.":"Last name is required."},validateEmail=_=>{const j=/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/;return _?j.test(_)?"":"Invalid email format.":"Email is required."},validatePassword=_=>{const j=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{8,}$/;return _?j.test(_)?"":"Password must contain at least 8 characters, including uppercase, lowercase, and numbers.":"Password is required."},validateLanguage=_=>!_||_==="Language"?"Please select a native language.":null,RegisterForm=({onChange:_,onLoginSuccess:j})=>{const $=useNavigate(),[_e,tt]=reactExports.useState({firstName:"",lastName:"",email:"",password:"",language:"Language"}),[et,nt]=reactExports.useState({firstName:"",lastName:"",email:"",password:"",language:""}),ct=(_t,yt)=>{tt(gt=>({...gt,[_t]:yt}))},rt=()=>{tt({firstName:"",lastName:"",email:"",password:"",language:"Language"}),nt({firstName:"",lastName:"",email:"",password:""})},ot=()=>{const _t={firstName:validateFirstName(_e.firstName),lastName:validateLastName(_e.lastName),email:validateEmail(_e.email),password:validatePassword(_e.password),language:validateLanguage(_e.language)};return nt(_t),Object.values(_t).every(yt=>!yt)},st=async _t=>{if(_t.preventDefault(),!ot())return;const yt={firstName:_e.firstName,lastName:_e.lastName,email:_e.email,password:_e.password,nativeLanguage:_e.language};try{const gt=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(yt)});if(!gt.ok){const At=await gt.text();alert("Registration failed: "+At);return}const pt=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:yt.email,password:yt.password})});if(!pt.ok){alert("Registration successful, but login failed.");return}const{accessToken:kt}=await pt.json();localStorage.setItem("accessToken",kt),alert("Registered and logged in!"),rt(),j(),$("/dashboard")}catch(gt){console.error("Error during registration:",gt),alert("Something went wrong. Try again later.")}};return jsxRuntimeExports.jsx("div",{className:"App",children:jsxRuntimeExports.jsx("form",{onSubmit:st,children:jsxRuntimeExports.jsxs("fieldset",{children:[jsxRuntimeExports.jsx("h2",{children:"Sign Up"}),fields.map(_t=>jsxRuntimeExports.jsx(FieldForm,{name:_t.name,type:_t.type,placeholder:_t.placeholder,value:_e[_t.value],onChange:yt=>ct(_t.value,yt.target.value),error:et[_t.value]},_t.name)),jsxRuntimeExports.jsxs("div",{className:"Field",children:[jsxRuntimeExports.jsxs("label",{children:[" Native Language ",jsxRuntimeExports.jsx("sup",{children:"*"})]}),jsxRuntimeExports.jsxs("select",{value:_e.language,onChange:_t=>ct("language",_t.target.value),children:[jsxRuntimeExports.jsx("option",{value:"Language",disabled:!0,children:"Language"}),languages.map(_t=>jsxRuntimeExports.jsx(OptionForm,{..._t},_t.value))]}),et.language&&jsxRuntimeExports.jsx("div",{className:"error",children:et.language})]}),jsxRuntimeExports.jsx("button",{className:"button",type:"submit",children:"Create account"}),jsxRuntimeExports.jsx("span",{className:"singin",onClick:()=>_("signIn"),children:"Already a user?  Sign in"})]})})})},LoginForm=({onChange:_,onLoginSuccess:j})=>{const $=useNavigate(),[_e,tt]=reactExports.useState({email:"",password:""}),[et,nt]=reactExports.useState({email:"",password:""}),ct=(st,_t)=>{nt(yt=>({...yt,[st]:_t}))},rt=()=>{const st={email:validateEmail(et.email),password:validatePassword(et.password)};return tt(st),Object.values(st).every(_t=>_t===null||_t==="")},ot=async st=>{if(st.preventDefault(),!rt())return;const _t={email:et.email,password:et.password};try{const yt=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_t)});if(!yt.ok){const pt=await yt.text();alert("Login failed: "+pt);return}const{accessToken:gt}=await yt.json();localStorage.setItem("accessToken",gt),alert("Login successful!"),j(),$("/dashboard")}catch(yt){console.error("Error during login:",yt),alert("Something went wrong.")}};return jsxRuntimeExports.jsx("div",{className:"App",children:jsxRuntimeExports.jsx("form",{onSubmit:ot,children:jsxRuntimeExports.jsxs("fieldset",{children:[jsxRuntimeExports.jsx("h2",{children:"Sign In"}),[fields[2],fields[3]].map(st=>jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(FieldForm,{name:st.name,type:st.type,placeholder:st.placeholder,value:et[st.value],onChange:_t=>ct(st.value,_t.target.value),error:_e[st.value]})},st.name)),jsxRuntimeExports.jsx("button",{className:"button",type:"submit",children:"Login to account"}),jsxRuntimeExports.jsxs("div",{className:"link-group",children:[jsxRuntimeExports.jsx("span",{className:"psw",onClick:()=>_("forgotPassword"),children:"Forgot Password?"}),jsxRuntimeExports.jsx("span",{className:"signup",onClick:()=>_("signUp"),children:"Not a user? Sign up"})]})]})})})};function ListForm({text:_}){return jsxRuntimeExports.jsx("li",{children:_})}function AboutUs(){return jsxRuntimeExports.jsx("div",{className:"App",children:jsxRuntimeExports.jsxs("fieldset",{children:[jsxRuntimeExports.jsx("h2",{children:"Neuralingo - AI Translator for Documents"}),jsxRuntimeExports.jsx("p",{children:"Neuralingo is an intelligent web application that allows users to upload documents and instantly translate them using advanced AI models. Built with a robust Spring Boot backend and an intuitive React frontend, Neuralingo streamlines the translation process for PDFs, DOCXs, and plain text files."}),jsxRuntimeExports.jsx("h3",{children:"Features"}),jsxRuntimeExports.jsx("ul",{children:features.map(_=>jsxRuntimeExports.jsx(ListForm,{text:_.text},_.key))})]})})}function AuthPage({onLoginSuccess:_}){const[j,$]=reactExports.useState("signIn");return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Header$1,{active:j,onChange:_e=>$(_e)}),j==="signIn"&&jsxRuntimeExports.jsx(LoginForm,{onChange:$,onLoginSuccess:_}),j==="signUp"&&jsxRuntimeExports.jsx(RegisterForm,{onChange:$,onLoginSuccess:_}),j=="aboutUs"&&jsxRuntimeExports.jsx(AboutUs,{})]})}function getTranslatedName(_){const j=_.lastIndexOf(".");return j===-1?_+"_translate":_.slice(0,j)+"_translate"+_.slice(j)}const Sidebar=({history:_,onDelete:j,onSelectPdf:$})=>{const[_e,tt]=reactExports.useState(null),[et,nt]=reactExports.useState(""),ct=(gt,pt)=>{gt.preventDefault(),tt({x:gt.pageX,y:gt.pageY,docId:pt})},rt=()=>{_e!=null&&_e.docId&&j(_e.docId),tt(null)},ot=()=>tt(null),st=async(gt,pt,kt)=>{var lt;gt.preventDefault();const At=kt?`/api/documents/download/translated/${pt.id}`:`/api/documents/download/${pt.id}`,at=kt?pt.translatedFilename:pt.originalFilename;if((lt=pt.originalFileType)!=null&&lt.includes("pdf"))try{const dt=await fetch(`/api/documents/download/translated/${pt.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(!dt.ok)throw new Error("Failed to fetch PDF");const wt=await dt.blob(),ut=URL.createObjectURL(wt);$({url:ut,filename:pt.filename,id:pt.id})}catch(dt){console.error("PDF open error:",dt),alert("Could not open PDF.")}else try{const dt=await fetch(At,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(!dt.ok)throw new Error("Failed to download");const wt=await dt.blob(),ut=window.URL.createObjectURL(wt),Et=document.createElement("a");Et.href=ut,Et.download=at,document.body.appendChild(Et),Et.click(),Et.remove(),window.URL.revokeObjectURL(ut)}catch(dt){console.error("Download error:",dt),alert("Download error.")}},_t=gt=>{switch(gt.split(".").pop().toLowerCase()){case"pdf":return"/icons/pdf4.png";case"doc":case"docx":return"/icons/word2.png";case"xls":case"xlsx":return"/icons/excel.png";case"ppt":case"pptx":return"/icons/ppt2.png";default:return"/icons/default.png"}},yt=_.filter(gt=>{const pt=et.toLowerCase();return gt.originalFilename.toLowerCase().includes(pt)||getTranslatedName(gt.originalFilename).toLowerCase().includes(pt)});return jsxRuntimeExports.jsxs("div",{className:"Sidebar",onClick:ot,children:[jsxRuntimeExports.jsx("h3",{children:"Document history"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search documents...",value:et,onChange:gt=>nt(gt.target.value),className:"search-input"}),yt.length===0?jsxRuntimeExports.jsx("p",{className:"empty-history",children:"You didnt translate any documents yet."}):jsxRuntimeExports.jsxs("div",{className:"history-scroll",children:[jsxRuntimeExports.jsxs("div",{className:"history-header",children:[jsxRuntimeExports.jsx("span",{children:"Original"}),jsxRuntimeExports.jsx("span",{children:"Translation"})]}),jsxRuntimeExports.jsx("ul",{className:"history-list",children:yt.map(gt=>jsxRuntimeExports.jsx("li",{onContextMenu:pt=>ct(pt,gt.id),children:jsxRuntimeExports.jsxs("div",{className:"doc-columns",children:[jsxRuntimeExports.jsxs("a",{href:"#",onClick:pt=>st(pt,gt,!1),className:"doc-link",children:[jsxRuntimeExports.jsx("img",{src:_t(gt.originalFilename),alt:"file icon",className:"file-icon"}),gt.originalFilename]}),jsxRuntimeExports.jsxs("a",{href:"#",onClick:pt=>st(pt,gt,!0),className:"doc-link",children:[jsxRuntimeExports.jsx("img",{src:_t(gt.translatedFilename),alt:"file icon",className:"file-icon"}),gt.translatedFilename]})]})},gt.id))})]}),_e&&jsxRuntimeExports.jsx("ul",{className:"context-menu",style:{top:_e.y,left:_e.x,position:"absolute"},children:jsxRuntimeExports.jsx("li",{onClick:rt,children:"Delete"})})]})},MainPanel=({setHistory:_})=>{const[j,$]=reactExports.useState(languages[1]),[_e,tt]=reactExports.useState("idle"),[et,nt]=reactExports.useState(null),[ct,rt]=reactExports.useState(!1),[ot,st]=reactExports.useState(null),_t=async dt=>{if(!dt)return;tt("uploading");const wt={title:dt.name},ut=new FormData;ut.append("file",dt),ut.append("metadata",JSON.stringify(wt));try{const Et=await fetch("/api/documents/upload",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:ut});if(!Et.ok)throw new Error("Upload failed");const ft=await Et.json();tt("done"),nt(dt),st({id:ft.id,filename:ft.originalFilename||"Untitled",url:ft.originalStoragePath,fileType:ft.fileType})}catch(Et){console.error("Upload error:",Et),tt("error")}},yt=dt=>{const wt=dt.target.files[0];_t(wt)},gt=dt=>{dt.preventDefault(),rt(!0)},pt=()=>{rt(!1)},kt=dt=>{dt.preventDefault(),rt(!1);const wt=dt.dataTransfer.files[0];_t(wt)},At=async()=>{if(!ot){alert("Please upload a file first.");return}try{const dt=await fetch(`/api/translate/document/${ot.id}?targetLanguage=${j.kod}`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(!dt.ok)throw new Error("Translation failed_1.");const wt=await dt.json(),ut={id:ot.id,originalFilename:ot.filename,translatedFilename:getTranslatedName(ot.filename),originalFileType:ot.fileType,translatedFileType:ot.fileType};_(Et=>[ut,...Et]),alert("Translation completed!")}catch(dt){console.error("Translation error:",dt),alert("Translation failed_2.")}},at=async()=>{if(!ot){alert("Please upload a file first.");return}try{const dt=await fetch(`/api/translate/document/ocr/${ot.id}?targetLanguage=${j.kod}`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(!dt.ok)throw new Error("Translation failed.");const wt=await dt.json(),ut={id:ot.id,originalFilename:ot.filename,translatedFilename:getTranslatedName(ot.filename),originalFileType:ot.fileType,translatedFileType:ot.fileType};_(Et=>[ut,...Et]),alert("Translation completed!")}catch(dt){console.error("Translation error:",dt),alert("Translation failed.")}},lt=()=>{switch(_e){case"uploading":return"Uploading";case"done":return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("strong",{children:"Uploaded successfully!"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"box__info",children:"To add a new document, click here."})]});case"error":return"Upload failed.";default:return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("strong",{children:"Choose a file"}),jsxRuntimeExports.jsx("span",{className:"box__dragndrop",children:" or drag it here"}),"."]})}};return jsxRuntimeExports.jsxs("div",{className:"MainPanel",children:[jsxRuntimeExports.jsx("h3",{children:"Translate your documents!"}),jsxRuntimeExports.jsx("div",{className:"switchLanguages",children:jsxRuntimeExports.jsx("select",{value:j.value,onChange:dt=>$(languages.find(wt=>wt.value===dt.target.value)),children:languages.map(dt=>jsxRuntimeExports.jsx(OptionForm,{...dt},dt.value))})}),jsxRuntimeExports.jsx("form",{className:`box ${ct?"drag-active":""}`,onDragOver:gt,onDragLeave:pt,onDrop:kt,children:jsxRuntimeExports.jsxs("div",{className:"box__input",children:[jsxRuntimeExports.jsx("input",{className:"box__file",type:"file",name:"files[]",id:"file",onChange:yt}),jsxRuntimeExports.jsx("label",{htmlFor:"file",children:lt()})]})}),jsxRuntimeExports.jsxs("div",{className:"group_of_buttons",children:[jsxRuntimeExports.jsx("button",{className:"translate-button",onClick:At,children:"Translate"}),jsxRuntimeExports.jsx("button",{className:"translate-button",onClick:at,children:"Translate by OCR"})]})]})};function UserMenu({onLogout:_}){const j=useNavigate(),[$,_e]=reactExports.useState(!1),tt=async()=>{try{const et=await fetch("/api/auth/logout",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(!et.ok){const nt=await et.text();alert("Logout failed: "+nt);return}localStorage.removeItem("accessToken"),_==null||_(),j("/")}catch(et){console.error("Error during logout:",et),alert("Something went wrong while logging out.")}};return jsxRuntimeExports.jsxs("div",{className:"user-menu",children:[jsxRuntimeExports.jsx("img",{className:"avatar",src:"user-svgrepo-com.svg",alt:"user",onClick:()=>_e(!$)}),$&&jsxRuntimeExports.jsx("div",{className:"menu",children:jsxRuntimeExports.jsx("button",{onClick:tt,children:"Logout"})})]})}function Header({onLogout:_}){return jsxRuntimeExports.jsxs("nav",{className:"header",children:[jsxRuntimeExports.jsxs("div",{className:"logo-section",children:[jsxRuntimeExports.jsx("img",{src:"/cha-translate-2-svgrepo-com.svg",alt:"logo"}),jsxRuntimeExports.jsx("h5",{className:"header-title",children:"CodeStorm"})]}),jsxRuntimeExports.jsx(UserMenu,{onLogout:_})]})}var lib$2={exports:{}},core_min={};function commonjsRequire(_){throw new Error('Could not dynamically require "'+_+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(j,$){module.exports=j.pdfjsLib=$()})(globalThis,()=>(()=>{var __webpack_modules__=[,(_,j)=>{var Mr;Object.defineProperty(j,"__esModule",{value:!0}),j.VerbosityLevel=j.Util=j.UnknownErrorException=j.UnexpectedResponseException=j.TextRenderingMode=j.RenderingIntentFlag=j.PromiseCapability=j.PermissionFlag=j.PasswordResponses=j.PasswordException=j.PageActionEventType=j.OPS=j.MissingPDFException=j.MAX_IMAGE_SIZE_TO_CACHE=j.LINE_FACTOR=j.LINE_DESCENT_FACTOR=j.InvalidPDFException=j.ImageKind=j.IDENTITY_MATRIX=j.FormatError=j.FeatureTest=j.FONT_IDENTITY_MATRIX=j.DocumentActionEventType=j.CMapCompressionType=j.BaseException=j.BASELINE_FACTOR=j.AnnotationType=j.AnnotationReplyType=j.AnnotationPrefix=j.AnnotationMode=j.AnnotationFlag=j.AnnotationFieldFlag=j.AnnotationEditorType=j.AnnotationEditorPrefix=j.AnnotationEditorParamsType=j.AnnotationBorderStyleType=j.AnnotationActionEventType=j.AbortException=void 0,j.assert=Tt,j.bytesToString=En,j.createValidAbsoluteUrl=Jt,j.getModificationDate=In,j.getUuid=er,j.getVerbosityLevel=Yt,j.info=rn,j.isArrayBuffer=tn,j.isArrayEqual=$n,j.isNodeJS=void 0,j.normalizeUnicode=Wn,j.objectFromMap=Rn,j.objectSize=Pn,j.setVerbosityLevel=gn,j.shadow=Mt,j.string32=An,j.stringToBytes=Sn,j.stringToPDFString=wn,j.stringToUTF8String=Tn,j.unreachable=Gt,j.utf8StringToString=kn,j.warn=Xt;const $=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");j.isNodeJS=$;const _e=[1,0,0,1,0,0];j.IDENTITY_MATRIX=_e;const tt=[.001,0,0,.001,0,0];j.FONT_IDENTITY_MATRIX=tt;const et=1e7;j.MAX_IMAGE_SIZE_TO_CACHE=et;const nt=1.35;j.LINE_FACTOR=nt;const ct=.35;j.LINE_DESCENT_FACTOR=ct;const rt=ct/nt;j.BASELINE_FACTOR=rt;const ot={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};j.RenderingIntentFlag=ot;const st={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};j.AnnotationMode=st;const _t="pdfjs_internal_editor_";j.AnnotationEditorPrefix=_t;const yt={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};j.AnnotationEditorType=yt;const gt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};j.AnnotationEditorParamsType=gt;const pt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};j.PermissionFlag=pt;const kt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};j.TextRenderingMode=kt;const At={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};j.ImageKind=At;const at={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};j.AnnotationType=at;const lt={GROUP:"Group",REPLY:"R"};j.AnnotationReplyType=lt;const dt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};j.AnnotationFlag=dt;const wt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};j.AnnotationFieldFlag=wt;const ut={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};j.AnnotationBorderStyleType=ut;const Et={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};j.AnnotationActionEventType=Et;const ft={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};j.DocumentActionEventType=ft;const St={O:"PageOpen",C:"PageClose"};j.PageActionEventType=St;const xt={ERRORS:0,WARNINGS:1,INFOS:5};j.VerbosityLevel=xt;const Dt={NONE:0,BINARY:1};j.CMapCompressionType=Dt;const bt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};j.OPS=bt;const Ft={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};j.PasswordResponses=Ft;let $t=xt.WARNINGS;function gn(xn){Number.isInteger(xn)&&($t=xn)}function Yt(){return $t}function rn(xn){$t>=xt.INFOS&&console.log(`Info: ${xn}`)}function Xt(xn){$t>=xt.WARNINGS&&console.log(`Warning: ${xn}`)}function Gt(xn){throw new Error(xn)}function Tt(xn,an){xn||Gt(an)}function Ht(xn){switch(xn==null?void 0:xn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Jt(xn,an=null,on=null){if(!xn)return null;try{if(on&&typeof xn=="string"){if(on.addDefaultProtocol&&xn.startsWith("www.")){const Yn=xn.match(/\./g);(Yn==null?void 0:Yn.length)>=2&&(xn=`http://${xn}`)}if(on.tryConvertEncoding)try{xn=Tn(xn)}catch{}}const Vn=an?new URL(xn,an):new URL(xn);if(Ht(Vn))return Vn}catch{}return null}function Mt(xn,an,on,Vn=!1){return Object.defineProperty(xn,an,{value:on,enumerable:!Vn,configurable:!0,writable:!1}),on}const mt=function(){function an(on,Vn){this.constructor===an&&Gt("Cannot initialize BaseException."),this.message=on,this.name=Vn}return an.prototype=new Error,an.constructor=an,an}();j.BaseException=mt;class vt extends mt{constructor(an,on){super(an,"PasswordException"),this.code=on}}j.PasswordException=vt;class Pt extends mt{constructor(an,on){super(an,"UnknownErrorException"),this.details=on}}j.UnknownErrorException=Pt;class It extends mt{constructor(an){super(an,"InvalidPDFException")}}j.InvalidPDFException=It;class jt extends mt{constructor(an){super(an,"MissingPDFException")}}j.MissingPDFException=jt;class Nt extends mt{constructor(an,on){super(an,"UnexpectedResponseException"),this.status=on}}j.UnexpectedResponseException=Nt;class Zt extends mt{constructor(an){super(an,"FormatError")}}j.FormatError=Zt;class vn extends mt{constructor(an){super(an,"AbortException")}}j.AbortException=vn;function En(xn){(typeof xn!="object"||(xn==null?void 0:xn.length)===void 0)&&Gt("Invalid argument for bytesToString");const an=xn.length,on=8192;if(an<on)return String.fromCharCode.apply(null,xn);const Vn=[];for(let Yn=0;Yn<an;Yn+=on){const ir=Math.min(Yn+on,an),Bt=xn.subarray(Yn,ir);Vn.push(String.fromCharCode.apply(null,Bt))}return Vn.join("")}function Sn(xn){typeof xn!="string"&&Gt("Invalid argument for stringToBytes");const an=xn.length,on=new Uint8Array(an);for(let Vn=0;Vn<an;++Vn)on[Vn]=xn.charCodeAt(Vn)&255;return on}function An(xn){return String.fromCharCode(xn>>24&255,xn>>16&255,xn>>8&255,xn&255)}function Pn(xn){return Object.keys(xn).length}function Rn(xn){const an=Object.create(null);for(const[on,Vn]of xn)an[on]=Vn;return an}function cn(){const xn=new Uint8Array(4);return xn[0]=1,new Uint32Array(xn.buffer,0,1)[0]===1}function dn(){try{return new Function(""),!0}catch{return!1}}class Rt{static get isLittleEndian(){return Mt(this,"isLittleEndian",cn())}static get isEvalSupported(){return Mt(this,"isEvalSupported",dn())}static get isOffscreenCanvasSupported(){return Mt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Mt(this,"platform",{isWin:!1,isMac:!1}):Mt(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var an,on;return Mt(this,"isCSSRoundSupported",(on=(an=globalThis.CSS)==null?void 0:an.supports)==null?void 0:on.call(an,"width: round(1.5px, 1px)"))}}j.FeatureTest=Rt;const zt=[...Array(256).keys()].map(xn=>xn.toString(16).padStart(2,"0"));class nn{static makeHexColor(an,on,Vn){return`#${zt[an]}${zt[on]}${zt[Vn]}`}static scaleMinMax(an,on){let Vn;an[0]?(an[0]<0&&(Vn=on[0],on[0]=on[1],on[1]=Vn),on[0]*=an[0],on[1]*=an[0],an[3]<0&&(Vn=on[2],on[2]=on[3],on[3]=Vn),on[2]*=an[3],on[3]*=an[3]):(Vn=on[0],on[0]=on[2],on[2]=Vn,Vn=on[1],on[1]=on[3],on[3]=Vn,an[1]<0&&(Vn=on[2],on[2]=on[3],on[3]=Vn),on[2]*=an[1],on[3]*=an[1],an[2]<0&&(Vn=on[0],on[0]=on[1],on[1]=Vn),on[0]*=an[2],on[1]*=an[2]),on[0]+=an[4],on[1]+=an[4],on[2]+=an[5],on[3]+=an[5]}static transform(an,on){return[an[0]*on[0]+an[2]*on[1],an[1]*on[0]+an[3]*on[1],an[0]*on[2]+an[2]*on[3],an[1]*on[2]+an[3]*on[3],an[0]*on[4]+an[2]*on[5]+an[4],an[1]*on[4]+an[3]*on[5]+an[5]]}static applyTransform(an,on){const Vn=an[0]*on[0]+an[1]*on[2]+on[4],Yn=an[0]*on[1]+an[1]*on[3]+on[5];return[Vn,Yn]}static applyInverseTransform(an,on){const Vn=on[0]*on[3]-on[1]*on[2],Yn=(an[0]*on[3]-an[1]*on[2]+on[2]*on[5]-on[4]*on[3])/Vn,ir=(-an[0]*on[1]+an[1]*on[0]+on[4]*on[1]-on[5]*on[0])/Vn;return[Yn,ir]}static getAxialAlignedBoundingBox(an,on){const Vn=this.applyTransform(an,on),Yn=this.applyTransform(an.slice(2,4),on),ir=this.applyTransform([an[0],an[3]],on),Bt=this.applyTransform([an[2],an[1]],on);return[Math.min(Vn[0],Yn[0],ir[0],Bt[0]),Math.min(Vn[1],Yn[1],ir[1],Bt[1]),Math.max(Vn[0],Yn[0],ir[0],Bt[0]),Math.max(Vn[1],Yn[1],ir[1],Bt[1])]}static inverseTransform(an){const on=an[0]*an[3]-an[1]*an[2];return[an[3]/on,-an[1]/on,-an[2]/on,an[0]/on,(an[2]*an[5]-an[4]*an[3])/on,(an[4]*an[1]-an[5]*an[0])/on]}static singularValueDecompose2dScale(an){const on=[an[0],an[2],an[1],an[3]],Vn=an[0]*on[0]+an[1]*on[2],Yn=an[0]*on[1]+an[1]*on[3],ir=an[2]*on[0]+an[3]*on[2],Bt=an[2]*on[1]+an[3]*on[3],bn=(Vn+Bt)/2,jn=Math.sqrt((Vn+Bt)**2-4*(Vn*Bt-ir*Yn))/2,qn=bn+jn||1,Zn=bn-jn||1;return[Math.sqrt(qn),Math.sqrt(Zn)]}static normalizeRect(an){const on=an.slice(0);return an[0]>an[2]&&(on[0]=an[2],on[2]=an[0]),an[1]>an[3]&&(on[1]=an[3],on[3]=an[1]),on}static intersect(an,on){const Vn=Math.max(Math.min(an[0],an[2]),Math.min(on[0],on[2])),Yn=Math.min(Math.max(an[0],an[2]),Math.max(on[0],on[2]));if(Vn>Yn)return null;const ir=Math.max(Math.min(an[1],an[3]),Math.min(on[1],on[3])),Bt=Math.min(Math.max(an[1],an[3]),Math.max(on[1],on[3]));return ir>Bt?null:[Vn,ir,Yn,Bt]}static bezierBoundingBox(an,on,Vn,Yn,ir,Bt,bn,jn){const qn=[],Zn=[[],[]];let Hn,Ot,Lt,Kt,yn,_n,Cn,Dn;for(let gr=0;gr<2;++gr){if(gr===0?(Ot=6*an-12*Vn+6*ir,Hn=-3*an+9*Vn-9*ir+3*bn,Lt=3*Vn-3*an):(Ot=6*on-12*Yn+6*Bt,Hn=-3*on+9*Yn-9*Bt+3*jn,Lt=3*Yn-3*on),Math.abs(Hn)<1e-12){if(Math.abs(Ot)<1e-12)continue;Kt=-Lt/Ot,0<Kt&&Kt<1&&qn.push(Kt);continue}Cn=Ot*Ot-4*Lt*Hn,Dn=Math.sqrt(Cn),!(Cn<0)&&(yn=(-Ot+Dn)/(2*Hn),0<yn&&yn<1&&qn.push(yn),_n=(-Ot-Dn)/(2*Hn),0<_n&&_n<1&&qn.push(_n))}let Kn=qn.length,Gn;const Bn=Kn;for(;Kn--;)Kt=qn[Kn],Gn=1-Kt,Zn[0][Kn]=Gn*Gn*Gn*an+3*Gn*Gn*Kt*Vn+3*Gn*Kt*Kt*ir+Kt*Kt*Kt*bn,Zn[1][Kn]=Gn*Gn*Gn*on+3*Gn*Gn*Kt*Yn+3*Gn*Kt*Kt*Bt+Kt*Kt*Kt*jn;return Zn[0][Bn]=an,Zn[1][Bn]=on,Zn[0][Bn+1]=bn,Zn[1][Bn+1]=jn,Zn[0].length=Zn[1].length=Bn+2,[Math.min(...Zn[0]),Math.min(...Zn[1]),Math.max(...Zn[0]),Math.max(...Zn[1])]}}j.Util=nn;const hn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function wn(xn){if(xn[0]>=""){let on;if(xn[0]===""&&xn[1]===""?on="utf-16be":xn[0]===""&&xn[1]===""?on="utf-16le":xn[0]===""&&xn[1]===""&&xn[2]===""&&(on="utf-8"),on)try{const Vn=new TextDecoder(on,{fatal:!0}),Yn=Sn(xn);return Vn.decode(Yn)}catch(Vn){Xt(`stringToPDFString: "${Vn}".`)}}const an=[];for(let on=0,Vn=xn.length;on<Vn;on++){const Yn=hn[xn.charCodeAt(on)];an.push(Yn?String.fromCharCode(Yn):xn.charAt(on))}return an.join("")}function Tn(xn){return decodeURIComponent(escape(xn))}function kn(xn){return unescape(encodeURIComponent(xn))}function tn(xn){return typeof xn=="object"&&(xn==null?void 0:xn.byteLength)!==void 0}function $n(xn,an){if(xn.length!==an.length)return!1;for(let on=0,Vn=xn.length;on<Vn;on++)if(xn[on]!==an[on])return!1;return!0}function In(xn=new Date){return[xn.getUTCFullYear().toString(),(xn.getUTCMonth()+1).toString().padStart(2,"0"),xn.getUTCDate().toString().padStart(2,"0"),xn.getUTCHours().toString().padStart(2,"0"),xn.getUTCMinutes().toString().padStart(2,"0"),xn.getUTCSeconds().toString().padStart(2,"0")].join("")}class hr{constructor(){pn(this,Mr,!1);this.promise=new Promise((an,on)=>{this.resolve=Vn=>{mn(this,Mr,!0),an(Vn)},this.reject=Vn=>{mn(this,Mr,!0),on(Vn)}})}get settled(){return it(this,Mr)}}Mr=new WeakMap,j.PromiseCapability=hr;let ar=null,br=null;function Wn(xn){return ar||(ar=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,br=new Map([["","t"]])),xn.replaceAll(ar,(an,on,Vn)=>on?on.normalize("NFKC"):br.get(Vn))}function er(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const xn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(xn);else for(let an=0;an<32;an++)xn[an]=Math.floor(Math.random()*255);return En(xn)}const vr="pdfjs_internal_id_";j.AnnotationPrefix=vr},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var _,$,_e,tt,bs,Gs,ct,rt,ot,st,_t,yt,gt,pt,kt,Xs,at,lt,Eo,wt,ut;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(ft){if(typeof ft=="string"||ft instanceof URL?ft={url:ft}:(0,_util.isArrayBuffer)(ft)&&(ft={data:ft}),typeof ft!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!ft.url&&!ft.data&&!ft.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const St=new PDFDocumentLoadingTask,{docId:xt}=St,Dt=ft.url?getUrlProp(ft.url):null,bt=ft.data?getDataProp(ft.data):null,Ft=ft.httpHeaders||null,$t=ft.withCredentials===!0,gn=ft.password??null,Yt=ft.range instanceof PDFDataRangeTransport?ft.range:null,rn=Number.isInteger(ft.rangeChunkSize)&&ft.rangeChunkSize>0?ft.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Xt=ft.worker instanceof PDFWorker?ft.worker:null;const Gt=ft.verbosity,Tt=typeof ft.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(ft.docBaseUrl)?ft.docBaseUrl:null,Ht=typeof ft.cMapUrl=="string"?ft.cMapUrl:null,Jt=ft.cMapPacked!==!1,Mt=ft.CMapReaderFactory||DefaultCMapReaderFactory,mt=typeof ft.standardFontDataUrl=="string"?ft.standardFontDataUrl:null,vt=ft.StandardFontDataFactory||DefaultStandardFontDataFactory,Pt=ft.stopAtErrors!==!0,It=Number.isInteger(ft.maxImageSize)&&ft.maxImageSize>-1?ft.maxImageSize:-1,jt=ft.isEvalSupported!==!1,Nt=typeof ft.isOffscreenCanvasSupported=="boolean"?ft.isOffscreenCanvasSupported:!_util.isNodeJS,Zt=Number.isInteger(ft.canvasMaxAreaInBytes)?ft.canvasMaxAreaInBytes:-1,vn=typeof ft.disableFontFace=="boolean"?ft.disableFontFace:_util.isNodeJS,En=ft.fontExtraProperties===!0,Sn=ft.enableXfa===!0,An=ft.ownerDocument||globalThis.document,Pn=ft.disableRange===!0,Rn=ft.disableStream===!0,cn=ft.disableAutoFetch===!0,dn=ft.pdfBug===!0,Rt=Yt?Yt.length:ft.length??NaN,zt=typeof ft.useSystemFonts=="boolean"?ft.useSystemFonts:!_util.isNodeJS&&!vn,nn=typeof ft.useWorkerFetch=="boolean"?ft.useWorkerFetch:Mt===_display_utils.DOMCMapReaderFactory&&vt===_display_utils.DOMStandardFontDataFactory&&Ht&&mt&&(0,_display_utils.isValidFetchUrl)(Ht,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(mt,document.baseURI),hn=ft.canvasFactory||new DefaultCanvasFactory({ownerDocument:An}),wn=ft.filterFactory||new DefaultFilterFactory({docId:xt,ownerDocument:An}),Tn=null;(0,_util.setVerbosityLevel)(Gt);const kn={canvasFactory:hn,filterFactory:wn};if(nn||(kn.cMapReaderFactory=new Mt({baseUrl:Ht,isCompressed:Jt}),kn.standardFontDataFactory=new vt({baseUrl:mt})),!Xt){const In={verbosity:Gt,port:_worker_options.GlobalWorkerOptions.workerPort};Xt=In.port?PDFWorker.fromPort(In):new PDFWorker(In),St._worker=Xt}const tn={docId:xt,apiVersion:"3.11.174",data:bt,password:gn,disableAutoFetch:cn,rangeChunkSize:rn,length:Rt,docBaseUrl:Tt,enableXfa:Sn,evaluatorOptions:{maxImageSize:It,disableFontFace:vn,ignoreErrors:Pt,isEvalSupported:jt,isOffscreenCanvasSupported:Nt,canvasMaxAreaInBytes:Zt,fontExtraProperties:En,useSystemFonts:zt,cMapUrl:nn?Ht:null,standardFontDataUrl:nn?mt:null}},$n={ignoreErrors:Pt,isEvalSupported:jt,disableFontFace:vn,fontExtraProperties:En,enableXfa:Sn,ownerDocument:An,disableAutoFetch:cn,pdfBug:dn,styleElement:Tn};return Xt.promise.then(function(){if(St.destroyed)throw new Error("Loading aborted");const In=_fetchDocument(Xt,tn),hr=new Promise(function(ar){let br;Yt?br=new _transport_stream.PDFDataTransportStream({length:Rt,initialData:Yt.initialData,progressiveDone:Yt.progressiveDone,contentDispositionFilename:Yt.contentDispositionFilename,disableRange:Pn,disableStream:Rn},Yt):bt||(br=(er=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(er):(0,_display_utils.isValidFetchUrl)(er.url)?new _displayFetch_stream.PDFFetchStream(er):new _displayNetwork.PDFNetworkStream(er))({url:Dt,length:Rt,httpHeaders:Ft,withCredentials:$t,rangeChunkSize:rn,disableRange:Pn,disableStream:Rn})),ar(br)});return Promise.all([In,hr]).then(function([ar,br]){if(St.destroyed)throw new Error("Loading aborted");const Wn=new _message_handler.MessageHandler(xt,ar,Xt.port),er=new WorkerTransport(Wn,St,br,$n,kn);St._transport=er,Wn.send("Ready",null)})}).catch(St._capability.reject),St}async function _fetchDocument(ft,St){if(ft.destroyed)throw new Error("Worker was destroyed");const xt=await ft.messageHandler.sendWithPromise("GetDocRequest",St,St.data?[St.data.buffer]:null);if(ft.destroyed)throw new Error("Worker was destroyed");return xt}function getUrlProp(ft){if(ft instanceof URL)return ft.href;try{return new URL(ft,window.location).href}catch{if(_util.isNodeJS&&typeof ft=="string")return ft}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(ft){if(_util.isNodeJS&&typeof Buffer<"u"&&ft instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(ft instanceof Uint8Array&&ft.byteLength===ft.buffer.byteLength)return ft;if(typeof ft=="string")return(0,_util.stringToBytes)(ft);if(typeof ft=="object"&&!isNaN(ft==null?void 0:ft.length)||(0,_util.isArrayBuffer)(ft))return new Uint8Array(ft);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const j=class j{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Ts(j,_)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var St,xt,Dt;this.destroyed=!0;try{(St=this._worker)!=null&&St.port&&(this._worker._pendingDestroy=!0),await((xt=this._transport)==null?void 0:xt.destroy())}catch(bt){throw(Dt=this._worker)!=null&&Dt.port&&delete this._worker._pendingDestroy,bt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};_=new WeakMap,pn(j,_,0);let PDFDocumentLoadingTask=j;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(St,xt,Dt=!1,bt=null){this.length=St,this.initialData=xt,this.progressiveDone=Dt,this.contentDispositionFilename=bt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(St){this._rangeListeners.push(St)}addProgressListener(St){this._progressListeners.push(St)}addProgressiveReadListener(St){this._progressiveReadListeners.push(St)}addProgressiveDoneListener(St){this._progressiveDoneListeners.push(St)}onDataRange(St,xt){for(const Dt of this._rangeListeners)Dt(St,xt)}onDataProgress(St,xt){this._readyCapability.promise.then(()=>{for(const Dt of this._progressListeners)Dt(St,xt)})}onDataProgressiveRead(St){this._readyCapability.promise.then(()=>{for(const xt of this._progressiveReadListeners)xt(St)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const St of this._progressiveDoneListeners)St()})}transportReady(){this._readyCapability.resolve()}requestDataRange(St,xt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(St,xt){this._pdfInfo=St,this._transport=xt,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Dt=>{if(!Dt)return Dt;const bt=[];for(const Ft in Dt)bt.push(...Dt[Ft]);return bt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(St){return this._transport.getPage(St)}getPageIndex(St){return this._transport.getPageIndex(St)}getDestinations(){return this._transport.getDestinations()}getDestination(St){return this._transport.getDestination(St)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(St=!1){return this._transport.startCleanup(St||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(St,xt,Dt,bt=!1){pn(this,tt);pn(this,$,null);pn(this,_e,!1);this._pageIndex=St,this._pageInfo=xt,this._transport=Dt,this._stats=bt?new _display_utils.StatTimer:null,this._pdfBug=bt,this.commonObjs=Dt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:St,rotation:xt=this.rotate,offsetX:Dt=0,offsetY:bt=0,dontFlip:Ft=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:St,rotation:xt,offsetX:Dt,offsetY:bt,dontFlip:Ft})}getAnnotations({intent:St="display"}={}){const xt=this._transport.getRenderingIntent(St);return this._transport.getAnnotations(this._pageIndex,xt.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var St;return((St=this._transport._htmlForXfa)==null?void 0:St.children[this._pageIndex])||null}render({canvasContext:St,viewport:xt,intent:Dt="display",annotationMode:bt=_util.AnnotationMode.ENABLE,transform:Ft=null,background:$t=null,optionalContentConfigPromise:gn=null,annotationCanvasMap:Yt=null,pageColors:rn=null,printAnnotationStorage:Xt=null}){var vt,Pt;(vt=this._stats)==null||vt.time("Overall");const Gt=this._transport.getRenderingIntent(Dt,bt,Xt);mn(this,_e,!1),en(this,tt,Gs).call(this),gn||(gn=this._transport.getOptionalContentConfig());let Tt=this._intentStates.get(Gt.cacheKey);Tt||(Tt=Object.create(null),this._intentStates.set(Gt.cacheKey,Tt)),Tt.streamReaderCancelTimeout&&(clearTimeout(Tt.streamReaderCancelTimeout),Tt.streamReaderCancelTimeout=null);const Ht=!!(Gt.renderingIntent&_util.RenderingIntentFlag.PRINT);Tt.displayReadyCapability||(Tt.displayReadyCapability=new _util.PromiseCapability,Tt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Pt=this._stats)==null||Pt.time("Page Request"),this._pumpOperatorList(Gt));const Jt=It=>{var jt,Nt;Tt.renderTasks.delete(Mt),(this._maybeCleanupAfterRender||Ht)&&mn(this,_e,!0),en(this,tt,bs).call(this,!Ht),It?(Mt.capability.reject(It),this._abortOperatorList({intentState:Tt,reason:It instanceof Error?It:new Error(It)})):Mt.capability.resolve(),(jt=this._stats)==null||jt.timeEnd("Rendering"),(Nt=this._stats)==null||Nt.timeEnd("Overall")},Mt=new InternalRenderTask({callback:Jt,params:{canvasContext:St,viewport:xt,transform:Ft,background:$t},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Yt,operatorList:Tt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Ht,pdfBug:this._pdfBug,pageColors:rn});(Tt.renderTasks||(Tt.renderTasks=new Set)).add(Mt);const mt=Mt.task;return Promise.all([Tt.displayReadyCapability.promise,gn]).then(([It,jt])=>{var Nt;if(this.destroyed){Jt();return}(Nt=this._stats)==null||Nt.time("Rendering"),Mt.initializeGraphics({transparency:It,optionalContentConfig:jt}),Mt.operatorListChanged()}).catch(Jt),mt}getOperatorList({intent:St="display",annotationMode:xt=_util.AnnotationMode.ENABLE,printAnnotationStorage:Dt=null}={}){var Yt;function bt(){$t.operatorList.lastChunk&&($t.opListReadCapability.resolve($t.operatorList),$t.renderTasks.delete(gn))}const Ft=this._transport.getRenderingIntent(St,xt,Dt,!0);let $t=this._intentStates.get(Ft.cacheKey);$t||($t=Object.create(null),this._intentStates.set(Ft.cacheKey,$t));let gn;return $t.opListReadCapability||(gn=Object.create(null),gn.operatorListChanged=bt,$t.opListReadCapability=new _util.PromiseCapability,($t.renderTasks||($t.renderTasks=new Set)).add(gn),$t.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Yt=this._stats)==null||Yt.time("Page Request"),this._pumpOperatorList(Ft)),$t.opListReadCapability.promise}streamTextContent({includeMarkedContent:St=!1,disableNormalization:xt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:St===!0,disableNormalization:xt===!0},{highWaterMark:100,size(bt){return bt.items.length}})}getTextContent(St={}){if(this._transport._htmlForXfa)return this.getXfa().then(Dt=>_xfa_text.XfaText.textContent(Dt));const xt=this.streamTextContent(St);return new Promise(function(Dt,bt){function Ft(){$t.read().then(function({value:Yt,done:rn}){if(rn){Dt(gn);return}Object.assign(gn.styles,Yt.styles),gn.items.push(...Yt.items),Ft()},bt)}const $t=xt.getReader(),gn={items:[],styles:Object.create(null)};Ft()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const St=[];for(const xt of this._intentStates.values())if(this._abortOperatorList({intentState:xt,reason:new Error("Page was destroyed."),force:!0}),!xt.opListReadCapability)for(const Dt of xt.renderTasks)St.push(Dt.completed),Dt.cancel();return this.objs.clear(),mn(this,_e,!1),en(this,tt,Gs).call(this),Promise.all(St)}cleanup(St=!1){mn(this,_e,!0);const xt=en(this,tt,bs).call(this,!1);return St&&xt&&this._stats&&(this._stats=new _display_utils.StatTimer),xt}_startRenderPage(St,xt){var bt,Ft;const Dt=this._intentStates.get(xt);Dt&&((bt=this._stats)==null||bt.timeEnd("Page Request"),(Ft=Dt.displayReadyCapability)==null||Ft.resolve(St))}_renderPageChunk(St,xt){for(let Dt=0,bt=St.length;Dt<bt;Dt++)xt.operatorList.fnArray.push(St.fnArray[Dt]),xt.operatorList.argsArray.push(St.argsArray[Dt]);xt.operatorList.lastChunk=St.lastChunk,xt.operatorList.separateAnnots=St.separateAnnots;for(const Dt of xt.renderTasks)Dt.operatorListChanged();St.lastChunk&&en(this,tt,bs).call(this,!0)}_pumpOperatorList({renderingIntent:St,cacheKey:xt,annotationStorageSerializable:Dt}){const{map:bt,transfers:Ft}=Dt,gn=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:St,cacheKey:xt,annotationStorage:bt},Ft).getReader(),Yt=this._intentStates.get(xt);Yt.streamReader=gn;const rn=()=>{gn.read().then(({value:Xt,done:Gt})=>{if(Gt){Yt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Xt,Yt),rn())},Xt=>{if(Yt.streamReader=null,!this._transport.destroyed){if(Yt.operatorList){Yt.operatorList.lastChunk=!0;for(const Gt of Yt.renderTasks)Gt.operatorListChanged();en(this,tt,bs).call(this,!0)}if(Yt.displayReadyCapability)Yt.displayReadyCapability.reject(Xt);else if(Yt.opListReadCapability)Yt.opListReadCapability.reject(Xt);else throw Xt}})};rn()}_abortOperatorList({intentState:St,reason:xt,force:Dt=!1}){if(St.streamReader){if(St.streamReaderCancelTimeout&&(clearTimeout(St.streamReaderCancelTimeout),St.streamReaderCancelTimeout=null),!Dt){if(St.renderTasks.size>0)return;if(xt instanceof _display_utils.RenderingCancelledException){let bt=RENDERING_CANCELLED_TIMEOUT;xt.extraDelay>0&&xt.extraDelay<1e3&&(bt+=xt.extraDelay),St.streamReaderCancelTimeout=setTimeout(()=>{St.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:St,reason:xt,force:!0})},bt);return}}if(St.streamReader.cancel(new _util.AbortException(xt.message)).catch(()=>{}),St.streamReader=null,!this._transport.destroyed){for(const[bt,Ft]of this._intentStates)if(Ft===St){this._intentStates.delete(bt);break}this.cleanup()}}}get stats(){return this._stats}}$=new WeakMap,_e=new WeakMap,tt=new WeakSet,bs=function(St=!1){if(en(this,tt,Gs).call(this),!it(this,_e)||this.destroyed)return!1;if(St)return mn(this,$,setTimeout(()=>{mn(this,$,null),en(this,tt,bs).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:xt,operatorList:Dt}of this._intentStates.values())if(xt.size>0||!Dt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),mn(this,_e,!1),!0},Gs=function(){it(this,$)&&(clearTimeout(it(this,$)),mn(this,$,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){pn(this,ct,new Set);pn(this,rt,Promise.resolve())}postMessage(St,xt){const Dt={data:structuredClone(St,xt?{transfer:xt}:null)};it(this,rt).then(()=>{for(const bt of it(this,ct))bt.call(this,Dt)})}addEventListener(St,xt){it(this,ct).add(xt)}removeEventListener(St,xt){it(this,ct).delete(xt)}terminate(){it(this,ct).clear()}}ct=new WeakMap,rt=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const ft=(ot=document==null?void 0:document.currentScript)==null?void 0:ot.src;ft&&(PDFWorkerUtil.fallbackWorkerSrc=ft.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(ft,St){let xt;try{if(xt=new URL(ft),!xt.origin||xt.origin==="null")return!1}catch{return!1}const Dt=new URL(St,xt);return xt.origin===Dt.origin},PDFWorkerUtil.createCDNWrapper=function(ft){const St=`importScripts("${ft}");`;return URL.createObjectURL(new Blob([St]))}}const _PDFWorker=class _PDFWorker{constructor({name:ft=null,port:St=null,verbosity:xt=(0,_util.getVerbosityLevel)()}={}){var Dt;if(this.name=ft,this.destroyed=!1,this.verbosity=xt,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,St){if((Dt=it(_PDFWorker,st))!=null&&Dt.has(St))throw new Error("Cannot use more than one PDFWorker per port.");(it(_PDFWorker,st)||mn(_PDFWorker,st,new WeakMap)).set(St,this),this._initializeFromPort(St);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ft){this._port=ft,this._messageHandler=new _message_handler.MessageHandler("main","worker",ft),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:ft}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,ft)||(ft=PDFWorkerUtil.createCDNWrapper(new URL(ft,window.location).href));const St=new Worker(ft),xt=new _message_handler.MessageHandler("main","worker",St),Dt=()=>{St.removeEventListener("error",bt),xt.destroy(),St.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},bt=()=>{this._webWorker||Dt()};St.addEventListener("error",bt),xt.on("test",$t=>{if(St.removeEventListener("error",bt),this.destroyed){Dt();return}$t?(this._messageHandler=xt,this._port=St,this._webWorker=St,this._readyCapability.resolve(),xt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),xt.destroy(),St.terminate())}),xt.on("ready",$t=>{if(St.removeEventListener("error",bt),this.destroyed){Dt();return}try{Ft()}catch{this._setupFakeWorker()}});const Ft=()=>{const $t=new Uint8Array;xt.send("test",$t,[$t.buffer])};Ft();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(ft=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const St=new LoopbackPort;this._port=St;const xt=`fake${PDFWorkerUtil.fakeWorkerId++}`,Dt=new _message_handler.MessageHandler(xt+"_worker",xt,St);ft.setup(Dt,St);const bt=new _message_handler.MessageHandler(xt,xt+"_worker",St);this._messageHandler=bt,this._readyCapability.resolve(),bt.send("configure",{verbosity:this.verbosity})}).catch(ft=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ft.message}".`))})}destroy(){var ft;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(ft=it(_PDFWorker,st))==null||ft.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ft){var xt;if(!(ft!=null&&ft.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const St=(xt=it(this,st))==null?void 0:xt.get(ft.port);if(St){if(St._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return St}return new _PDFWorker(ft)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var ft;try{return((ft=globalThis.pdfjsWorker)==null?void 0:ft.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};st=new WeakMap,pn(_PDFWorker,st);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(St,xt,Dt,bt,Ft){pn(this,kt);pn(this,_t,new Map);pn(this,yt,new Map);pn(this,gt,new Map);pn(this,pt,null);this.messageHandler=St,this.loadingTask=xt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:bt.ownerDocument,styleElement:bt.styleElement}),this._params=bt,this.canvasFactory=Ft.canvasFactory,this.filterFactory=Ft.filterFactory,this.cMapReaderFactory=Ft.cMapReaderFactory,this.standardFontDataFactory=Ft.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Dt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(St,xt=_util.AnnotationMode.ENABLE,Dt=null,bt=!1){let Ft=_util.RenderingIntentFlag.DISPLAY,$t=_annotation_storage.SerializableEmpty;switch(St){case"any":Ft=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Ft=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${St}`)}switch(xt){case _util.AnnotationMode.DISABLE:Ft+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Ft+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Ft+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,$t=(Ft&_util.RenderingIntentFlag.PRINT&&Dt instanceof _annotation_storage.PrintAnnotationStorage?Dt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${xt}`)}return bt&&(Ft+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Ft,cacheKey:`${Ft}_${$t.hash}`,annotationStorageSerializable:$t}}destroy(){var Dt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Dt=it(this,pt))==null||Dt.reject(new Error("Worker was destroyed during onPassword callback"));const St=[];for(const bt of it(this,yt).values())St.push(bt._destroy());it(this,yt).clear(),it(this,gt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const xt=this.messageHandler.sendWithPromise("Terminate",null);return St.push(xt),Promise.all(St).then(()=>{var bt;this.commonObjs.clear(),this.fontLoader.clear(),it(this,_t).clear(),this.filterFactory.destroy(),(bt=this._networkStream)==null||bt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:St,loadingTask:xt}=this;St.on("GetReader",(Dt,bt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Ft=>{this._lastProgress={loaded:Ft.loaded,total:Ft.total}},bt.onPull=()=>{this._fullReader.read().then(function({value:Ft,done:$t}){if($t){bt.close();return}(0,_util.assert)(Ft instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),bt.enqueue(new Uint8Array(Ft),1,[Ft])}).catch(Ft=>{bt.error(Ft)})},bt.onCancel=Ft=>{this._fullReader.cancel(Ft),bt.ready.catch($t=>{if(!this.destroyed)throw $t})}}),St.on("ReaderHeadersReady",Dt=>{const bt=new _util.PromiseCapability,Ft=this._fullReader;return Ft.headersReady.then(()=>{var $t;(!Ft.isStreamingSupported||!Ft.isRangeSupported)&&(this._lastProgress&&(($t=xt.onProgress)==null||$t.call(xt,this._lastProgress)),Ft.onProgress=gn=>{var Yt;(Yt=xt.onProgress)==null||Yt.call(xt,{loaded:gn.loaded,total:gn.total})}),bt.resolve({isStreamingSupported:Ft.isStreamingSupported,isRangeSupported:Ft.isRangeSupported,contentLength:Ft.contentLength})},bt.reject),bt.promise}),St.on("GetRangeReader",(Dt,bt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Ft=this._networkStream.getRangeReader(Dt.begin,Dt.end);if(!Ft){bt.close();return}bt.onPull=()=>{Ft.read().then(function({value:$t,done:gn}){if(gn){bt.close();return}(0,_util.assert)($t instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),bt.enqueue(new Uint8Array($t),1,[$t])}).catch($t=>{bt.error($t)})},bt.onCancel=$t=>{Ft.cancel($t),bt.ready.catch(gn=>{if(!this.destroyed)throw gn})}}),St.on("GetDoc",({pdfInfo:Dt})=>{this._numPages=Dt.numPages,this._htmlForXfa=Dt.htmlForXfa,delete Dt.htmlForXfa,xt._capability.resolve(new PDFDocumentProxy(Dt,this))}),St.on("DocException",function(Dt){let bt;switch(Dt.name){case"PasswordException":bt=new _util.PasswordException(Dt.message,Dt.code);break;case"InvalidPDFException":bt=new _util.InvalidPDFException(Dt.message);break;case"MissingPDFException":bt=new _util.MissingPDFException(Dt.message);break;case"UnexpectedResponseException":bt=new _util.UnexpectedResponseException(Dt.message,Dt.status);break;case"UnknownErrorException":bt=new _util.UnknownErrorException(Dt.message,Dt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}xt._capability.reject(bt)}),St.on("PasswordRequest",Dt=>{if(mn(this,pt,new _util.PromiseCapability),xt.onPassword){const bt=Ft=>{Ft instanceof Error?it(this,pt).reject(Ft):it(this,pt).resolve({password:Ft})};try{xt.onPassword(bt,Dt.code)}catch(Ft){it(this,pt).reject(Ft)}}else it(this,pt).reject(new _util.PasswordException(Dt.message,Dt.code));return it(this,pt).promise}),St.on("DataLoaded",Dt=>{var bt;(bt=xt.onProgress)==null||bt.call(xt,{loaded:Dt.length,total:Dt.length}),this.downloadInfoCapability.resolve(Dt)}),St.on("StartRenderPage",Dt=>{if(this.destroyed)return;it(this,yt).get(Dt.pageIndex)._startRenderPage(Dt.transparency,Dt.cacheKey)}),St.on("commonobj",([Dt,bt,Ft])=>{var $t;if(!this.destroyed&&!this.commonObjs.has(Dt))switch(bt){case"Font":const gn=this._params;if("error"in Ft){const Xt=Ft.error;(0,_util.warn)(`Error during font loading: ${Xt}`),this.commonObjs.resolve(Dt,Xt);break}const Yt=gn.pdfBug&&(($t=globalThis.FontInspector)!=null&&$t.enabled)?(Xt,Gt)=>globalThis.FontInspector.fontAdded(Xt,Gt):null,rn=new _font_loader.FontFaceObject(Ft,{isEvalSupported:gn.isEvalSupported,disableFontFace:gn.disableFontFace,ignoreErrors:gn.ignoreErrors,inspectFont:Yt});this.fontLoader.bind(rn).catch(Xt=>St.sendWithPromise("FontFallback",{id:Dt})).finally(()=>{!gn.fontExtraProperties&&rn.data&&(rn.data=null),this.commonObjs.resolve(Dt,rn)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Dt,Ft);break;default:throw new Error(`Got unknown common object type ${bt}`)}}),St.on("obj",([Dt,bt,Ft,$t])=>{var Yt;if(this.destroyed)return;const gn=it(this,yt).get(bt);if(!gn.objs.has(Dt))switch(Ft){case"Image":if(gn.objs.resolve(Dt,$t),$t){let rn;if($t.bitmap){const{width:Xt,height:Gt}=$t;rn=Xt*Gt*4}else rn=((Yt=$t.data)==null?void 0:Yt.length)||0;rn>_util.MAX_IMAGE_SIZE_TO_CACHE&&(gn._maybeCleanupAfterRender=!0)}break;case"Pattern":gn.objs.resolve(Dt,$t);break;default:throw new Error(`Got unknown object type ${Ft}`)}}),St.on("DocProgress",Dt=>{var bt;this.destroyed||(bt=xt.onProgress)==null||bt.call(xt,{loaded:Dt.loaded,total:Dt.total})}),St.on("FetchBuiltInCMap",Dt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Dt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),St.on("FetchStandardFontData",Dt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Dt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Dt;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:St,transfers:xt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:St,filename:((Dt=this._fullReader)==null?void 0:Dt.filename)??null},xt).finally(()=>{this.annotationStorage.resetModified()})}getPage(St){if(!Number.isInteger(St)||St<=0||St>this._numPages)return Promise.reject(new Error("Invalid page request."));const xt=St-1,Dt=it(this,gt).get(xt);if(Dt)return Dt;const bt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:xt}).then(Ft=>{if(this.destroyed)throw new Error("Transport destroyed");const $t=new PDFPageProxy(xt,Ft,this,this._params.pdfBug);return it(this,yt).set(xt,$t),$t});return it(this,gt).set(xt,bt),bt}getPageIndex(St){return typeof St!="object"||St===null||!Number.isInteger(St.num)||St.num<0||!Number.isInteger(St.gen)||St.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:St.num,gen:St.gen})}getAnnotations(St,xt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:St,intent:xt})}getFieldObjects(){return en(this,kt,Xs).call(this,"GetFieldObjects")}hasJSActions(){return en(this,kt,Xs).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(St){return typeof St!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:St})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return en(this,kt,Xs).call(this,"GetDocJSActions")}getPageJSActions(St){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:St})}getStructTree(St){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:St})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(St=>new _optional_content_config.OptionalContentConfig(St))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const St="GetMetadata",xt=it(this,_t).get(St);if(xt)return xt;const Dt=this.messageHandler.sendWithPromise(St,null).then(bt=>{var Ft,$t;return{info:bt[0],metadata:bt[1]?new _metadata.Metadata(bt[1]):null,contentDispositionFilename:((Ft=this._fullReader)==null?void 0:Ft.filename)??null,contentLength:(($t=this._fullReader)==null?void 0:$t.contentLength)??null}});return it(this,_t).set(St,Dt),Dt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(St=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const xt of it(this,yt).values())if(!xt.cleanup())throw new Error(`startCleanup: Page ${xt.pageNumber} is currently rendering.`);this.commonObjs.clear(),St||this.fontLoader.clear(),it(this,_t).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:St,enableXfa:xt}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:St,enableXfa:xt})}}_t=new WeakMap,yt=new WeakMap,gt=new WeakMap,pt=new WeakMap,kt=new WeakSet,Xs=function(St,xt=null){const Dt=it(this,_t).get(St);if(Dt)return Dt;const bt=this.messageHandler.sendWithPromise(St,xt);return it(this,_t).set(St,bt),bt};class PDFObjects{constructor(){pn(this,lt);pn(this,at,Object.create(null))}get(St,xt=null){if(xt){const bt=en(this,lt,Eo).call(this,St);return bt.capability.promise.then(()=>xt(bt.data)),null}const Dt=it(this,at)[St];if(!(Dt!=null&&Dt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${St}.`);return Dt.data}has(St){const xt=it(this,at)[St];return(xt==null?void 0:xt.capability.settled)||!1}resolve(St,xt=null){const Dt=en(this,lt,Eo).call(this,St);Dt.data=xt,Dt.capability.resolve()}clear(){var St;for(const xt in it(this,at)){const{data:Dt}=it(this,at)[xt];(St=Dt==null?void 0:Dt.bitmap)==null||St.close()}mn(this,at,Object.create(null))}}at=new WeakMap,lt=new WeakSet,Eo=function(St){var xt;return(xt=it(this,at))[St]||(xt[St]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(St){pn(this,wt,null);mn(this,wt,St),this.onContinue=null}get promise(){return it(this,wt).capability.promise}cancel(St=0){it(this,wt).cancel(null,St)}get separateAnnots(){const{separateAnnots:St}=it(this,wt).operatorList;if(!St)return!1;const{annotationCanvasMap:xt}=it(this,wt);return St.form||St.canvas&&(xt==null?void 0:xt.size)>0}}wt=new WeakMap,exports.RenderTask=RenderTask;const Et=class Et{constructor({callback:St,params:xt,objs:Dt,commonObjs:bt,annotationCanvasMap:Ft,operatorList:$t,pageIndex:gn,canvasFactory:Yt,filterFactory:rn,useRequestAnimationFrame:Xt=!1,pdfBug:Gt=!1,pageColors:Tt=null}){this.callback=St,this.params=xt,this.objs=Dt,this.commonObjs=bt,this.annotationCanvasMap=Ft,this.operatorListIdx=null,this.operatorList=$t,this._pageIndex=gn,this.canvasFactory=Yt,this.filterFactory=rn,this._pdfBug=Gt,this.pageColors=Tt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Xt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=xt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:St=!1,optionalContentConfig:xt}){var gn,Yt;if(this.cancelled)return;if(this._canvas){if(it(Et,ut).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");it(Et,ut).add(this._canvas)}this._pdfBug&&((gn=globalThis.StepperManager)!=null&&gn.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Dt,viewport:bt,transform:Ft,background:$t}=this.params;this.gfx=new _canvas.CanvasGraphics(Dt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:xt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Ft,viewport:bt,transparency:St,background:$t}),this.operatorListIdx=0,this.graphicsReady=!0,(Yt=this.graphicsReadyCallback)==null||Yt.call(this)}cancel(St=null,xt=0){var Dt;this.running=!1,this.cancelled=!0,(Dt=this.gfx)==null||Dt.endDrawing(),it(Et,ut).delete(this._canvas),this.callback(St||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,xt))}operatorListChanged(){var St;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(St=this.stepper)==null||St.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),it(Et,ut).delete(this._canvas),this.callback())))}};ut=new WeakMap,pn(Et,ut,new WeakSet);let InternalRenderTask=Et;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(_,j,$)=>{var ot,st,_t,Bl,gt;Object.defineProperty(j,"__esModule",{value:!0}),j.SerializableEmpty=j.PrintAnnotationStorage=j.AnnotationStorage=void 0;var _e=$(1),tt=$(4),et=$(8);const nt=Object.freeze({map:null,hash:"",transfers:void 0});j.SerializableEmpty=nt;class ct{constructor(){pn(this,_t);pn(this,ot,!1);pn(this,st,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(kt,At){const at=it(this,st).get(kt);return at===void 0?At:Object.assign(At,at)}getRawValue(kt){return it(this,st).get(kt)}remove(kt){if(it(this,st).delete(kt),it(this,st).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const At of it(this,st).values())if(At instanceof tt.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(kt,At){const at=it(this,st).get(kt);let lt=!1;if(at!==void 0)for(const[dt,wt]of Object.entries(At))at[dt]!==wt&&(lt=!0,at[dt]=wt);else lt=!0,it(this,st).set(kt,At);lt&&en(this,_t,Bl).call(this),At instanceof tt.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(At.constructor._type)}has(kt){return it(this,st).has(kt)}getAll(){return it(this,st).size>0?(0,_e.objectFromMap)(it(this,st)):null}setAll(kt){for(const[At,at]of Object.entries(kt))this.setValue(At,at)}get size(){return it(this,st).size}resetModified(){it(this,ot)&&(mn(this,ot,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new rt(this)}get serializable(){if(it(this,st).size===0)return nt;const kt=new Map,At=new et.MurmurHash3_64,at=[],lt=Object.create(null);let dt=!1;for(const[wt,ut]of it(this,st)){const Et=ut instanceof tt.AnnotationEditor?ut.serialize(!1,lt):ut;Et&&(kt.set(wt,Et),At.update(`${wt}:${JSON.stringify(Et)}`),dt||(dt=!!Et.bitmap))}if(dt)for(const wt of kt.values())wt.bitmap&&at.push(wt.bitmap);return kt.size>0?{map:kt,hash:At.hexdigest(),transfers:at}:nt}}ot=new WeakMap,st=new WeakMap,_t=new WeakSet,Bl=function(){it(this,ot)||(mn(this,ot,!0),typeof this.onSetModified=="function"&&this.onSetModified())},j.AnnotationStorage=ct;class rt extends ct{constructor(At){super();pn(this,gt);const{map:at,hash:lt,transfers:dt}=At.serializable,wt=structuredClone(at,dt?{transfer:dt}:null);mn(this,gt,{map:wt,hash:lt,transfers:dt})}get print(){(0,_e.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return it(this,gt)}}gt=new WeakMap,j.PrintAnnotationStorage=rt},(_,j,$)=>{var rt,ot,st,_t,yt,gt,pt,kt,At,at,lt,dt,wt,ut,Et,So,wo,xt,bo,Ao,Ul,Hl,Vl,xo,Wl;Object.defineProperty(j,"__esModule",{value:!0}),j.AnnotationEditor=void 0;var _e=$(5),tt=$(1),et=$(6);const Xt=class Xt{constructor(Tt){pn(this,Et);pn(this,rt,"");pn(this,ot,!1);pn(this,st,null);pn(this,_t,null);pn(this,yt,null);pn(this,gt,!1);pn(this,pt,null);pn(this,kt,this.focusin.bind(this));pn(this,At,this.focusout.bind(this));pn(this,at,!1);pn(this,lt,!1);pn(this,dt,!1);Hr(this,"_initialOptions",Object.create(null));Hr(this,"_uiManager",null);Hr(this,"_focusEventsAllowed",!0);Hr(this,"_l10nPromise",null);pn(this,wt,!1);pn(this,ut,Xt._zIndex++);this.constructor===Xt&&(0,tt.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Tt.parent,this.id=Tt.id,this.width=this.height=null,this.pageIndex=Tt.parent.pageIndex,this.name=Tt.name,this.div=null,this._uiManager=Tt.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=Tt.isCentered,this._structTreeParentId=null;const{rotation:Ht,rawDims:{pageWidth:Jt,pageHeight:Mt,pageX:mt,pageY:vt}}=this.parent.viewport;this.rotation=Ht,this.pageRotation=(360+Ht-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Jt,Mt],this.pageTranslation=[mt,vt];const[Pt,It]=this.parentDimensions;this.x=Tt.x/Pt,this.y=Tt.y/It,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,tt.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(Tt){const Ht=new ct({id:Tt.parent.getNextId(),parent:Tt.parent,uiManager:Tt._uiManager});Ht.annotationElementId=Tt.annotationElementId,Ht.deleted=!0,Ht._uiManager.addToAnnotationStorage(Ht)}static initialize(Tt,Ht=null){if(Xt._l10nPromise||(Xt._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Mt=>[Mt,Tt.get(Mt)]))),Ht!=null&&Ht.strings)for(const Mt of Ht.strings)Xt._l10nPromise.set(Mt,Tt.get(Mt));if(Xt._borderLineWidth!==-1)return;const Jt=getComputedStyle(document.documentElement);Xt._borderLineWidth=parseFloat(Jt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(Tt,Ht){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(Tt){return!1}static paste(Tt,Ht){(0,tt.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return it(this,wt)}set _isDraggable(Tt){var Ht;mn(this,wt,Tt),(Ht=this.div)==null||Ht.classList.toggle("draggable",Tt)}center(){const[Tt,Ht]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Ht/(Tt*2),this.y+=this.width*Tt/(Ht*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Ht/(Tt*2),this.y-=this.width*Tt/(Ht*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(Tt){this._uiManager.addCommands(Tt)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=it(this,ut)}setParent(Tt){Tt!==null&&(this.pageIndex=Tt.pageIndex,this.pageDimensions=Tt.pageDimensions),this.parent=Tt}focusin(Tt){this._focusEventsAllowed&&(it(this,at)?mn(this,at,!1):this.parent.setSelected(this))}focusout(Tt){var Jt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Ht=Tt.relatedTarget;Ht!=null&&Ht.closest(`#${this.id}`)||(Tt.preventDefault(),(Jt=this.parent)!=null&&Jt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(Tt,Ht,Jt,Mt){const[mt,vt]=this.parentDimensions;[Jt,Mt]=this.screenToPageTranslation(Jt,Mt),this.x=(Tt+Jt)/mt,this.y=(Ht+Mt)/vt,this.fixAndSetPosition()}translate(Tt,Ht){en(this,Et,So).call(this,this.parentDimensions,Tt,Ht)}translateInPage(Tt,Ht){en(this,Et,So).call(this,this.pageDimensions,Tt,Ht),this.div.scrollIntoView({block:"nearest"})}drag(Tt,Ht){const[Jt,Mt]=this.parentDimensions;if(this.x+=Tt/Jt,this.y+=Ht/Mt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:jt,y:Nt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,jt,Nt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:mt,y:vt}=this;const[Pt,It]=en(this,Et,wo).call(this);mt+=Pt,vt+=It,this.div.style.left=`${(100*mt).toFixed(2)}%`,this.div.style.top=`${(100*vt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[Tt,Ht]=this.pageDimensions;let{x:Jt,y:Mt,width:mt,height:vt}=this;switch(mt*=Tt,vt*=Ht,Jt*=Tt,Mt*=Ht,this.rotation){case 0:Jt=Math.max(0,Math.min(Tt-mt,Jt)),Mt=Math.max(0,Math.min(Ht-vt,Mt));break;case 90:Jt=Math.max(0,Math.min(Tt-vt,Jt)),Mt=Math.min(Ht,Math.max(mt,Mt));break;case 180:Jt=Math.min(Tt,Math.max(mt,Jt)),Mt=Math.min(Ht,Math.max(vt,Mt));break;case 270:Jt=Math.min(Tt,Math.max(vt,Jt)),Mt=Math.max(0,Math.min(Ht-mt,Mt));break}this.x=Jt/=Tt,this.y=Mt/=Ht;const[Pt,It]=en(this,Et,wo).call(this);Jt+=Pt,Mt+=It;const{style:jt}=this.div;jt.left=`${(100*Jt).toFixed(2)}%`,jt.top=`${(100*Mt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(Tt,Ht){var Jt;return en(Jt=Xt,xt,bo).call(Jt,Tt,Ht,this.parentRotation)}pageTranslationToScreen(Tt,Ht){var Jt;return en(Jt=Xt,xt,bo).call(Jt,Tt,Ht,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:Tt,pageDimensions:[Ht,Jt]}=this,Mt=Ht*Tt,mt=Jt*Tt;return tt.FeatureTest.isCSSRoundSupported?[Math.round(Mt),Math.round(mt)]:[Mt,mt]}setDims(Tt,Ht){var mt;const[Jt,Mt]=this.parentDimensions;this.div.style.width=`${(100*Tt/Jt).toFixed(2)}%`,it(this,gt)||(this.div.style.height=`${(100*Ht/Mt).toFixed(2)}%`),(mt=it(this,st))==null||mt.classList.toggle("small",Tt<Xt.SMALL_EDITOR_SIZE||Ht<Xt.SMALL_EDITOR_SIZE)}fixDims(){const{style:Tt}=this.div,{height:Ht,width:Jt}=Tt,Mt=Jt.endsWith("%"),mt=!it(this,gt)&&Ht.endsWith("%");if(Mt&&mt)return;const[vt,Pt]=this.parentDimensions;Mt||(Tt.width=`${(100*parseFloat(Jt)/vt).toFixed(2)}%`),!it(this,gt)&&!mt&&(Tt.height=`${(100*parseFloat(Ht)/Pt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(it(this,st))return;const Tt=mn(this,st,document.createElement("button"));Tt.className="altText";const Ht=await Xt._l10nPromise.get("editor_alt_text_button_label");Tt.textContent=Ht,Tt.setAttribute("aria-label",Ht),Tt.tabIndex="0",Tt.addEventListener("contextmenu",et.noContextMenu),Tt.addEventListener("pointerdown",Jt=>Jt.stopPropagation()),Tt.addEventListener("click",Jt=>{Jt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),Tt.addEventListener("keydown",Jt=>{Jt.target===Tt&&Jt.key==="Enter"&&(Jt.preventDefault(),this._uiManager.editAltText(this))}),en(this,Et,xo).call(this),this.div.append(Tt),Xt.SMALL_EDITOR_SIZE||(Xt.SMALL_EDITOR_SIZE=Math.min(128,Math.round(Tt.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:it(this,rt),decorative:it(this,ot)}}set altTextData({altText:Tt,decorative:Ht}){it(this,rt)===Tt&&it(this,ot)===Ht||(mn(this,rt,Tt),mn(this,ot,Ht),en(this,Et,xo).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",it(this,kt)),this.div.addEventListener("focusout",it(this,At));const[Tt,Ht]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Ht/Tt).toFixed(2)}%`,this.div.style.maxHeight=`${(100*Tt/Ht).toFixed(2)}%`);const[Jt,Mt]=this.getInitialTranslation();return this.translate(Jt,Mt),(0,_e.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(Tt){const{isMac:Ht}=tt.FeatureTest.platform;if(Tt.button!==0||Tt.ctrlKey&&Ht){Tt.preventDefault();return}mn(this,at,!0),en(this,Et,Wl).call(this,Tt)}moveInDOM(){var Tt;(Tt=this.parent)==null||Tt.moveEditorInDOM(this)}_setParentAndPosition(Tt,Ht,Jt){Tt.changeParent(this),this.x=Ht,this.y=Jt,this.fixAndSetPosition()}getRect(Tt,Ht){const Jt=this.parentScale,[Mt,mt]=this.pageDimensions,[vt,Pt]=this.pageTranslation,It=Tt/Jt,jt=Ht/Jt,Nt=this.x*Mt,Zt=this.y*mt,vn=this.width*Mt,En=this.height*mt;switch(this.rotation){case 0:return[Nt+It+vt,mt-Zt-jt-En+Pt,Nt+It+vn+vt,mt-Zt-jt+Pt];case 90:return[Nt+jt+vt,mt-Zt+It+Pt,Nt+jt+En+vt,mt-Zt+It+vn+Pt];case 180:return[Nt-It-vn+vt,mt-Zt+jt+Pt,Nt-It+vt,mt-Zt+jt+En+Pt];case 270:return[Nt-jt-En+vt,mt-Zt-It-vn+Pt,Nt-jt+vt,mt-Zt-It+Pt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Tt,Ht){const[Jt,Mt,mt,vt]=Tt,Pt=mt-Jt,It=vt-Mt;switch(this.rotation){case 0:return[Jt,Ht-vt,Pt,It];case 90:return[Jt,Ht-Mt,It,Pt];case 180:return[mt,Ht-Mt,Pt,It];case 270:return[mt,Ht-vt,It,Pt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){mn(this,dt,!0)}disableEditMode(){mn(this,dt,!1)}isInEditMode(){return it(this,dt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Tt,Ht;(Tt=this.div)==null||Tt.addEventListener("focusin",it(this,kt)),(Ht=this.div)==null||Ht.addEventListener("focusout",it(this,At))}serialize(Tt=!1,Ht=null){(0,tt.unreachable)("An editor must be serializable")}static deserialize(Tt,Ht,Jt){const Mt=new this.prototype.constructor({parent:Ht,id:Ht.getNextId(),uiManager:Jt});Mt.rotation=Tt.rotation;const[mt,vt]=Mt.pageDimensions,[Pt,It,jt,Nt]=Mt.getRectInCurrentCoords(Tt.rect,vt);return Mt.x=Pt/mt,Mt.y=It/vt,Mt.width=jt/mt,Mt.height=Nt/vt,Mt}remove(){var Tt;this.div.removeEventListener("focusin",it(this,kt)),this.div.removeEventListener("focusout",it(this,At)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(Tt=it(this,st))==null||Tt.remove(),mn(this,st,null),mn(this,_t,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(en(this,Et,Ul).call(this),it(this,pt).classList.remove("hidden"))}select(){var Tt;this.makeResizable(),(Tt=this.div)==null||Tt.classList.add("selectedEditor")}unselect(){var Tt,Ht,Jt;(Tt=it(this,pt))==null||Tt.classList.add("hidden"),(Ht=this.div)==null||Ht.classList.remove("selectedEditor"),(Jt=this.div)!=null&&Jt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(Tt,Ht){}disableEditing(){it(this,st)&&(it(this,st).hidden=!0)}enableEditing(){it(this,st)&&(it(this,st).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return it(this,lt)}set isEditing(Tt){mn(this,lt,Tt),this.parent&&(Tt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(Tt,Ht){mn(this,gt,!0);const Jt=Tt/Ht,{style:Mt}=this.div;Mt.aspectRatio=Jt,Mt.height="auto"}static get MIN_SIZE(){return 16}};rt=new WeakMap,ot=new WeakMap,st=new WeakMap,_t=new WeakMap,yt=new WeakMap,gt=new WeakMap,pt=new WeakMap,kt=new WeakMap,At=new WeakMap,at=new WeakMap,lt=new WeakMap,dt=new WeakMap,wt=new WeakMap,ut=new WeakMap,Et=new WeakSet,So=function([Tt,Ht],Jt,Mt){[Jt,Mt]=this.screenToPageTranslation(Jt,Mt),this.x+=Jt/Tt,this.y+=Mt/Ht,this.fixAndSetPosition()},wo=function(){const[Tt,Ht]=this.parentDimensions,{_borderLineWidth:Jt}=Xt,Mt=Jt/Tt,mt=Jt/Ht;switch(this.rotation){case 90:return[-Mt,mt];case 180:return[Mt,mt];case 270:return[Mt,-mt];default:return[-Mt,-mt]}},xt=new WeakSet,bo=function(Tt,Ht,Jt){switch(Jt){case 90:return[Ht,-Tt];case 180:return[-Tt,-Ht];case 270:return[-Ht,Tt];default:return[Tt,Ht]}},Ao=function(Tt){switch(Tt){case 90:{const[Ht,Jt]=this.pageDimensions;return[0,-Ht/Jt,Jt/Ht,0]}case 180:return[-1,0,0,-1];case 270:{const[Ht,Jt]=this.pageDimensions;return[0,Ht/Jt,-Jt/Ht,0]}default:return[1,0,0,1]}},Ul=function(){if(it(this,pt))return;mn(this,pt,document.createElement("div")),it(this,pt).classList.add("resizers");const Tt=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||Tt.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Ht of Tt){const Jt=document.createElement("div");it(this,pt).append(Jt),Jt.classList.add("resizer",Ht),Jt.addEventListener("pointerdown",en(this,Et,Hl).bind(this,Ht)),Jt.addEventListener("contextmenu",et.noContextMenu)}this.div.prepend(it(this,pt))},Hl=function(Tt,Ht){Ht.preventDefault();const{isMac:Jt}=tt.FeatureTest.platform;if(Ht.button!==0||Ht.ctrlKey&&Jt)return;const Mt=en(this,Et,Vl).bind(this,Tt),mt=this._isDraggable;this._isDraggable=!1;const vt={passive:!0,capture:!0};window.addEventListener("pointermove",Mt,vt);const Pt=this.x,It=this.y,jt=this.width,Nt=this.height,Zt=this.parent.div.style.cursor,vn=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Ht.target).cursor;const En=()=>{this._isDraggable=mt,window.removeEventListener("pointerup",En),window.removeEventListener("blur",En),window.removeEventListener("pointermove",Mt,vt),this.parent.div.style.cursor=Zt,this.div.style.cursor=vn;const Sn=this.x,An=this.y,Pn=this.width,Rn=this.height;Sn===Pt&&An===It&&Pn===jt&&Rn===Nt||this.addCommands({cmd:()=>{this.width=Pn,this.height=Rn,this.x=Sn,this.y=An;const[cn,dn]=this.parentDimensions;this.setDims(cn*Pn,dn*Rn),this.fixAndSetPosition()},undo:()=>{this.width=jt,this.height=Nt,this.x=Pt,this.y=It;const[cn,dn]=this.parentDimensions;this.setDims(cn*jt,dn*Nt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",En),window.addEventListener("blur",En)},Vl=function(Tt,Ht){const[Jt,Mt]=this.parentDimensions,mt=this.x,vt=this.y,Pt=this.width,It=this.height,jt=Xt.MIN_SIZE/Jt,Nt=Xt.MIN_SIZE/Mt,Zt=Wn=>Math.round(Wn*1e4)/1e4,vn=en(this,Et,Ao).call(this,this.rotation),En=(Wn,er)=>[vn[0]*Wn+vn[2]*er,vn[1]*Wn+vn[3]*er],Sn=en(this,Et,Ao).call(this,360-this.rotation),An=(Wn,er)=>[Sn[0]*Wn+Sn[2]*er,Sn[1]*Wn+Sn[3]*er];let Pn,Rn,cn=!1,dn=!1;switch(Tt){case"topLeft":cn=!0,Pn=(Wn,er)=>[0,0],Rn=(Wn,er)=>[Wn,er];break;case"topMiddle":Pn=(Wn,er)=>[Wn/2,0],Rn=(Wn,er)=>[Wn/2,er];break;case"topRight":cn=!0,Pn=(Wn,er)=>[Wn,0],Rn=(Wn,er)=>[0,er];break;case"middleRight":dn=!0,Pn=(Wn,er)=>[Wn,er/2],Rn=(Wn,er)=>[0,er/2];break;case"bottomRight":cn=!0,Pn=(Wn,er)=>[Wn,er],Rn=(Wn,er)=>[0,0];break;case"bottomMiddle":Pn=(Wn,er)=>[Wn/2,er],Rn=(Wn,er)=>[Wn/2,0];break;case"bottomLeft":cn=!0,Pn=(Wn,er)=>[0,er],Rn=(Wn,er)=>[Wn,0];break;case"middleLeft":dn=!0,Pn=(Wn,er)=>[0,er/2],Rn=(Wn,er)=>[Wn,er/2];break}const Rt=Pn(Pt,It),zt=Rn(Pt,It);let nn=En(...zt);const hn=Zt(mt+nn[0]),wn=Zt(vt+nn[1]);let Tn=1,kn=1,[tn,$n]=this.screenToPageTranslation(Ht.movementX,Ht.movementY);if([tn,$n]=An(tn/Jt,$n/Mt),cn){const Wn=Math.hypot(Pt,It);Tn=kn=Math.max(Math.min(Math.hypot(zt[0]-Rt[0]-tn,zt[1]-Rt[1]-$n)/Wn,1/Pt,1/It),jt/Pt,Nt/It)}else dn?Tn=Math.max(jt,Math.min(1,Math.abs(zt[0]-Rt[0]-tn)))/Pt:kn=Math.max(Nt,Math.min(1,Math.abs(zt[1]-Rt[1]-$n)))/It;const In=Zt(Pt*Tn),hr=Zt(It*kn);nn=En(...Rn(In,hr));const ar=hn-nn[0],br=wn-nn[1];this.width=In,this.height=hr,this.x=ar,this.y=br,this.setDims(Jt*In,Mt*hr),this.fixAndSetPosition()},xo=async function(){var Jt;const Tt=it(this,st);if(!Tt)return;if(!it(this,rt)&&!it(this,ot)){Tt.classList.remove("done"),(Jt=it(this,_t))==null||Jt.remove();return}Xt._l10nPromise.get("editor_alt_text_edit_button_label").then(Mt=>{Tt.setAttribute("aria-label",Mt)});let Ht=it(this,_t);if(!Ht){mn(this,_t,Ht=document.createElement("span")),Ht.className="tooltip",Ht.setAttribute("role","tooltip");const Mt=Ht.id=`alt-text-tooltip-${this.id}`;Tt.setAttribute("aria-describedby",Mt);const mt=100;Tt.addEventListener("mouseenter",()=>{mn(this,yt,setTimeout(()=>{mn(this,yt,null),it(this,_t).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},mt))}),Tt.addEventListener("mouseleave",()=>{var vt;clearTimeout(it(this,yt)),mn(this,yt,null),(vt=it(this,_t))==null||vt.classList.remove("show")})}Tt.classList.add("done"),Ht.innerText=it(this,ot)?await Xt._l10nPromise.get("editor_alt_text_decorative_tooltip"):it(this,rt),Ht.parentNode||Tt.append(Ht)},Wl=function(Tt){if(!this._isDraggable)return;const Ht=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Jt,Mt;Ht&&(Jt={passive:!0,capture:!0},Mt=vt=>{const[Pt,It]=this.screenToPageTranslation(vt.movementX,vt.movementY);this._uiManager.dragSelectedEditors(Pt,It)},window.addEventListener("pointermove",Mt,Jt));const mt=()=>{if(window.removeEventListener("pointerup",mt),window.removeEventListener("blur",mt),Ht&&window.removeEventListener("pointermove",Mt,Jt),mn(this,at,!1),!this._uiManager.endDragSession()){const{isMac:vt}=tt.FeatureTest.platform;Tt.ctrlKey&&!vt||Tt.shiftKey||Tt.metaKey&&vt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",mt),window.addEventListener("blur",mt)},pn(Xt,xt),Hr(Xt,"_borderLineWidth",-1),Hr(Xt,"_colorManager",new _e.ColorManager),Hr(Xt,"_zIndex",1),Hr(Xt,"SMALL_EDITOR_SIZE",0);let nt=Xt;j.AnnotationEditor=nt;class ct extends nt{constructor(Tt){super(Tt),this.annotationElementId=Tt.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(_,j,$)=>{var gt,pt,kt,At,at,ko,wt,ut,Et,ft,St,Gl,bt,Ft,$t,gn,Yt,rn,Xt,Gt,Tt,Ht,Jt,Mt,mt,vt,Pt,It,jt,Nt,Zt,vn,En,Sn,An,Pn,Rn,cn,dn,Rt,zt,nn,hn,wn,Tn,kn,tn,Xl,Co,Po,Ys,Ro,To,is,Ms,Yl,Kl,Mo,Fs,Fo;Object.defineProperty(j,"__esModule",{value:!0}),j.KeyboardManager=j.CommandManager=j.ColorManager=j.AnnotationEditorUIManager=void 0,j.bindEvents=et,j.opacityToHex=nt;var _e=$(1),tt=$(6);function et(ir,Bt,bn){for(const jn of bn)Bt.addEventListener(jn,ir[jn].bind(ir))}function nt(ir){return Math.round(Math.min(255,Math.max(1,255*ir))).toString(16).padStart(2,"0")}class ct{constructor(){pn(this,gt,0)}getId(){return`${_e.AnnotationEditorPrefix}${Ts(this,gt)._++}`}}gt=new WeakMap;const dt=class dt{constructor(){pn(this,at);pn(this,pt,(0,_e.getUuid)());pn(this,kt,0);pn(this,At,null)}static get _isSVGFittingCanvas(){const Bt='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',jn=new OffscreenCanvas(1,3).getContext("2d"),qn=new Image;qn.src=Bt;const Zn=qn.decode().then(()=>(jn.drawImage(qn,0,0,1,1,0,0,1,3),new Uint32Array(jn.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,_e.shadow)(this,"_isSVGFittingCanvas",Zn)}async getFromFile(Bt){const{lastModified:bn,name:jn,size:qn,type:Zn}=Bt;return en(this,at,ko).call(this,`${bn}_${jn}_${qn}_${Zn}`,Bt)}async getFromUrl(Bt){return en(this,at,ko).call(this,Bt,Bt)}async getFromId(Bt){it(this,At)||mn(this,At,new Map);const bn=it(this,At).get(Bt);return bn?bn.bitmap?(bn.refCounter+=1,bn):bn.file?this.getFromFile(bn.file):this.getFromUrl(bn.url):null}getSvgUrl(Bt){const bn=it(this,At).get(Bt);return bn!=null&&bn.isSvg?bn.svgUrl:null}deleteId(Bt){it(this,At)||mn(this,At,new Map);const bn=it(this,At).get(Bt);bn&&(bn.refCounter-=1,bn.refCounter===0&&(bn.bitmap=null))}isValidId(Bt){return Bt.startsWith(`image_${it(this,pt)}_`)}};pt=new WeakMap,kt=new WeakMap,At=new WeakMap,at=new WeakSet,ko=async function(Bt,bn){it(this,At)||mn(this,At,new Map);let jn=it(this,At).get(Bt);if(jn===null)return null;if(jn!=null&&jn.bitmap)return jn.refCounter+=1,jn;try{jn||(jn={bitmap:null,id:`image_${it(this,pt)}_${Ts(this,kt)._++}`,refCounter:0,isSvg:!1});let qn;if(typeof bn=="string"){jn.url=bn;const Zn=await fetch(bn);if(!Zn.ok)throw new Error(Zn.statusText);qn=await Zn.blob()}else qn=jn.file=bn;if(qn.type==="image/svg+xml"){const Zn=dt._isSVGFittingCanvas,Hn=new FileReader,Ot=new Image,Lt=new Promise((Kt,yn)=>{Ot.onload=()=>{jn.bitmap=Ot,jn.isSvg=!0,Kt()},Hn.onload=async()=>{const _n=jn.svgUrl=Hn.result;Ot.src=await Zn?`${_n}#svgView(preserveAspectRatio(none))`:_n},Ot.onerror=Hn.onerror=yn});Hn.readAsDataURL(qn),await Lt}else jn.bitmap=await createImageBitmap(qn);jn.refCounter=1}catch(qn){console.error(qn),jn=null}return it(this,At).set(Bt,jn),jn&&it(this,At).set(jn.id,jn),jn};let rt=dt;class ot{constructor(Bt=128){pn(this,wt,[]);pn(this,ut,!1);pn(this,Et);pn(this,ft,-1);mn(this,Et,Bt)}add({cmd:Bt,undo:bn,mustExec:jn,type:qn=NaN,overwriteIfSameType:Zn=!1,keepUndo:Hn=!1}){if(jn&&Bt(),it(this,ut))return;const Ot={cmd:Bt,undo:bn,type:qn};if(it(this,ft)===-1){it(this,wt).length>0&&(it(this,wt).length=0),mn(this,ft,0),it(this,wt).push(Ot);return}if(Zn&&it(this,wt)[it(this,ft)].type===qn){Hn&&(Ot.undo=it(this,wt)[it(this,ft)].undo),it(this,wt)[it(this,ft)]=Ot;return}const Lt=it(this,ft)+1;Lt===it(this,Et)?it(this,wt).splice(0,1):(mn(this,ft,Lt),Lt<it(this,wt).length&&it(this,wt).splice(Lt)),it(this,wt).push(Ot)}undo(){it(this,ft)!==-1&&(mn(this,ut,!0),it(this,wt)[it(this,ft)].undo(),mn(this,ut,!1),mn(this,ft,it(this,ft)-1))}redo(){it(this,ft)<it(this,wt).length-1&&(mn(this,ft,it(this,ft)+1),mn(this,ut,!0),it(this,wt)[it(this,ft)].cmd(),mn(this,ut,!1))}hasSomethingToUndo(){return it(this,ft)!==-1}hasSomethingToRedo(){return it(this,ft)<it(this,wt).length-1}destroy(){mn(this,wt,null)}}wt=new WeakMap,ut=new WeakMap,Et=new WeakMap,ft=new WeakMap,j.CommandManager=ot;class st{constructor(Bt){pn(this,St);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:bn}=_e.FeatureTest.platform;for(const[jn,qn,Zn={}]of Bt)for(const Hn of jn){const Ot=Hn.startsWith("mac+");bn&&Ot?(this.callbacks.set(Hn.slice(4),{callback:qn,options:Zn}),this.allKeys.add(Hn.split("+").at(-1))):!bn&&!Ot&&(this.callbacks.set(Hn,{callback:qn,options:Zn}),this.allKeys.add(Hn.split("+").at(-1)))}}exec(Bt,bn){if(!this.allKeys.has(bn.key))return;const jn=this.callbacks.get(en(this,St,Gl).call(this,bn));if(!jn)return;const{callback:qn,options:{bubbles:Zn=!1,args:Hn=[],checker:Ot=null}}=jn;Ot&&!Ot(Bt,bn)||(qn.bind(Bt,...Hn)(),Zn||(bn.stopPropagation(),bn.preventDefault()))}}St=new WeakSet,Gl=function(Bt){Bt.altKey&&this.buffer.push("alt"),Bt.ctrlKey&&this.buffer.push("ctrl"),Bt.metaKey&&this.buffer.push("meta"),Bt.shiftKey&&this.buffer.push("shift"),this.buffer.push(Bt.key);const bn=this.buffer.join("+");return this.buffer.length=0,bn},j.KeyboardManager=st;const Dt=class Dt{get _colors(){const Bt=new Map([["CanvasText",null],["Canvas",null]]);return(0,tt.getColorValues)(Bt),(0,_e.shadow)(this,"_colors",Bt)}convert(Bt){const bn=(0,tt.getRGB)(Bt);if(!window.matchMedia("(forced-colors: active)").matches)return bn;for(const[jn,qn]of this._colors)if(qn.every((Zn,Hn)=>Zn===bn[Hn]))return Dt._colorsMapping.get(jn);return bn}getHexCode(Bt){const bn=this._colors.get(Bt);return bn?_e.Util.makeHexColor(...bn):Bt}};Hr(Dt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let _t=Dt;j.ColorManager=_t;const Yn=class Yn{constructor(Bt,bn,jn,qn,Zn,Hn){pn(this,tn);pn(this,bt,null);pn(this,Ft,new Map);pn(this,$t,new Map);pn(this,gn,null);pn(this,Yt,null);pn(this,rn,new ot);pn(this,Xt,0);pn(this,Gt,new Set);pn(this,Tt,null);pn(this,Ht,null);pn(this,Jt,new Set);pn(this,Mt,null);pn(this,mt,new ct);pn(this,vt,!1);pn(this,Pt,!1);pn(this,It,null);pn(this,jt,_e.AnnotationEditorType.NONE);pn(this,Nt,new Set);pn(this,Zt,null);pn(this,vn,this.blur.bind(this));pn(this,En,this.focus.bind(this));pn(this,Sn,this.copy.bind(this));pn(this,An,this.cut.bind(this));pn(this,Pn,this.paste.bind(this));pn(this,Rn,this.keydown.bind(this));pn(this,cn,this.onEditingAction.bind(this));pn(this,dn,this.onPageChanging.bind(this));pn(this,Rt,this.onScaleChanging.bind(this));pn(this,zt,this.onRotationChanging.bind(this));pn(this,nn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});pn(this,hn,[0,0]);pn(this,wn,null);pn(this,Tn,null);pn(this,kn,null);mn(this,Tn,Bt),mn(this,kn,bn),mn(this,gn,jn),this._eventBus=qn,this._eventBus._on("editingaction",it(this,cn)),this._eventBus._on("pagechanging",it(this,dn)),this._eventBus._on("scalechanging",it(this,Rt)),this._eventBus._on("rotationchanging",it(this,zt)),mn(this,Yt,Zn.annotationStorage),mn(this,Mt,Zn.filterFactory),mn(this,Zt,Hn),this.viewParameters={realScale:tt.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Bt=Yn.prototype,bn=Zn=>{const{activeElement:Hn}=document;return Hn&&it(Zn,Tn).contains(Hn)&&Zn.hasSomethingToControl()},jn=this.TRANSLATE_SMALL,qn=this.TRANSLATE_BIG;return(0,_e.shadow)(this,"_keyboardManager",new st([[["ctrl+a","mac+meta+a"],Bt.selectAll],[["ctrl+z","mac+meta+z"],Bt.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Bt.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Bt.delete],[["Escape","mac+Escape"],Bt.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Bt.translateSelectedEditors,{args:[-jn,0],checker:bn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Bt.translateSelectedEditors,{args:[-qn,0],checker:bn}],[["ArrowRight","mac+ArrowRight"],Bt.translateSelectedEditors,{args:[jn,0],checker:bn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Bt.translateSelectedEditors,{args:[qn,0],checker:bn}],[["ArrowUp","mac+ArrowUp"],Bt.translateSelectedEditors,{args:[0,-jn],checker:bn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Bt.translateSelectedEditors,{args:[0,-qn],checker:bn}],[["ArrowDown","mac+ArrowDown"],Bt.translateSelectedEditors,{args:[0,jn],checker:bn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Bt.translateSelectedEditors,{args:[0,qn],checker:bn}]]))}destroy(){en(this,tn,Ys).call(this),en(this,tn,Co).call(this),this._eventBus._off("editingaction",it(this,cn)),this._eventBus._off("pagechanging",it(this,dn)),this._eventBus._off("scalechanging",it(this,Rt)),this._eventBus._off("rotationchanging",it(this,zt));for(const Bt of it(this,$t).values())Bt.destroy();it(this,$t).clear(),it(this,Ft).clear(),it(this,Jt).clear(),mn(this,bt,null),it(this,Nt).clear(),it(this,rn).destroy(),it(this,gn).destroy()}get hcmFilter(){return(0,_e.shadow)(this,"hcmFilter",it(this,Zt)?it(this,Mt).addHCMFilter(it(this,Zt).foreground,it(this,Zt).background):"none")}get direction(){return(0,_e.shadow)(this,"direction",getComputedStyle(it(this,Tn)).direction)}editAltText(Bt){var bn;(bn=it(this,gn))==null||bn.editAltText(this,Bt)}onPageChanging({pageNumber:Bt}){mn(this,Xt,Bt-1)}focusMainContainer(){it(this,Tn).focus()}findParent(Bt,bn){for(const jn of it(this,$t).values()){const{x:qn,y:Zn,width:Hn,height:Ot}=jn.div.getBoundingClientRect();if(Bt>=qn&&Bt<=qn+Hn&&bn>=Zn&&bn<=Zn+Ot)return jn}return null}disableUserSelect(Bt=!1){it(this,kn).classList.toggle("noUserSelect",Bt)}addShouldRescale(Bt){it(this,Jt).add(Bt)}removeShouldRescale(Bt){it(this,Jt).delete(Bt)}onScaleChanging({scale:Bt}){this.commitOrRemove(),this.viewParameters.realScale=Bt*tt.PixelsPerInch.PDF_TO_CSS_UNITS;for(const bn of it(this,Jt))bn.onScaleChanging()}onRotationChanging({pagesRotation:Bt}){this.commitOrRemove(),this.viewParameters.rotation=Bt}addToAnnotationStorage(Bt){!Bt.isEmpty()&&it(this,Yt)&&!it(this,Yt).has(Bt.id)&&it(this,Yt).setValue(Bt.id,Bt)}blur(){if(!this.hasSelection)return;const{activeElement:Bt}=document;for(const bn of it(this,Nt))if(bn.div.contains(Bt)){mn(this,It,[bn,Bt]),bn._focusEventsAllowed=!1;break}}focus(){if(!it(this,It))return;const[Bt,bn]=it(this,It);mn(this,It,null),bn.addEventListener("focusin",()=>{Bt._focusEventsAllowed=!0},{once:!0}),bn.focus()}addEditListeners(){en(this,tn,Po).call(this),en(this,tn,Ro).call(this)}removeEditListeners(){en(this,tn,Ys).call(this),en(this,tn,To).call(this)}copy(Bt){var jn;if(Bt.preventDefault(),(jn=it(this,bt))==null||jn.commitOrRemove(),!this.hasSelection)return;const bn=[];for(const qn of it(this,Nt)){const Zn=qn.serialize(!0);Zn&&bn.push(Zn)}bn.length!==0&&Bt.clipboardData.setData("application/pdfjs",JSON.stringify(bn))}cut(Bt){this.copy(Bt),this.delete()}paste(Bt){Bt.preventDefault();const{clipboardData:bn}=Bt;for(const Zn of bn.items)for(const Hn of it(this,Ht))if(Hn.isHandlingMimeForPasting(Zn.type)){Hn.paste(Zn,this.currentLayer);return}let jn=bn.getData("application/pdfjs");if(!jn)return;try{jn=JSON.parse(jn)}catch(Zn){(0,_e.warn)(`paste: "${Zn.message}".`);return}if(!Array.isArray(jn))return;this.unselectAll();const qn=this.currentLayer;try{const Zn=[];for(const Lt of jn){const Kt=qn.deserialize(Lt);if(!Kt)return;Zn.push(Kt)}const Hn=()=>{for(const Lt of Zn)en(this,tn,Mo).call(this,Lt);en(this,tn,Fo).call(this,Zn)},Ot=()=>{for(const Lt of Zn)Lt.remove()};this.addCommands({cmd:Hn,undo:Ot,mustExec:!0})}catch(Zn){(0,_e.warn)(`paste: "${Zn.message}".`)}}keydown(Bt){var bn;(bn=this.getActive())!=null&&bn.shouldGetKeyboardEvents()||Yn._keyboardManager.exec(this,Bt)}onEditingAction(Bt){["undo","redo","delete","selectAll"].includes(Bt.name)&&this[Bt.name]()}setEditingState(Bt){Bt?(en(this,tn,Xl).call(this),en(this,tn,Po).call(this),en(this,tn,Ro).call(this),en(this,tn,is).call(this,{isEditing:it(this,jt)!==_e.AnnotationEditorType.NONE,isEmpty:en(this,tn,Fs).call(this),hasSomethingToUndo:it(this,rn).hasSomethingToUndo(),hasSomethingToRedo:it(this,rn).hasSomethingToRedo(),hasSelectedEditor:!1})):(en(this,tn,Co).call(this),en(this,tn,Ys).call(this),en(this,tn,To).call(this),en(this,tn,is).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Bt){if(!it(this,Ht)){mn(this,Ht,Bt);for(const bn of it(this,Ht))en(this,tn,Ms).call(this,bn.defaultPropertiesToUpdate)}}getId(){return it(this,mt).getId()}get currentLayer(){return it(this,$t).get(it(this,Xt))}getLayer(Bt){return it(this,$t).get(Bt)}get currentPageIndex(){return it(this,Xt)}addLayer(Bt){it(this,$t).set(Bt.pageIndex,Bt),it(this,vt)?Bt.enable():Bt.disable()}removeLayer(Bt){it(this,$t).delete(Bt.pageIndex)}updateMode(Bt,bn=null){if(it(this,jt)!==Bt){if(mn(this,jt,Bt),Bt===_e.AnnotationEditorType.NONE){this.setEditingState(!1),en(this,tn,Kl).call(this);return}this.setEditingState(!0),en(this,tn,Yl).call(this),this.unselectAll();for(const jn of it(this,$t).values())jn.updateMode(Bt);if(bn){for(const jn of it(this,Ft).values())if(jn.annotationElementId===bn){this.setSelected(jn),jn.enterInEditMode();break}}}}updateToolbar(Bt){Bt!==it(this,jt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Bt})}updateParams(Bt,bn){if(it(this,Ht)){if(Bt===_e.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Bt);return}for(const jn of it(this,Nt))jn.updateParams(Bt,bn);for(const jn of it(this,Ht))jn.updateDefaultParams(Bt,bn)}}enableWaiting(Bt=!1){if(it(this,Pt)!==Bt){mn(this,Pt,Bt);for(const bn of it(this,$t).values())Bt?bn.disableClick():bn.enableClick(),bn.div.classList.toggle("waiting",Bt)}}getEditors(Bt){const bn=[];for(const jn of it(this,Ft).values())jn.pageIndex===Bt&&bn.push(jn);return bn}getEditor(Bt){return it(this,Ft).get(Bt)}addEditor(Bt){it(this,Ft).set(Bt.id,Bt)}removeEditor(Bt){var bn;it(this,Ft).delete(Bt.id),this.unselect(Bt),(!Bt.annotationElementId||!it(this,Gt).has(Bt.annotationElementId))&&((bn=it(this,Yt))==null||bn.remove(Bt.id))}addDeletedAnnotationElement(Bt){it(this,Gt).add(Bt.annotationElementId),Bt.deleted=!0}isDeletedAnnotationElement(Bt){return it(this,Gt).has(Bt)}removeDeletedAnnotationElement(Bt){it(this,Gt).delete(Bt.annotationElementId),Bt.deleted=!1}setActiveEditor(Bt){it(this,bt)!==Bt&&(mn(this,bt,Bt),Bt&&en(this,tn,Ms).call(this,Bt.propertiesToUpdate))}toggleSelected(Bt){if(it(this,Nt).has(Bt)){it(this,Nt).delete(Bt),Bt.unselect(),en(this,tn,is).call(this,{hasSelectedEditor:this.hasSelection});return}it(this,Nt).add(Bt),Bt.select(),en(this,tn,Ms).call(this,Bt.propertiesToUpdate),en(this,tn,is).call(this,{hasSelectedEditor:!0})}setSelected(Bt){for(const bn of it(this,Nt))bn!==Bt&&bn.unselect();it(this,Nt).clear(),it(this,Nt).add(Bt),Bt.select(),en(this,tn,Ms).call(this,Bt.propertiesToUpdate),en(this,tn,is).call(this,{hasSelectedEditor:!0})}isSelected(Bt){return it(this,Nt).has(Bt)}unselect(Bt){Bt.unselect(),it(this,Nt).delete(Bt),en(this,tn,is).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return it(this,Nt).size!==0}undo(){it(this,rn).undo(),en(this,tn,is).call(this,{hasSomethingToUndo:it(this,rn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:en(this,tn,Fs).call(this)})}redo(){it(this,rn).redo(),en(this,tn,is).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:it(this,rn).hasSomethingToRedo(),isEmpty:en(this,tn,Fs).call(this)})}addCommands(Bt){it(this,rn).add(Bt),en(this,tn,is).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:en(this,tn,Fs).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Bt=[...it(this,Nt)],bn=()=>{for(const qn of Bt)qn.remove()},jn=()=>{for(const qn of Bt)en(this,tn,Mo).call(this,qn)};this.addCommands({cmd:bn,undo:jn,mustExec:!0})}commitOrRemove(){var Bt;(Bt=it(this,bt))==null||Bt.commitOrRemove()}hasSomethingToControl(){return it(this,bt)||this.hasSelection}selectAll(){for(const Bt of it(this,Nt))Bt.commit();en(this,tn,Fo).call(this,it(this,Ft).values())}unselectAll(){if(it(this,bt)){it(this,bt).commitOrRemove();return}if(this.hasSelection){for(const Bt of it(this,Nt))Bt.unselect();it(this,Nt).clear(),en(this,tn,is).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Bt,bn,jn=!1){if(jn||this.commitOrRemove(),!this.hasSelection)return;it(this,hn)[0]+=Bt,it(this,hn)[1]+=bn;const[qn,Zn]=it(this,hn),Hn=[...it(this,Nt)],Ot=1e3;it(this,wn)&&clearTimeout(it(this,wn)),mn(this,wn,setTimeout(()=>{mn(this,wn,null),it(this,hn)[0]=it(this,hn)[1]=0,this.addCommands({cmd:()=>{for(const Lt of Hn)it(this,Ft).has(Lt.id)&&Lt.translateInPage(qn,Zn)},undo:()=>{for(const Lt of Hn)it(this,Ft).has(Lt.id)&&Lt.translateInPage(-qn,-Zn)},mustExec:!1})},Ot));for(const Lt of Hn)Lt.translateInPage(Bt,bn)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),mn(this,Tt,new Map);for(const Bt of it(this,Nt))it(this,Tt).set(Bt,{savedX:Bt.x,savedY:Bt.y,savedPageIndex:Bt.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!it(this,Tt))return!1;this.disableUserSelect(!1);const Bt=it(this,Tt);mn(this,Tt,null);let bn=!1;for(const[{x:qn,y:Zn,pageIndex:Hn},Ot]of Bt)Ot.newX=qn,Ot.newY=Zn,Ot.newPageIndex=Hn,bn||(bn=qn!==Ot.savedX||Zn!==Ot.savedY||Hn!==Ot.savedPageIndex);if(!bn)return!1;const jn=(qn,Zn,Hn,Ot)=>{if(it(this,Ft).has(qn.id)){const Lt=it(this,$t).get(Ot);Lt?qn._setParentAndPosition(Lt,Zn,Hn):(qn.pageIndex=Ot,qn.x=Zn,qn.y=Hn)}};return this.addCommands({cmd:()=>{for(const[qn,{newX:Zn,newY:Hn,newPageIndex:Ot}]of Bt)jn(qn,Zn,Hn,Ot)},undo:()=>{for(const[qn,{savedX:Zn,savedY:Hn,savedPageIndex:Ot}]of Bt)jn(qn,Zn,Hn,Ot)},mustExec:!0}),!0}dragSelectedEditors(Bt,bn){if(it(this,Tt))for(const jn of it(this,Tt).keys())jn.drag(Bt,bn)}rebuild(Bt){if(Bt.parent===null){const bn=this.getLayer(Bt.pageIndex);bn?(bn.changeParent(Bt),bn.addOrRebuild(Bt)):(this.addEditor(Bt),this.addToAnnotationStorage(Bt),Bt.rebuild())}else Bt.parent.addOrRebuild(Bt)}isActive(Bt){return it(this,bt)===Bt}getActive(){return it(this,bt)}getMode(){return it(this,jt)}get imageManager(){return(0,_e.shadow)(this,"imageManager",new rt)}};bt=new WeakMap,Ft=new WeakMap,$t=new WeakMap,gn=new WeakMap,Yt=new WeakMap,rn=new WeakMap,Xt=new WeakMap,Gt=new WeakMap,Tt=new WeakMap,Ht=new WeakMap,Jt=new WeakMap,Mt=new WeakMap,mt=new WeakMap,vt=new WeakMap,Pt=new WeakMap,It=new WeakMap,jt=new WeakMap,Nt=new WeakMap,Zt=new WeakMap,vn=new WeakMap,En=new WeakMap,Sn=new WeakMap,An=new WeakMap,Pn=new WeakMap,Rn=new WeakMap,cn=new WeakMap,dn=new WeakMap,Rt=new WeakMap,zt=new WeakMap,nn=new WeakMap,hn=new WeakMap,wn=new WeakMap,Tn=new WeakMap,kn=new WeakMap,tn=new WeakSet,Xl=function(){window.addEventListener("focus",it(this,En)),window.addEventListener("blur",it(this,vn))},Co=function(){window.removeEventListener("focus",it(this,En)),window.removeEventListener("blur",it(this,vn))},Po=function(){window.addEventListener("keydown",it(this,Rn),{capture:!0})},Ys=function(){window.removeEventListener("keydown",it(this,Rn),{capture:!0})},Ro=function(){document.addEventListener("copy",it(this,Sn)),document.addEventListener("cut",it(this,An)),document.addEventListener("paste",it(this,Pn))},To=function(){document.removeEventListener("copy",it(this,Sn)),document.removeEventListener("cut",it(this,An)),document.removeEventListener("paste",it(this,Pn))},is=function(Bt){Object.entries(Bt).some(([jn,qn])=>it(this,nn)[jn]!==qn)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(it(this,nn),Bt)})},Ms=function(Bt){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Bt})},Yl=function(){if(!it(this,vt)){mn(this,vt,!0);for(const Bt of it(this,$t).values())Bt.enable()}},Kl=function(){if(this.unselectAll(),it(this,vt)){mn(this,vt,!1);for(const Bt of it(this,$t).values())Bt.disable()}},Mo=function(Bt){const bn=it(this,$t).get(Bt.pageIndex);bn?bn.addOrRebuild(Bt):this.addEditor(Bt)},Fs=function(){if(it(this,Ft).size===0)return!0;if(it(this,Ft).size===1)for(const Bt of it(this,Ft).values())return Bt.isEmpty();return!1},Fo=function(Bt){it(this,Nt).clear();for(const bn of Bt)bn.isEmpty()||(it(this,Nt).add(bn),bn.select());en(this,tn,is).call(this,{hasSelectedEditor:!0})},Hr(Yn,"TRANSLATE_SMALL",1),Hr(Yn,"TRANSLATE_BIG",10);let yt=Yn;j.AnnotationEditorUIManager=yt},(_,j,$)=>{var Xt,Gt,Tt,Ht,Jt,Mt,mt,vt,Pt,It,jt,Nt,As,xs,Lo,qs,Ks,Ls,Ds;Object.defineProperty(j,"__esModule",{value:!0}),j.StatTimer=j.RenderingCancelledException=j.PixelsPerInch=j.PageViewport=j.PDFDateString=j.DOMStandardFontDataFactory=j.DOMSVGFactory=j.DOMFilterFactory=j.DOMCanvasFactory=j.DOMCMapReaderFactory=void 0,j.deprecated=ft,j.getColorValues=Ft,j.getCurrentTransform=$t,j.getCurrentTransformInverse=gn,j.getFilenameFromUrl=at,j.getPdfFilenameFromUrl=lt,j.getRGB=bt,j.getXfaPageViewport=Dt,j.isDataScheme=kt,j.isPdfFile=At,j.isValidFetchUrl=wt,j.loadScript=Et,j.noContextMenu=ut,j.setLayerDimensions=Yt;var _e=$(7),tt=$(1);const et="http://www.w3.org/2000/svg",rn=class rn{};Hr(rn,"CSS",96),Hr(rn,"PDF",72),Hr(rn,"PDF_TO_CSS_UNITS",rn.CSS/rn.PDF);let nt=rn;j.PixelsPerInch=nt;class ct extends _e.BaseFilterFactory{constructor({docId:Rt,ownerDocument:zt=globalThis.document}={}){super();pn(this,Nt);pn(this,Xt);pn(this,Gt);pn(this,Tt);pn(this,Ht);pn(this,Jt);pn(this,Mt);pn(this,mt);pn(this,vt);pn(this,Pt);pn(this,It);pn(this,jt,0);mn(this,Tt,Rt),mn(this,Ht,zt)}addFilter(Rt){if(!Rt)return"none";let zt=it(this,Nt,As).get(Rt);if(zt)return zt;let nn,hn,wn,Tn;if(Rt.length===1){const In=Rt[0],hr=new Array(256);for(let ar=0;ar<256;ar++)hr[ar]=In[ar]/255;Tn=nn=hn=wn=hr.join(",")}else{const[In,hr,ar]=Rt,br=new Array(256),Wn=new Array(256),er=new Array(256);for(let vr=0;vr<256;vr++)br[vr]=In[vr]/255,Wn[vr]=hr[vr]/255,er[vr]=ar[vr]/255;nn=br.join(","),hn=Wn.join(","),wn=er.join(","),Tn=`${nn}${hn}${wn}`}if(zt=it(this,Nt,As).get(Tn),zt)return it(this,Nt,As).set(Rt,zt),zt;const kn=`g_${it(this,Tt)}_transfer_map_${Ts(this,jt)._++}`,tn=`url(#${kn})`;it(this,Nt,As).set(Rt,tn),it(this,Nt,As).set(Tn,tn);const $n=en(this,Nt,qs).call(this,kn);return en(this,Nt,Ls).call(this,nn,hn,wn,$n),tn}addHCMFilter(Rt,zt){var hr;const nn=`${Rt}-${zt}`;if(it(this,Mt)===nn)return it(this,mt);if(mn(this,Mt,nn),mn(this,mt,"none"),(hr=it(this,Jt))==null||hr.remove(),!Rt||!zt)return it(this,mt);const hn=en(this,Nt,Ds).call(this,Rt);Rt=tt.Util.makeHexColor(...hn);const wn=en(this,Nt,Ds).call(this,zt);if(zt=tt.Util.makeHexColor(...wn),it(this,Nt,xs).style.color="",Rt==="#000000"&&zt==="#ffffff"||Rt===zt)return it(this,mt);const Tn=new Array(256);for(let ar=0;ar<=255;ar++){const br=ar/255;Tn[ar]=br<=.03928?br/12.92:((br+.055)/1.055)**2.4}const kn=Tn.join(","),tn=`g_${it(this,Tt)}_hcm_filter`,$n=mn(this,vt,en(this,Nt,qs).call(this,tn));en(this,Nt,Ls).call(this,kn,kn,kn,$n),en(this,Nt,Lo).call(this,$n);const In=(ar,br)=>{const Wn=hn[ar]/255,er=wn[ar]/255,vr=new Array(br+1);for(let Mr=0;Mr<=br;Mr++)vr[Mr]=Wn+Mr/br*(er-Wn);return vr.join(",")};return en(this,Nt,Ls).call(this,In(0,5),In(1,5),In(2,5),$n),mn(this,mt,`url(#${tn})`),it(this,mt)}addHighlightHCMFilter(Rt,zt,nn,hn){var er;const wn=`${Rt}-${zt}-${nn}-${hn}`;if(it(this,Pt)===wn)return it(this,It);if(mn(this,Pt,wn),mn(this,It,"none"),(er=it(this,vt))==null||er.remove(),!Rt||!zt)return it(this,It);const[Tn,kn]=[Rt,zt].map(en(this,Nt,Ds).bind(this));let tn=Math.round(.2126*Tn[0]+.7152*Tn[1]+.0722*Tn[2]),$n=Math.round(.2126*kn[0]+.7152*kn[1]+.0722*kn[2]),[In,hr]=[nn,hn].map(en(this,Nt,Ds).bind(this));$n<tn&&([tn,$n,In,hr]=[$n,tn,hr,In]),it(this,Nt,xs).style.color="";const ar=(vr,Mr,xn)=>{const an=new Array(256),on=($n-tn)/xn,Vn=vr/255,Yn=(Mr-vr)/(255*xn);let ir=0;for(let Bt=0;Bt<=xn;Bt++){const bn=Math.round(tn+Bt*on),jn=Vn+Bt*Yn;for(let qn=ir;qn<=bn;qn++)an[qn]=jn;ir=bn+1}for(let Bt=ir;Bt<256;Bt++)an[Bt]=an[ir-1];return an.join(",")},br=`g_${it(this,Tt)}_hcm_highlight_filter`,Wn=mn(this,vt,en(this,Nt,qs).call(this,br));return en(this,Nt,Lo).call(this,Wn),en(this,Nt,Ls).call(this,ar(In[0],hr[0],5),ar(In[1],hr[1],5),ar(In[2],hr[2],5),Wn),mn(this,It,`url(#${br})`),it(this,It)}destroy(Rt=!1){Rt&&(it(this,mt)||it(this,It))||(it(this,Gt)&&(it(this,Gt).parentNode.parentNode.remove(),mn(this,Gt,null)),it(this,Xt)&&(it(this,Xt).clear(),mn(this,Xt,null)),mn(this,jt,0))}}Xt=new WeakMap,Gt=new WeakMap,Tt=new WeakMap,Ht=new WeakMap,Jt=new WeakMap,Mt=new WeakMap,mt=new WeakMap,vt=new WeakMap,Pt=new WeakMap,It=new WeakMap,jt=new WeakMap,Nt=new WeakSet,As=function(){return it(this,Xt)||mn(this,Xt,new Map)},xs=function(){if(!it(this,Gt)){const Rt=it(this,Ht).createElement("div"),{style:zt}=Rt;zt.visibility="hidden",zt.contain="strict",zt.width=zt.height=0,zt.position="absolute",zt.top=zt.left=0,zt.zIndex=-1;const nn=it(this,Ht).createElementNS(et,"svg");nn.setAttribute("width",0),nn.setAttribute("height",0),mn(this,Gt,it(this,Ht).createElementNS(et,"defs")),Rt.append(nn),nn.append(it(this,Gt)),it(this,Ht).body.append(Rt)}return it(this,Gt)},Lo=function(Rt){const zt=it(this,Ht).createElementNS(et,"feColorMatrix");zt.setAttribute("type","matrix"),zt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Rt.append(zt)},qs=function(Rt){const zt=it(this,Ht).createElementNS(et,"filter");return zt.setAttribute("color-interpolation-filters","sRGB"),zt.setAttribute("id",Rt),it(this,Nt,xs).append(zt),zt},Ks=function(Rt,zt,nn){const hn=it(this,Ht).createElementNS(et,zt);hn.setAttribute("type","discrete"),hn.setAttribute("tableValues",nn),Rt.append(hn)},Ls=function(Rt,zt,nn,hn){const wn=it(this,Ht).createElementNS(et,"feComponentTransfer");hn.append(wn),en(this,Nt,Ks).call(this,wn,"feFuncR",Rt),en(this,Nt,Ks).call(this,wn,"feFuncG",zt),en(this,Nt,Ks).call(this,wn,"feFuncB",nn)},Ds=function(Rt){return it(this,Nt,xs).style.color=Rt,bt(getComputedStyle(it(this,Nt,xs)).getPropertyValue("color"))},j.DOMFilterFactory=ct;class rt extends _e.BaseCanvasFactory{constructor({ownerDocument:dn=globalThis.document}={}){super(),this._document=dn}_createCanvas(dn,Rt){const zt=this._document.createElement("canvas");return zt.width=dn,zt.height=Rt,zt}}j.DOMCanvasFactory=rt;async function ot(cn,dn=!1){if(wt(cn,document.baseURI)){const Rt=await fetch(cn);if(!Rt.ok)throw new Error(Rt.statusText);return dn?new Uint8Array(await Rt.arrayBuffer()):(0,tt.stringToBytes)(await Rt.text())}return new Promise((Rt,zt)=>{const nn=new XMLHttpRequest;nn.open("GET",cn,!0),dn&&(nn.responseType="arraybuffer"),nn.onreadystatechange=()=>{if(nn.readyState===XMLHttpRequest.DONE){if(nn.status===200||nn.status===0){let hn;if(dn&&nn.response?hn=new Uint8Array(nn.response):!dn&&nn.responseText&&(hn=(0,tt.stringToBytes)(nn.responseText)),hn){Rt(hn);return}}zt(new Error(nn.statusText))}},nn.send(null)})}class st extends _e.BaseCMapReaderFactory{_fetchData(dn,Rt){return ot(dn,this.isCompressed).then(zt=>({cMapData:zt,compressionType:Rt}))}}j.DOMCMapReaderFactory=st;class _t extends _e.BaseStandardFontDataFactory{_fetchData(dn){return ot(dn,!0)}}j.DOMStandardFontDataFactory=_t;class yt extends _e.BaseSVGFactory{_createSVG(dn){return document.createElementNS(et,dn)}}j.DOMSVGFactory=yt;class gt{constructor({viewBox:dn,scale:Rt,rotation:zt,offsetX:nn=0,offsetY:hn=0,dontFlip:wn=!1}){this.viewBox=dn,this.scale=Rt,this.rotation=zt,this.offsetX=nn,this.offsetY=hn;const Tn=(dn[2]+dn[0])/2,kn=(dn[3]+dn[1])/2;let tn,$n,In,hr;switch(zt%=360,zt<0&&(zt+=360),zt){case 180:tn=-1,$n=0,In=0,hr=1;break;case 90:tn=0,$n=1,In=1,hr=0;break;case 270:tn=0,$n=-1,In=-1,hr=0;break;case 0:tn=1,$n=0,In=0,hr=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}wn&&(In=-In,hr=-hr);let ar,br,Wn,er;tn===0?(ar=Math.abs(kn-dn[1])*Rt+nn,br=Math.abs(Tn-dn[0])*Rt+hn,Wn=(dn[3]-dn[1])*Rt,er=(dn[2]-dn[0])*Rt):(ar=Math.abs(Tn-dn[0])*Rt+nn,br=Math.abs(kn-dn[1])*Rt+hn,Wn=(dn[2]-dn[0])*Rt,er=(dn[3]-dn[1])*Rt),this.transform=[tn*Rt,$n*Rt,In*Rt,hr*Rt,ar-tn*Rt*Tn-In*Rt*kn,br-$n*Rt*Tn-hr*Rt*kn],this.width=Wn,this.height=er}get rawDims(){const{viewBox:dn}=this;return(0,tt.shadow)(this,"rawDims",{pageWidth:dn[2]-dn[0],pageHeight:dn[3]-dn[1],pageX:dn[0],pageY:dn[1]})}clone({scale:dn=this.scale,rotation:Rt=this.rotation,offsetX:zt=this.offsetX,offsetY:nn=this.offsetY,dontFlip:hn=!1}={}){return new gt({viewBox:this.viewBox.slice(),scale:dn,rotation:Rt,offsetX:zt,offsetY:nn,dontFlip:hn})}convertToViewportPoint(dn,Rt){return tt.Util.applyTransform([dn,Rt],this.transform)}convertToViewportRectangle(dn){const Rt=tt.Util.applyTransform([dn[0],dn[1]],this.transform),zt=tt.Util.applyTransform([dn[2],dn[3]],this.transform);return[Rt[0],Rt[1],zt[0],zt[1]]}convertToPdfPoint(dn,Rt){return tt.Util.applyInverseTransform([dn,Rt],this.transform)}}j.PageViewport=gt;class pt extends tt.BaseException{constructor(dn,Rt=0){super(dn,"RenderingCancelledException"),this.extraDelay=Rt}}j.RenderingCancelledException=pt;function kt(cn){const dn=cn.length;let Rt=0;for(;Rt<dn&&cn[Rt].trim()==="";)Rt++;return cn.substring(Rt,Rt+5).toLowerCase()==="data:"}function At(cn){return typeof cn=="string"&&/\.pdf$/i.test(cn)}function at(cn,dn=!1){return dn||([cn]=cn.split(/[#?]/,1)),cn.substring(cn.lastIndexOf("/")+1)}function lt(cn,dn="document.pdf"){if(typeof cn!="string")return dn;if(kt(cn))return(0,tt.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),dn;const Rt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,zt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,nn=Rt.exec(cn);let hn=zt.exec(nn[1])||zt.exec(nn[2])||zt.exec(nn[3]);if(hn&&(hn=hn[0],hn.includes("%")))try{hn=zt.exec(decodeURIComponent(hn))[0]}catch{}return hn||dn}class dt{constructor(){Hr(this,"started",Object.create(null));Hr(this,"times",[])}time(dn){dn in this.started&&(0,tt.warn)(`Timer is already running for ${dn}`),this.started[dn]=Date.now()}timeEnd(dn){dn in this.started||(0,tt.warn)(`Timer has not been started for ${dn}`),this.times.push({name:dn,start:this.started[dn],end:Date.now()}),delete this.started[dn]}toString(){const dn=[];let Rt=0;for(const{name:zt}of this.times)Rt=Math.max(zt.length,Rt);for(const{name:zt,start:nn,end:hn}of this.times)dn.push(`${zt.padEnd(Rt)} ${hn-nn}ms
`);return dn.join("")}}j.StatTimer=dt;function wt(cn,dn){try{const{protocol:Rt}=dn?new URL(cn,dn):new URL(cn);return Rt==="http:"||Rt==="https:"}catch{return!1}}function ut(cn){cn.preventDefault()}function Et(cn,dn=!1){return new Promise((Rt,zt)=>{const nn=document.createElement("script");nn.src=cn,nn.onload=function(hn){dn&&nn.remove(),Rt(hn)},nn.onerror=function(){zt(new Error(`Cannot load script at: ${nn.src}`))},(document.head||document.documentElement).append(nn)})}function ft(cn){console.log("Deprecated API usage: "+cn)}let St;class xt{static toDateObject(dn){if(!dn||typeof dn!="string")return null;St||(St=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Rt=St.exec(dn);if(!Rt)return null;const zt=parseInt(Rt[1],10);let nn=parseInt(Rt[2],10);nn=nn>=1&&nn<=12?nn-1:0;let hn=parseInt(Rt[3],10);hn=hn>=1&&hn<=31?hn:1;let wn=parseInt(Rt[4],10);wn=wn>=0&&wn<=23?wn:0;let Tn=parseInt(Rt[5],10);Tn=Tn>=0&&Tn<=59?Tn:0;let kn=parseInt(Rt[6],10);kn=kn>=0&&kn<=59?kn:0;const tn=Rt[7]||"Z";let $n=parseInt(Rt[8],10);$n=$n>=0&&$n<=23?$n:0;let In=parseInt(Rt[9],10)||0;return In=In>=0&&In<=59?In:0,tn==="-"?(wn+=$n,Tn+=In):tn==="+"&&(wn-=$n,Tn-=In),new Date(Date.UTC(zt,nn,hn,wn,Tn,kn))}}j.PDFDateString=xt;function Dt(cn,{scale:dn=1,rotation:Rt=0}){const{width:zt,height:nn}=cn.attributes.style,hn=[0,0,parseInt(zt),parseInt(nn)];return new gt({viewBox:hn,scale:dn,rotation:Rt})}function bt(cn){if(cn.startsWith("#")){const dn=parseInt(cn.slice(1),16);return[(dn&16711680)>>16,(dn&65280)>>8,dn&255]}return cn.startsWith("rgb(")?cn.slice(4,-1).split(",").map(dn=>parseInt(dn)):cn.startsWith("rgba(")?cn.slice(5,-1).split(",").map(dn=>parseInt(dn)).slice(0,3):((0,tt.warn)(`Not a valid color format: "${cn}"`),[0,0,0])}function Ft(cn){const dn=document.createElement("span");dn.style.visibility="hidden",document.body.append(dn);for(const Rt of cn.keys()){dn.style.color=Rt;const zt=window.getComputedStyle(dn).color;cn.set(Rt,bt(zt))}dn.remove()}function $t(cn){const{a:dn,b:Rt,c:zt,d:nn,e:hn,f:wn}=cn.getTransform();return[dn,Rt,zt,nn,hn,wn]}function gn(cn){const{a:dn,b:Rt,c:zt,d:nn,e:hn,f:wn}=cn.getTransform().invertSelf();return[dn,Rt,zt,nn,hn,wn]}function Yt(cn,dn,Rt=!1,zt=!0){if(dn instanceof gt){const{pageWidth:nn,pageHeight:hn}=dn.rawDims,{style:wn}=cn,Tn=tt.FeatureTest.isCSSRoundSupported,kn=`var(--scale-factor) * ${nn}px`,tn=`var(--scale-factor) * ${hn}px`,$n=Tn?`round(${kn}, 1px)`:`calc(${kn})`,In=Tn?`round(${tn}, 1px)`:`calc(${tn})`;!Rt||dn.rotation%180===0?(wn.width=$n,wn.height=In):(wn.width=In,wn.height=$n)}zt&&cn.setAttribute("data-main-rotation",dn.rotation)}},(_,j,$)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.BaseStandardFontDataFactory=j.BaseSVGFactory=j.BaseFilterFactory=j.BaseCanvasFactory=j.BaseCMapReaderFactory=void 0;var _e=$(1);class tt{constructor(){this.constructor===tt&&(0,_e.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(st){return"none"}addHCMFilter(st,_t){return"none"}addHighlightHCMFilter(st,_t,yt,gt){return"none"}destroy(st=!1){}}j.BaseFilterFactory=tt;class et{constructor(){this.constructor===et&&(0,_e.unreachable)("Cannot initialize BaseCanvasFactory.")}create(st,_t){if(st<=0||_t<=0)throw new Error("Invalid canvas size");const yt=this._createCanvas(st,_t);return{canvas:yt,context:yt.getContext("2d")}}reset(st,_t,yt){if(!st.canvas)throw new Error("Canvas is not specified");if(_t<=0||yt<=0)throw new Error("Invalid canvas size");st.canvas.width=_t,st.canvas.height=yt}destroy(st){if(!st.canvas)throw new Error("Canvas is not specified");st.canvas.width=0,st.canvas.height=0,st.canvas=null,st.context=null}_createCanvas(st,_t){(0,_e.unreachable)("Abstract method `_createCanvas` called.")}}j.BaseCanvasFactory=et;class nt{constructor({baseUrl:st=null,isCompressed:_t=!0}){this.constructor===nt&&(0,_e.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=st,this.isCompressed=_t}async fetch({name:st}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!st)throw new Error("CMap name must be specified.");const _t=this.baseUrl+st+(this.isCompressed?".bcmap":""),yt=this.isCompressed?_e.CMapCompressionType.BINARY:_e.CMapCompressionType.NONE;return this._fetchData(_t,yt).catch(gt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${_t}`)})}_fetchData(st,_t){(0,_e.unreachable)("Abstract method `_fetchData` called.")}}j.BaseCMapReaderFactory=nt;class ct{constructor({baseUrl:st=null}){this.constructor===ct&&(0,_e.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=st}async fetch({filename:st}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!st)throw new Error("Font filename must be specified.");const _t=`${this.baseUrl}${st}`;return this._fetchData(_t).catch(yt=>{throw new Error(`Unable to load font data at: ${_t}`)})}_fetchData(st){(0,_e.unreachable)("Abstract method `_fetchData` called.")}}j.BaseStandardFontDataFactory=ct;class rt{constructor(){this.constructor===rt&&(0,_e.unreachable)("Cannot initialize BaseSVGFactory.")}create(st,_t,yt=!1){if(st<=0||_t<=0)throw new Error("Invalid SVG dimensions");const gt=this._createSVG("svg:svg");return gt.setAttribute("version","1.1"),yt||(gt.setAttribute("width",`${st}px`),gt.setAttribute("height",`${_t}px`)),gt.setAttribute("preserveAspectRatio","none"),gt.setAttribute("viewBox",`0 0 ${st} ${_t}`),gt}createElement(st){if(typeof st!="string")throw new Error("Invalid SVG element type");return this._createSVG(st)}_createSVG(st){(0,_e.unreachable)("Abstract method `_createSVG` called.")}}j.BaseSVGFactory=rt},(_,j,$)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.MurmurHash3_64=void 0;var _e=$(1);const tt=3285377520,et=4294901760,nt=65535;class ct{constructor(ot){this.h1=ot?ot&4294967295:tt,this.h2=ot?ot&4294967295:tt}update(ot){let st,_t;if(typeof ot=="string"){st=new Uint8Array(ot.length*2),_t=0;for(let ft=0,St=ot.length;ft<St;ft++){const xt=ot.charCodeAt(ft);xt<=255?st[_t++]=xt:(st[_t++]=xt>>>8,st[_t++]=xt&255)}}else if((0,_e.isArrayBuffer)(ot))st=ot.slice(),_t=st.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const yt=_t>>2,gt=_t-yt*4,pt=new Uint32Array(st.buffer,0,yt);let kt=0,At=0,at=this.h1,lt=this.h2;const dt=3432918353,wt=461845907,ut=dt&nt,Et=wt&nt;for(let ft=0;ft<yt;ft++)ft&1?(kt=pt[ft],kt=kt*dt&et|kt*ut&nt,kt=kt<<15|kt>>>17,kt=kt*wt&et|kt*Et&nt,at^=kt,at=at<<13|at>>>19,at=at*5+3864292196):(At=pt[ft],At=At*dt&et|At*ut&nt,At=At<<15|At>>>17,At=At*wt&et|At*Et&nt,lt^=At,lt=lt<<13|lt>>>19,lt=lt*5+3864292196);switch(kt=0,gt){case 3:kt^=st[yt*4+2]<<16;case 2:kt^=st[yt*4+1]<<8;case 1:kt^=st[yt*4],kt=kt*dt&et|kt*ut&nt,kt=kt<<15|kt>>>17,kt=kt*wt&et|kt*Et&nt,yt&1?at^=kt:lt^=kt}this.h1=at,this.h2=lt}hexdigest(){let ot=this.h1,st=this.h2;return ot^=st>>>1,ot=ot*3981806797&et|ot*36045&nt,st=st*4283543511&et|((st<<16|ot>>>16)*2950163797&et)>>>16,ot^=st>>>1,ot=ot*444984403&et|ot*60499&nt,st=st*3301882366&et|((st<<16|ot>>>16)*3120437893&et)>>>16,ot^=st>>>1,(ot>>>0).toString(16).padStart(8,"0")+(st>>>0).toString(16).padStart(8,"0")}}j.MurmurHash3_64=ct},(_,j,$)=>{var nt;Object.defineProperty(j,"__esModule",{value:!0}),j.FontLoader=j.FontFaceObject=void 0;var _e=$(1);class tt{constructor({ownerDocument:rt=globalThis.document,styleElement:ot=null}){pn(this,nt,new Set);this._document=rt,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(rt){this.nativeFontFaces.add(rt),this._document.fonts.add(rt)}removeNativeFontFace(rt){this.nativeFontFaces.delete(rt),this._document.fonts.delete(rt)}insertRule(rt){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const ot=this.styleElement.sheet;ot.insertRule(rt,ot.cssRules.length)}clear(){for(const rt of this.nativeFontFaces)this._document.fonts.delete(rt);this.nativeFontFaces.clear(),it(this,nt).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(rt){if(!(!rt||it(this,nt).has(rt.loadedName))){if((0,_e.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:ot,src:st,style:_t}=rt,yt=new FontFace(ot,st,_t);this.addNativeFontFace(yt);try{await yt.load(),it(this,nt).add(ot)}catch{(0,_e.warn)(`Cannot load system font: ${rt.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(yt)}return}(0,_e.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(rt){if(rt.attached||rt.missingFile&&!rt.systemFontInfo)return;if(rt.attached=!0,rt.systemFontInfo){await this.loadSystemFont(rt.systemFontInfo);return}if(this.isFontLoadingAPISupported){const st=rt.createNativeFontFace();if(st){this.addNativeFontFace(st);try{await st.loaded}catch(_t){throw(0,_e.warn)(`Failed to load font '${st.family}': '${_t}'.`),rt.disableFontFace=!0,_t}}return}const ot=rt.createFontFaceRule();if(ot){if(this.insertRule(ot),this.isSyncFontLoadingSupported)return;await new Promise(st=>{const _t=this._queueLoadingCallback(st);this._prepareFontLoadEvent(rt,_t)})}}get isFontLoadingAPISupported(){var ot;const rt=!!((ot=this._document)!=null&&ot.fonts);return(0,_e.shadow)(this,"isFontLoadingAPISupported",rt)}get isSyncFontLoadingSupported(){let rt=!1;return(_e.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(rt=!0),(0,_e.shadow)(this,"isSyncFontLoadingSupported",rt)}_queueLoadingCallback(rt){function ot(){for((0,_e.assert)(!_t.done,"completeRequest() cannot be called twice."),_t.done=!0;st.length>0&&st[0].done;){const yt=st.shift();setTimeout(yt.callback,0)}}const{loadingRequests:st}=this,_t={done:!1,complete:ot,callback:rt};return st.push(_t),_t}get _loadTestFont(){const rt=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,_e.shadow)(this,"_loadTestFont",rt)}_prepareFontLoadEvent(rt,ot){function st(bt,Ft){return bt.charCodeAt(Ft)<<24|bt.charCodeAt(Ft+1)<<16|bt.charCodeAt(Ft+2)<<8|bt.charCodeAt(Ft+3)&255}function _t(bt,Ft,$t,gn){const Yt=bt.substring(0,Ft),rn=bt.substring(Ft+$t);return Yt+gn+rn}let yt,gt;const pt=this._document.createElement("canvas");pt.width=1,pt.height=1;const kt=pt.getContext("2d");let At=0;function at(bt,Ft){if(++At>30){(0,_e.warn)("Load test font never loaded."),Ft();return}if(kt.font="30px "+bt,kt.fillText(".",0,20),kt.getImageData(0,0,1,1).data[3]>0){Ft();return}setTimeout(at.bind(null,bt,Ft))}const lt=`lt${Date.now()}${this.loadTestFontId++}`;let dt=this._loadTestFont;dt=_t(dt,976,lt.length,lt);const ut=16,Et=1482184792;let ft=st(dt,ut);for(yt=0,gt=lt.length-3;yt<gt;yt+=4)ft=ft-Et+st(lt,yt)|0;yt<lt.length&&(ft=ft-Et+st(lt+"XXX",yt)|0),dt=_t(dt,ut,4,(0,_e.string32)(ft));const St=`url(data:font/opentype;base64,${btoa(dt)});`,xt=`@font-face {font-family:"${lt}";src:${St}}`;this.insertRule(xt);const Dt=this._document.createElement("div");Dt.style.visibility="hidden",Dt.style.width=Dt.style.height="10px",Dt.style.position="absolute",Dt.style.top=Dt.style.left="0px";for(const bt of[rt.loadedName,lt]){const Ft=this._document.createElement("span");Ft.textContent="Hi",Ft.style.fontFamily=bt,Dt.append(Ft)}this._document.body.append(Dt),at(lt,()=>{Dt.remove(),ot.complete()})}}nt=new WeakMap,j.FontLoader=tt;class et{constructor(rt,{isEvalSupported:ot=!0,disableFontFace:st=!1,ignoreErrors:_t=!1,inspectFont:yt=null}){this.compiledGlyphs=Object.create(null);for(const gt in rt)this[gt]=rt[gt];this.isEvalSupported=ot!==!1,this.disableFontFace=st===!0,this.ignoreErrors=_t===!0,this._inspectFont=yt}createNativeFontFace(){var ot;if(!this.data||this.disableFontFace)return null;let rt;if(!this.cssFontInfo)rt=new FontFace(this.loadedName,this.data,{});else{const st={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(st.style=`oblique ${this.cssFontInfo.italicAngle}deg`),rt=new FontFace(this.cssFontInfo.fontFamily,this.data,st)}return(ot=this._inspectFont)==null||ot.call(this,this),rt}createFontFaceRule(){var _t;if(!this.data||this.disableFontFace)return null;const rt=(0,_e.bytesToString)(this.data),ot=`url(data:${this.mimetype};base64,${btoa(rt)});`;let st;if(!this.cssFontInfo)st=`@font-face {font-family:"${this.loadedName}";src:${ot}}`;else{let yt=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(yt+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),st=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${yt}src:${ot}}`}return(_t=this._inspectFont)==null||_t.call(this,this,ot),st}getPathGenerator(rt,ot){if(this.compiledGlyphs[ot]!==void 0)return this.compiledGlyphs[ot];let st;try{st=rt.get(this.loadedName+"_path_"+ot)}catch(_t){if(!this.ignoreErrors)throw _t;return(0,_e.warn)(`getPathGenerator - ignoring character: "${_t}".`),this.compiledGlyphs[ot]=function(yt,gt){}}if(this.isEvalSupported&&_e.FeatureTest.isEvalSupported){const _t=[];for(const yt of st){const gt=yt.args!==void 0?yt.args.join(","):"";_t.push("c.",yt.cmd,"(",gt,`);
`)}return this.compiledGlyphs[ot]=new Function("c","size",_t.join(""))}return this.compiledGlyphs[ot]=function(_t,yt){for(const gt of st)gt.cmd==="scale"&&(gt.args=[yt,-yt]),_t[gt.cmd].apply(_t,gt.args)}}}j.FontFaceObject=et},(_,j,$)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.NodeStandardFontDataFactory=j.NodeFilterFactory=j.NodeCanvasFactory=j.NodeCMapReaderFactory=void 0;var _e=$(7);$(1);const tt=function(ot){return new Promise((st,_t)=>{require$$5.readFile(ot,(gt,pt)=>{if(gt||!pt){_t(new Error(gt));return}st(new Uint8Array(pt))})})};class et extends _e.BaseFilterFactory{}j.NodeFilterFactory=et;class nt extends _e.BaseCanvasFactory{_createCanvas(st,_t){return require$$5.createCanvas(st,_t)}}j.NodeCanvasFactory=nt;class ct extends _e.BaseCMapReaderFactory{_fetchData(st,_t){return tt(st).then(yt=>({cMapData:yt,compressionType:_t}))}}j.NodeCMapReaderFactory=ct;class rt extends _e.BaseStandardFontDataFactory{_fetchData(st){return tt(st)}}j.NodeStandardFontDataFactory=rt},(_,j,$)=>{var Gt,Do,Io;Object.defineProperty(j,"__esModule",{value:!0}),j.CanvasGraphics=void 0;var _e=$(1),tt=$(6),et=$(12),nt=$(13);const ct=16,rt=100,ot=4096,st=15,_t=10,yt=1e3,gt=16;function pt(Mt,mt){if(Mt._removeMirroring)throw new Error("Context is already forwarding operations.");Mt.__originalSave=Mt.save,Mt.__originalRestore=Mt.restore,Mt.__originalRotate=Mt.rotate,Mt.__originalScale=Mt.scale,Mt.__originalTranslate=Mt.translate,Mt.__originalTransform=Mt.transform,Mt.__originalSetTransform=Mt.setTransform,Mt.__originalResetTransform=Mt.resetTransform,Mt.__originalClip=Mt.clip,Mt.__originalMoveTo=Mt.moveTo,Mt.__originalLineTo=Mt.lineTo,Mt.__originalBezierCurveTo=Mt.bezierCurveTo,Mt.__originalRect=Mt.rect,Mt.__originalClosePath=Mt.closePath,Mt.__originalBeginPath=Mt.beginPath,Mt._removeMirroring=()=>{Mt.save=Mt.__originalSave,Mt.restore=Mt.__originalRestore,Mt.rotate=Mt.__originalRotate,Mt.scale=Mt.__originalScale,Mt.translate=Mt.__originalTranslate,Mt.transform=Mt.__originalTransform,Mt.setTransform=Mt.__originalSetTransform,Mt.resetTransform=Mt.__originalResetTransform,Mt.clip=Mt.__originalClip,Mt.moveTo=Mt.__originalMoveTo,Mt.lineTo=Mt.__originalLineTo,Mt.bezierCurveTo=Mt.__originalBezierCurveTo,Mt.rect=Mt.__originalRect,Mt.closePath=Mt.__originalClosePath,Mt.beginPath=Mt.__originalBeginPath,delete Mt._removeMirroring},Mt.save=function(){mt.save(),this.__originalSave()},Mt.restore=function(){mt.restore(),this.__originalRestore()},Mt.translate=function(Pt,It){mt.translate(Pt,It),this.__originalTranslate(Pt,It)},Mt.scale=function(Pt,It){mt.scale(Pt,It),this.__originalScale(Pt,It)},Mt.transform=function(Pt,It,jt,Nt,Zt,vn){mt.transform(Pt,It,jt,Nt,Zt,vn),this.__originalTransform(Pt,It,jt,Nt,Zt,vn)},Mt.setTransform=function(Pt,It,jt,Nt,Zt,vn){mt.setTransform(Pt,It,jt,Nt,Zt,vn),this.__originalSetTransform(Pt,It,jt,Nt,Zt,vn)},Mt.resetTransform=function(){mt.resetTransform(),this.__originalResetTransform()},Mt.rotate=function(Pt){mt.rotate(Pt),this.__originalRotate(Pt)},Mt.clip=function(Pt){mt.clip(Pt),this.__originalClip(Pt)},Mt.moveTo=function(vt,Pt){mt.moveTo(vt,Pt),this.__originalMoveTo(vt,Pt)},Mt.lineTo=function(vt,Pt){mt.lineTo(vt,Pt),this.__originalLineTo(vt,Pt)},Mt.bezierCurveTo=function(vt,Pt,It,jt,Nt,Zt){mt.bezierCurveTo(vt,Pt,It,jt,Nt,Zt),this.__originalBezierCurveTo(vt,Pt,It,jt,Nt,Zt)},Mt.rect=function(vt,Pt,It,jt){mt.rect(vt,Pt,It,jt),this.__originalRect(vt,Pt,It,jt)},Mt.closePath=function(){mt.closePath(),this.__originalClosePath()},Mt.beginPath=function(){mt.beginPath(),this.__originalBeginPath()}}class kt{constructor(mt){this.canvasFactory=mt,this.cache=Object.create(null)}getCanvas(mt,vt,Pt){let It;return this.cache[mt]!==void 0?(It=this.cache[mt],this.canvasFactory.reset(It,vt,Pt)):(It=this.canvasFactory.create(vt,Pt),this.cache[mt]=It),It}delete(mt){delete this.cache[mt]}clear(){for(const mt in this.cache){const vt=this.cache[mt];this.canvasFactory.destroy(vt),delete this.cache[mt]}}}function At(Mt,mt,vt,Pt,It,jt,Nt,Zt,vn,En){const[Sn,An,Pn,Rn,cn,dn]=(0,tt.getCurrentTransform)(Mt);if(An===0&&Pn===0){const nn=Nt*Sn+cn,hn=Math.round(nn),wn=Zt*Rn+dn,Tn=Math.round(wn),kn=(Nt+vn)*Sn+cn,tn=Math.abs(Math.round(kn)-hn)||1,$n=(Zt+En)*Rn+dn,In=Math.abs(Math.round($n)-Tn)||1;return Mt.setTransform(Math.sign(Sn),0,0,Math.sign(Rn),hn,Tn),Mt.drawImage(mt,vt,Pt,It,jt,0,0,tn,In),Mt.setTransform(Sn,An,Pn,Rn,cn,dn),[tn,In]}if(Sn===0&&Rn===0){const nn=Zt*Pn+cn,hn=Math.round(nn),wn=Nt*An+dn,Tn=Math.round(wn),kn=(Zt+En)*Pn+cn,tn=Math.abs(Math.round(kn)-hn)||1,$n=(Nt+vn)*An+dn,In=Math.abs(Math.round($n)-Tn)||1;return Mt.setTransform(0,Math.sign(An),Math.sign(Pn),0,hn,Tn),Mt.drawImage(mt,vt,Pt,It,jt,0,0,In,tn),Mt.setTransform(Sn,An,Pn,Rn,cn,dn),[In,tn]}Mt.drawImage(mt,vt,Pt,It,jt,Nt,Zt,vn,En);const Rt=Math.hypot(Sn,An),zt=Math.hypot(Pn,Rn);return[Rt*vn,zt*En]}function at(Mt){const{width:mt,height:vt}=Mt;if(mt>yt||vt>yt)return null;const Pt=1e3,It=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),jt=mt+1;let Nt=new Uint8Array(jt*(vt+1)),Zt,vn,En;const Sn=mt+7&-8;let An=new Uint8Array(Sn*vt),Pn=0;for(const zt of Mt.data){let nn=128;for(;nn>0;)An[Pn++]=zt&nn?0:255,nn>>=1}let Rn=0;for(Pn=0,An[Pn]!==0&&(Nt[0]=1,++Rn),vn=1;vn<mt;vn++)An[Pn]!==An[Pn+1]&&(Nt[vn]=An[Pn]?2:1,++Rn),Pn++;for(An[Pn]!==0&&(Nt[vn]=2,++Rn),Zt=1;Zt<vt;Zt++){Pn=Zt*Sn,En=Zt*jt,An[Pn-Sn]!==An[Pn]&&(Nt[En]=An[Pn]?1:8,++Rn);let zt=(An[Pn]?4:0)+(An[Pn-Sn]?8:0);for(vn=1;vn<mt;vn++)zt=(zt>>2)+(An[Pn+1]?4:0)+(An[Pn-Sn+1]?8:0),It[zt]&&(Nt[En+vn]=It[zt],++Rn),Pn++;if(An[Pn-Sn]!==An[Pn]&&(Nt[En+vn]=An[Pn]?2:4,++Rn),Rn>Pt)return null}for(Pn=Sn*(vt-1),En=Zt*jt,An[Pn]!==0&&(Nt[En]=8,++Rn),vn=1;vn<mt;vn++)An[Pn]!==An[Pn+1]&&(Nt[En+vn]=An[Pn]?4:8,++Rn),Pn++;if(An[Pn]!==0&&(Nt[En+vn]=4,++Rn),Rn>Pt)return null;const cn=new Int32Array([0,jt,-1,0,-jt,0,0,0,1]),dn=new Path2D;for(Zt=0;Rn&&Zt<=vt;Zt++){let zt=Zt*jt;const nn=zt+mt;for(;zt<nn&&!Nt[zt];)zt++;if(zt===nn)continue;dn.moveTo(zt%jt,Zt);const hn=zt;let wn=Nt[zt];do{const Tn=cn[wn];do zt+=Tn;while(!Nt[zt]);const kn=Nt[zt];kn!==5&&kn!==10?(wn=kn,Nt[zt]=0):(wn=kn&51*wn>>4,Nt[zt]&=wn>>2|wn<<2),dn.lineTo(zt%jt,zt/jt|0),Nt[zt]||--Rn}while(hn!==zt);--Zt}return An=null,Nt=null,function(zt){zt.save(),zt.scale(1/mt,-1/vt),zt.translate(0,-vt),zt.fill(dn),zt.beginPath(),zt.restore()}}class lt{constructor(mt,vt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=_e.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=_e.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=_e.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,mt,vt])}clone(){const mt=Object.create(this);return mt.clipBox=this.clipBox.slice(),mt}setCurrentPoint(mt,vt){this.x=mt,this.y=vt}updatePathMinMax(mt,vt,Pt){[vt,Pt]=_e.Util.applyTransform([vt,Pt],mt),this.minX=Math.min(this.minX,vt),this.minY=Math.min(this.minY,Pt),this.maxX=Math.max(this.maxX,vt),this.maxY=Math.max(this.maxY,Pt)}updateRectMinMax(mt,vt){const Pt=_e.Util.applyTransform(vt,mt),It=_e.Util.applyTransform(vt.slice(2),mt);this.minX=Math.min(this.minX,Pt[0],It[0]),this.minY=Math.min(this.minY,Pt[1],It[1]),this.maxX=Math.max(this.maxX,Pt[0],It[0]),this.maxY=Math.max(this.maxY,Pt[1],It[1])}updateScalingPathMinMax(mt,vt){_e.Util.scaleMinMax(mt,vt),this.minX=Math.min(this.minX,vt[0]),this.maxX=Math.max(this.maxX,vt[1]),this.minY=Math.min(this.minY,vt[2]),this.maxY=Math.max(this.maxY,vt[3])}updateCurvePathMinMax(mt,vt,Pt,It,jt,Nt,Zt,vn,En,Sn){const An=_e.Util.bezierBoundingBox(vt,Pt,It,jt,Nt,Zt,vn,En);if(Sn){Sn[0]=Math.min(Sn[0],An[0],An[2]),Sn[1]=Math.max(Sn[1],An[0],An[2]),Sn[2]=Math.min(Sn[2],An[1],An[3]),Sn[3]=Math.max(Sn[3],An[1],An[3]);return}this.updateRectMinMax(mt,An)}getPathBoundingBox(mt=et.PathType.FILL,vt=null){const Pt=[this.minX,this.minY,this.maxX,this.maxY];if(mt===et.PathType.STROKE){vt||(0,_e.unreachable)("Stroke bounding box must include transform.");const It=_e.Util.singularValueDecompose2dScale(vt),jt=It[0]*this.lineWidth/2,Nt=It[1]*this.lineWidth/2;Pt[0]-=jt,Pt[1]-=Nt,Pt[2]+=jt,Pt[3]+=Nt}return Pt}updateClipFromPath(){const mt=_e.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(mt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(mt){this.clipBox=mt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(mt=et.PathType.FILL,vt=null){return _e.Util.intersect(this.clipBox,this.getPathBoundingBox(mt,vt))}}function dt(Mt,mt){if(typeof ImageData<"u"&&mt instanceof ImageData){Mt.putImageData(mt,0,0);return}const vt=mt.height,Pt=mt.width,It=vt%gt,jt=(vt-It)/gt,Nt=It===0?jt:jt+1,Zt=Mt.createImageData(Pt,gt);let vn=0,En;const Sn=mt.data,An=Zt.data;let Pn,Rn,cn,dn;if(mt.kind===_e.ImageKind.GRAYSCALE_1BPP){const Rt=Sn.byteLength,zt=new Uint32Array(An.buffer,0,An.byteLength>>2),nn=zt.length,hn=Pt+7>>3,wn=4294967295,Tn=_e.FeatureTest.isLittleEndian?4278190080:255;for(Pn=0;Pn<Nt;Pn++){for(cn=Pn<jt?gt:It,En=0,Rn=0;Rn<cn;Rn++){const kn=Rt-vn;let tn=0;const $n=kn>hn?Pt:kn*8-7,In=$n&-8;let hr=0,ar=0;for(;tn<In;tn+=8)ar=Sn[vn++],zt[En++]=ar&128?wn:Tn,zt[En++]=ar&64?wn:Tn,zt[En++]=ar&32?wn:Tn,zt[En++]=ar&16?wn:Tn,zt[En++]=ar&8?wn:Tn,zt[En++]=ar&4?wn:Tn,zt[En++]=ar&2?wn:Tn,zt[En++]=ar&1?wn:Tn;for(;tn<$n;tn++)hr===0&&(ar=Sn[vn++],hr=128),zt[En++]=ar&hr?wn:Tn,hr>>=1}for(;En<nn;)zt[En++]=0;Mt.putImageData(Zt,0,Pn*gt)}}else if(mt.kind===_e.ImageKind.RGBA_32BPP){for(Rn=0,dn=Pt*gt*4,Pn=0;Pn<jt;Pn++)An.set(Sn.subarray(vn,vn+dn)),vn+=dn,Mt.putImageData(Zt,0,Rn),Rn+=gt;Pn<Nt&&(dn=Pt*It*4,An.set(Sn.subarray(vn,vn+dn)),Mt.putImageData(Zt,0,Rn))}else if(mt.kind===_e.ImageKind.RGB_24BPP)for(cn=gt,dn=Pt*cn,Pn=0;Pn<Nt;Pn++){for(Pn>=jt&&(cn=It,dn=Pt*cn),En=0,Rn=dn;Rn--;)An[En++]=Sn[vn++],An[En++]=Sn[vn++],An[En++]=Sn[vn++],An[En++]=255;Mt.putImageData(Zt,0,Pn*gt)}else throw new Error(`bad image kind: ${mt.kind}`)}function wt(Mt,mt){if(mt.bitmap){Mt.drawImage(mt.bitmap,0,0);return}const vt=mt.height,Pt=mt.width,It=vt%gt,jt=(vt-It)/gt,Nt=It===0?jt:jt+1,Zt=Mt.createImageData(Pt,gt);let vn=0;const En=mt.data,Sn=Zt.data;for(let An=0;An<Nt;An++){const Pn=An<jt?gt:It;({srcPos:vn}=(0,nt.convertBlackAndWhiteToRGBA)({src:En,srcPos:vn,dest:Sn,width:Pt,height:Pn,nonBlackColor:0})),Mt.putImageData(Zt,0,An*gt)}}function ut(Mt,mt){const vt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const Pt of vt)Mt[Pt]!==void 0&&(mt[Pt]=Mt[Pt]);Mt.setLineDash!==void 0&&(mt.setLineDash(Mt.getLineDash()),mt.lineDashOffset=Mt.lineDashOffset)}function Et(Mt){if(Mt.strokeStyle=Mt.fillStyle="#000000",Mt.fillRule="nonzero",Mt.globalAlpha=1,Mt.lineWidth=1,Mt.lineCap="butt",Mt.lineJoin="miter",Mt.miterLimit=10,Mt.globalCompositeOperation="source-over",Mt.font="10px sans-serif",Mt.setLineDash!==void 0&&(Mt.setLineDash([]),Mt.lineDashOffset=0),!_e.isNodeJS){const{filter:mt}=Mt;mt!=="none"&&mt!==""&&(Mt.filter="none")}}function ft(Mt,mt,vt,Pt){const It=Mt.length;for(let jt=3;jt<It;jt+=4){const Nt=Mt[jt];if(Nt===0)Mt[jt-3]=mt,Mt[jt-2]=vt,Mt[jt-1]=Pt;else if(Nt<255){const Zt=255-Nt;Mt[jt-3]=Mt[jt-3]*Nt+mt*Zt>>8,Mt[jt-2]=Mt[jt-2]*Nt+vt*Zt>>8,Mt[jt-1]=Mt[jt-1]*Nt+Pt*Zt>>8}}}function St(Mt,mt,vt){const Pt=Mt.length,It=1/255;for(let jt=3;jt<Pt;jt+=4){const Nt=vt?vt[Mt[jt]]:Mt[jt];mt[jt]=mt[jt]*Nt*It|0}}function xt(Mt,mt,vt){const Pt=Mt.length;for(let It=3;It<Pt;It+=4){const jt=Mt[It-3]*77+Mt[It-2]*152+Mt[It-1]*28;mt[It]=vt?mt[It]*vt[jt>>8]>>8:mt[It]*jt>>16}}function Dt(Mt,mt,vt,Pt,It,jt,Nt,Zt,vn,En,Sn){const An=!!jt,Pn=An?jt[0]:0,Rn=An?jt[1]:0,cn=An?jt[2]:0,dn=It==="Luminosity"?xt:St,zt=Math.min(Pt,Math.ceil(1048576/vt));for(let nn=0;nn<Pt;nn+=zt){const hn=Math.min(zt,Pt-nn),wn=Mt.getImageData(Zt-En,nn+(vn-Sn),vt,hn),Tn=mt.getImageData(Zt,nn+vn,vt,hn);An&&ft(wn.data,Pn,Rn,cn),dn(wn.data,Tn.data,Nt),mt.putImageData(Tn,Zt,nn+vn)}}function bt(Mt,mt,vt,Pt){const It=Pt[0],jt=Pt[1],Nt=Pt[2]-It,Zt=Pt[3]-jt;Nt===0||Zt===0||(Dt(mt.context,vt,Nt,Zt,mt.subtype,mt.backdrop,mt.transferMap,It,jt,mt.offsetX,mt.offsetY),Mt.save(),Mt.globalAlpha=1,Mt.globalCompositeOperation="source-over",Mt.setTransform(1,0,0,1,0,0),Mt.drawImage(vt.canvas,0,0),Mt.restore())}function Ft(Mt,mt){const vt=_e.Util.singularValueDecompose2dScale(Mt);vt[0]=Math.fround(vt[0]),vt[1]=Math.fround(vt[1]);const Pt=Math.fround((globalThis.devicePixelRatio||1)*tt.PixelsPerInch.PDF_TO_CSS_UNITS);return mt!==void 0?mt:vt[0]<=Pt||vt[1]<=Pt}const $t=["butt","round","square"],gn=["miter","round","bevel"],Yt={},rn={},Jt=class Jt{constructor(mt,vt,Pt,It,jt,{optionalContentConfig:Nt,markedContentStack:Zt=null},vn,En){pn(this,Gt);this.ctx=mt,this.current=new lt(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=vt,this.objs=Pt,this.canvasFactory=It,this.filterFactory=jt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Zt||[],this.optionalContentConfig=Nt,this.cachedCanvases=new kt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=vn,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=En,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(mt,vt=null){return typeof mt=="string"?mt.startsWith("g_")?this.commonObjs.get(mt):this.objs.get(mt):vt}beginDrawing({transform:mt,viewport:vt,transparency:Pt=!1,background:It=null}){const jt=this.ctx.canvas.width,Nt=this.ctx.canvas.height,Zt=this.ctx.fillStyle;if(this.ctx.fillStyle=It||"#ffffff",this.ctx.fillRect(0,0,jt,Nt),this.ctx.fillStyle=Zt,Pt){const vn=this.cachedCanvases.getCanvas("transparent",jt,Nt);this.compositeCtx=this.ctx,this.transparentCanvas=vn.canvas,this.ctx=vn.context,this.ctx.save(),this.ctx.transform(...(0,tt.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),Et(this.ctx),mt&&(this.ctx.transform(...mt),this.outputScaleX=mt[0],this.outputScaleY=mt[0]),this.ctx.transform(...vt.transform),this.viewportScale=vt.scale,this.baseTransform=(0,tt.getCurrentTransform)(this.ctx)}executeOperatorList(mt,vt,Pt,It){const jt=mt.argsArray,Nt=mt.fnArray;let Zt=vt||0;const vn=jt.length;if(vn===Zt)return Zt;const En=vn-Zt>_t&&typeof Pt=="function",Sn=En?Date.now()+st:0;let An=0;const Pn=this.commonObjs,Rn=this.objs;let cn;for(;;){if(It!==void 0&&Zt===It.nextBreakPoint)return It.breakIt(Zt,Pt),Zt;if(cn=Nt[Zt],cn!==_e.OPS.dependency)this[cn].apply(this,jt[Zt]);else for(const dn of jt[Zt]){const Rt=dn.startsWith("g_")?Pn:Rn;if(!Rt.has(dn))return Rt.get(dn,Pt),Zt}if(Zt++,Zt===vn)return Zt;if(En&&++An>_t){if(Date.now()>Sn)return Pt(),Zt;An=0}}}endDrawing(){en(this,Gt,Do).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const mt of this._cachedBitmapsMap.values()){for(const vt of mt.values())typeof HTMLCanvasElement<"u"&&vt instanceof HTMLCanvasElement&&(vt.width=vt.height=0);mt.clear()}this._cachedBitmapsMap.clear(),en(this,Gt,Io).call(this)}_scaleImage(mt,vt){const Pt=mt.width,It=mt.height;let jt=Math.max(Math.hypot(vt[0],vt[1]),1),Nt=Math.max(Math.hypot(vt[2],vt[3]),1),Zt=Pt,vn=It,En="prescale1",Sn,An;for(;jt>2&&Zt>1||Nt>2&&vn>1;){let Pn=Zt,Rn=vn;jt>2&&Zt>1&&(Pn=Zt>=16384?Math.floor(Zt/2)-1||1:Math.ceil(Zt/2),jt/=Zt/Pn),Nt>2&&vn>1&&(Rn=vn>=16384?Math.floor(vn/2)-1||1:Math.ceil(vn)/2,Nt/=vn/Rn),Sn=this.cachedCanvases.getCanvas(En,Pn,Rn),An=Sn.context,An.clearRect(0,0,Pn,Rn),An.drawImage(mt,0,0,Zt,vn,0,0,Pn,Rn),mt=Sn.canvas,Zt=Pn,vn=Rn,En=En==="prescale1"?"prescale2":"prescale1"}return{img:mt,paintWidth:Zt,paintHeight:vn}}_createMaskCanvas(mt){const vt=this.ctx,{width:Pt,height:It}=mt,jt=this.current.fillColor,Nt=this.current.patternFill,Zt=(0,tt.getCurrentTransform)(vt);let vn,En,Sn,An;if((mt.bitmap||mt.data)&&mt.count>1){const tn=mt.bitmap||mt.data.buffer;En=JSON.stringify(Nt?Zt:[Zt.slice(0,4),jt]),vn=this._cachedBitmapsMap.get(tn),vn||(vn=new Map,this._cachedBitmapsMap.set(tn,vn));const $n=vn.get(En);if($n&&!Nt){const In=Math.round(Math.min(Zt[0],Zt[2])+Zt[4]),hr=Math.round(Math.min(Zt[1],Zt[3])+Zt[5]);return{canvas:$n,offsetX:In,offsetY:hr}}Sn=$n}Sn||(An=this.cachedCanvases.getCanvas("maskCanvas",Pt,It),wt(An.context,mt));let Pn=_e.Util.transform(Zt,[1/Pt,0,0,-1/It,0,0]);Pn=_e.Util.transform(Pn,[1,0,0,1,0,-It]);const Rn=_e.Util.applyTransform([0,0],Pn),cn=_e.Util.applyTransform([Pt,It],Pn),dn=_e.Util.normalizeRect([Rn[0],Rn[1],cn[0],cn[1]]),Rt=Math.round(dn[2]-dn[0])||1,zt=Math.round(dn[3]-dn[1])||1,nn=this.cachedCanvases.getCanvas("fillCanvas",Rt,zt),hn=nn.context,wn=Math.min(Rn[0],cn[0]),Tn=Math.min(Rn[1],cn[1]);hn.translate(-wn,-Tn),hn.transform(...Pn),Sn||(Sn=this._scaleImage(An.canvas,(0,tt.getCurrentTransformInverse)(hn)),Sn=Sn.img,vn&&Nt&&vn.set(En,Sn)),hn.imageSmoothingEnabled=Ft((0,tt.getCurrentTransform)(hn),mt.interpolate),At(hn,Sn,0,0,Sn.width,Sn.height,0,0,Pt,It),hn.globalCompositeOperation="source-in";const kn=_e.Util.transform((0,tt.getCurrentTransformInverse)(hn),[1,0,0,1,-wn,-Tn]);return hn.fillStyle=Nt?jt.getPattern(vt,this,kn,et.PathType.FILL):jt,hn.fillRect(0,0,Pt,It),vn&&!Nt&&(this.cachedCanvases.delete("fillCanvas"),vn.set(En,nn.canvas)),{canvas:nn.canvas,offsetX:Math.round(wn),offsetY:Math.round(Tn)}}setLineWidth(mt){mt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=mt,this.ctx.lineWidth=mt}setLineCap(mt){this.ctx.lineCap=$t[mt]}setLineJoin(mt){this.ctx.lineJoin=gn[mt]}setMiterLimit(mt){this.ctx.miterLimit=mt}setDash(mt,vt){const Pt=this.ctx;Pt.setLineDash!==void 0&&(Pt.setLineDash(mt),Pt.lineDashOffset=vt)}setRenderingIntent(mt){}setFlatness(mt){}setGState(mt){for(const[vt,Pt]of mt)switch(vt){case"LW":this.setLineWidth(Pt);break;case"LC":this.setLineCap(Pt);break;case"LJ":this.setLineJoin(Pt);break;case"ML":this.setMiterLimit(Pt);break;case"D":this.setDash(Pt[0],Pt[1]);break;case"RI":this.setRenderingIntent(Pt);break;case"FL":this.setFlatness(Pt);break;case"Font":this.setFont(Pt[0],Pt[1]);break;case"CA":this.current.strokeAlpha=Pt;break;case"ca":this.current.fillAlpha=Pt,this.ctx.globalAlpha=Pt;break;case"BM":this.ctx.globalCompositeOperation=Pt;break;case"SMask":this.current.activeSMask=Pt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(Pt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const mt=this.inSMaskMode;this.current.activeSMask&&!mt?this.beginSMaskMode():!this.current.activeSMask&&mt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const mt=this.ctx.canvas.width,vt=this.ctx.canvas.height,Pt="smaskGroupAt"+this.groupLevel,It=this.cachedCanvases.getCanvas(Pt,mt,vt);this.suspendedCtx=this.ctx,this.ctx=It.context;const jt=this.ctx;jt.setTransform(...(0,tt.getCurrentTransform)(this.suspendedCtx)),ut(this.suspendedCtx,jt),pt(jt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ut(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(mt){if(!this.current.activeSMask)return;mt?(mt[0]=Math.floor(mt[0]),mt[1]=Math.floor(mt[1]),mt[2]=Math.ceil(mt[2]),mt[3]=Math.ceil(mt[3])):mt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const vt=this.current.activeSMask,Pt=this.suspendedCtx;bt(Pt,vt,this.ctx,mt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(ut(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const mt=this.current;this.stateStack.push(mt),this.current=mt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ut(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(mt,vt,Pt,It,jt,Nt){this.ctx.transform(mt,vt,Pt,It,jt,Nt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(mt,vt,Pt){const It=this.ctx,jt=this.current;let Nt=jt.x,Zt=jt.y,vn,En;const Sn=(0,tt.getCurrentTransform)(It),An=Sn[0]===0&&Sn[3]===0||Sn[1]===0&&Sn[2]===0,Pn=An?Pt.slice(0):null;for(let Rn=0,cn=0,dn=mt.length;Rn<dn;Rn++)switch(mt[Rn]|0){case _e.OPS.rectangle:Nt=vt[cn++],Zt=vt[cn++];const Rt=vt[cn++],zt=vt[cn++],nn=Nt+Rt,hn=Zt+zt;It.moveTo(Nt,Zt),Rt===0||zt===0?It.lineTo(nn,hn):(It.lineTo(nn,Zt),It.lineTo(nn,hn),It.lineTo(Nt,hn)),An||jt.updateRectMinMax(Sn,[Nt,Zt,nn,hn]),It.closePath();break;case _e.OPS.moveTo:Nt=vt[cn++],Zt=vt[cn++],It.moveTo(Nt,Zt),An||jt.updatePathMinMax(Sn,Nt,Zt);break;case _e.OPS.lineTo:Nt=vt[cn++],Zt=vt[cn++],It.lineTo(Nt,Zt),An||jt.updatePathMinMax(Sn,Nt,Zt);break;case _e.OPS.curveTo:vn=Nt,En=Zt,Nt=vt[cn+4],Zt=vt[cn+5],It.bezierCurveTo(vt[cn],vt[cn+1],vt[cn+2],vt[cn+3],Nt,Zt),jt.updateCurvePathMinMax(Sn,vn,En,vt[cn],vt[cn+1],vt[cn+2],vt[cn+3],Nt,Zt,Pn),cn+=6;break;case _e.OPS.curveTo2:vn=Nt,En=Zt,It.bezierCurveTo(Nt,Zt,vt[cn],vt[cn+1],vt[cn+2],vt[cn+3]),jt.updateCurvePathMinMax(Sn,vn,En,Nt,Zt,vt[cn],vt[cn+1],vt[cn+2],vt[cn+3],Pn),Nt=vt[cn+2],Zt=vt[cn+3],cn+=4;break;case _e.OPS.curveTo3:vn=Nt,En=Zt,Nt=vt[cn+2],Zt=vt[cn+3],It.bezierCurveTo(vt[cn],vt[cn+1],Nt,Zt,Nt,Zt),jt.updateCurvePathMinMax(Sn,vn,En,vt[cn],vt[cn+1],Nt,Zt,Nt,Zt,Pn),cn+=4;break;case _e.OPS.closePath:It.closePath();break}An&&jt.updateScalingPathMinMax(Sn,Pn),jt.setCurrentPoint(Nt,Zt)}closePath(){this.ctx.closePath()}stroke(mt=!0){const vt=this.ctx,Pt=this.current.strokeColor;vt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Pt=="object"&&(Pt!=null&&Pt.getPattern)?(vt.save(),vt.strokeStyle=Pt.getPattern(vt,this,(0,tt.getCurrentTransformInverse)(vt),et.PathType.STROKE),this.rescaleAndStroke(!1),vt.restore()):this.rescaleAndStroke(!0)),mt&&this.consumePath(this.current.getClippedPathBoundingBox()),vt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(mt=!0){const vt=this.ctx,Pt=this.current.fillColor,It=this.current.patternFill;let jt=!1;It&&(vt.save(),vt.fillStyle=Pt.getPattern(vt,this,(0,tt.getCurrentTransformInverse)(vt),et.PathType.FILL),jt=!0);const Nt=this.current.getClippedPathBoundingBox();this.contentVisible&&Nt!==null&&(this.pendingEOFill?(vt.fill("evenodd"),this.pendingEOFill=!1):vt.fill()),jt&&vt.restore(),mt&&this.consumePath(Nt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Yt}eoClip(){this.pendingClip=rn}beginText(){this.current.textMatrix=_e.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const mt=this.pendingTextPaths,vt=this.ctx;if(mt===void 0){vt.beginPath();return}vt.save(),vt.beginPath();for(const Pt of mt)vt.setTransform(...Pt.transform),vt.translate(Pt.x,Pt.y),Pt.addToPath(vt,Pt.fontSize);vt.restore(),vt.clip(),vt.beginPath(),delete this.pendingTextPaths}setCharSpacing(mt){this.current.charSpacing=mt}setWordSpacing(mt){this.current.wordSpacing=mt}setHScale(mt){this.current.textHScale=mt/100}setLeading(mt){this.current.leading=-mt}setFont(mt,vt){var Sn;const Pt=this.commonObjs.get(mt),It=this.current;if(!Pt)throw new Error(`Can't find font for ${mt}`);if(It.fontMatrix=Pt.fontMatrix||_e.FONT_IDENTITY_MATRIX,(It.fontMatrix[0]===0||It.fontMatrix[3]===0)&&(0,_e.warn)("Invalid font matrix for font "+mt),vt<0?(vt=-vt,It.fontDirection=-1):It.fontDirection=1,this.current.font=Pt,this.current.fontSize=vt,Pt.isType3Font)return;const jt=Pt.loadedName||"sans-serif",Nt=((Sn=Pt.systemFontInfo)==null?void 0:Sn.css)||`"${jt}", ${Pt.fallbackName}`;let Zt="normal";Pt.black?Zt="900":Pt.bold&&(Zt="bold");const vn=Pt.italic?"italic":"normal";let En=vt;vt<ct?En=ct:vt>rt&&(En=rt),this.current.fontSizeScale=vt/En,this.ctx.font=`${vn} ${Zt} ${En}px ${Nt}`}setTextRenderingMode(mt){this.current.textRenderingMode=mt}setTextRise(mt){this.current.textRise=mt}moveText(mt,vt){this.current.x=this.current.lineX+=mt,this.current.y=this.current.lineY+=vt}setLeadingMoveText(mt,vt){this.setLeading(-vt),this.moveText(mt,vt)}setTextMatrix(mt,vt,Pt,It,jt,Nt){this.current.textMatrix=[mt,vt,Pt,It,jt,Nt],this.current.textMatrixScale=Math.hypot(mt,vt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(mt,vt,Pt,It){const jt=this.ctx,Nt=this.current,Zt=Nt.font,vn=Nt.textRenderingMode,En=Nt.fontSize/Nt.fontSizeScale,Sn=vn&_e.TextRenderingMode.FILL_STROKE_MASK,An=!!(vn&_e.TextRenderingMode.ADD_TO_PATH_FLAG),Pn=Nt.patternFill&&!Zt.missingFile;let Rn;(Zt.disableFontFace||An||Pn)&&(Rn=Zt.getPathGenerator(this.commonObjs,mt)),Zt.disableFontFace||Pn?(jt.save(),jt.translate(vt,Pt),jt.beginPath(),Rn(jt,En),It&&jt.setTransform(...It),(Sn===_e.TextRenderingMode.FILL||Sn===_e.TextRenderingMode.FILL_STROKE)&&jt.fill(),(Sn===_e.TextRenderingMode.STROKE||Sn===_e.TextRenderingMode.FILL_STROKE)&&jt.stroke(),jt.restore()):((Sn===_e.TextRenderingMode.FILL||Sn===_e.TextRenderingMode.FILL_STROKE)&&jt.fillText(mt,vt,Pt),(Sn===_e.TextRenderingMode.STROKE||Sn===_e.TextRenderingMode.FILL_STROKE)&&jt.strokeText(mt,vt,Pt)),An&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,tt.getCurrentTransform)(jt),x:vt,y:Pt,fontSize:En,addToPath:Rn})}get isFontSubpixelAAEnabled(){const{context:mt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);mt.scale(1.5,1),mt.fillText("I",0,10);const vt=mt.getImageData(0,0,10,10).data;let Pt=!1;for(let It=3;It<vt.length;It+=4)if(vt[It]>0&&vt[It]<255){Pt=!0;break}return(0,_e.shadow)(this,"isFontSubpixelAAEnabled",Pt)}showText(mt){const vt=this.current,Pt=vt.font;if(Pt.isType3Font)return this.showType3Text(mt);const It=vt.fontSize;if(It===0)return;const jt=this.ctx,Nt=vt.fontSizeScale,Zt=vt.charSpacing,vn=vt.wordSpacing,En=vt.fontDirection,Sn=vt.textHScale*En,An=mt.length,Pn=Pt.vertical,Rn=Pn?1:-1,cn=Pt.defaultVMetrics,dn=It*vt.fontMatrix[0],Rt=vt.textRenderingMode===_e.TextRenderingMode.FILL&&!Pt.disableFontFace&&!vt.patternFill;jt.save(),jt.transform(...vt.textMatrix),jt.translate(vt.x,vt.y+vt.textRise),En>0?jt.scale(Sn,-1):jt.scale(Sn,1);let zt;if(vt.patternFill){jt.save();const kn=vt.fillColor.getPattern(jt,this,(0,tt.getCurrentTransformInverse)(jt),et.PathType.FILL);zt=(0,tt.getCurrentTransform)(jt),jt.restore(),jt.fillStyle=kn}let nn=vt.lineWidth;const hn=vt.textMatrixScale;if(hn===0||nn===0){const kn=vt.textRenderingMode&_e.TextRenderingMode.FILL_STROKE_MASK;(kn===_e.TextRenderingMode.STROKE||kn===_e.TextRenderingMode.FILL_STROKE)&&(nn=this.getSinglePixelWidth())}else nn/=hn;if(Nt!==1&&(jt.scale(Nt,Nt),nn/=Nt),jt.lineWidth=nn,Pt.isInvalidPDFjsFont){const kn=[];let tn=0;for(const $n of mt)kn.push($n.unicode),tn+=$n.width;jt.fillText(kn.join(""),0,0),vt.x+=tn*dn*Sn,jt.restore(),this.compose();return}let wn=0,Tn;for(Tn=0;Tn<An;++Tn){const kn=mt[Tn];if(typeof kn=="number"){wn+=Rn*kn*It/1e3;continue}let tn=!1;const $n=(kn.isSpace?vn:0)+Zt,In=kn.fontChar,hr=kn.accent;let ar,br,Wn=kn.width;if(Pn){const vr=kn.vmetric||cn,Mr=-(kn.vmetric?vr[1]:Wn*.5)*dn,xn=vr[2]*dn;Wn=vr?-vr[0]:Wn,ar=Mr/Nt,br=(wn+xn)/Nt}else ar=wn/Nt,br=0;if(Pt.remeasure&&Wn>0){const vr=jt.measureText(In).width*1e3/It*Nt;if(Wn<vr&&this.isFontSubpixelAAEnabled){const Mr=Wn/vr;tn=!0,jt.save(),jt.scale(Mr,1),ar/=Mr}else Wn!==vr&&(ar+=(Wn-vr)/2e3*It/Nt)}if(this.contentVisible&&(kn.isInFont||Pt.missingFile)){if(Rt&&!hr)jt.fillText(In,ar,br);else if(this.paintChar(In,ar,br,zt),hr){const vr=ar+It*hr.offset.x/Nt,Mr=br-It*hr.offset.y/Nt;this.paintChar(hr.fontChar,vr,Mr,zt)}}const er=Pn?Wn*dn-$n*En:Wn*dn+$n*En;wn+=er,tn&&jt.restore()}Pn?vt.y-=wn:vt.x+=wn*Sn,jt.restore(),this.compose()}showType3Text(mt){const vt=this.ctx,Pt=this.current,It=Pt.font,jt=Pt.fontSize,Nt=Pt.fontDirection,Zt=It.vertical?1:-1,vn=Pt.charSpacing,En=Pt.wordSpacing,Sn=Pt.textHScale*Nt,An=Pt.fontMatrix||_e.FONT_IDENTITY_MATRIX,Pn=mt.length,Rn=Pt.textRenderingMode===_e.TextRenderingMode.INVISIBLE;let cn,dn,Rt,zt;if(!(Rn||jt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,vt.save(),vt.transform(...Pt.textMatrix),vt.translate(Pt.x,Pt.y),vt.scale(Sn,Nt),cn=0;cn<Pn;++cn){if(dn=mt[cn],typeof dn=="number"){zt=Zt*dn*jt/1e3,this.ctx.translate(zt,0),Pt.x+=zt*Sn;continue}const nn=(dn.isSpace?En:0)+vn,hn=It.charProcOperatorList[dn.operatorListId];if(!hn){(0,_e.warn)(`Type3 character "${dn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=dn,this.save(),vt.scale(jt,jt),vt.transform(...An),this.executeOperatorList(hn),this.restore()),Rt=_e.Util.applyTransform([dn.width,0],An)[0]*jt+nn,vt.translate(Rt,0),Pt.x+=Rt*Sn}vt.restore(),this.processingType3=null}}setCharWidth(mt,vt){}setCharWidthAndBounds(mt,vt,Pt,It,jt,Nt){this.ctx.rect(Pt,It,jt-Pt,Nt-It),this.ctx.clip(),this.endPath()}getColorN_Pattern(mt){let vt;if(mt[0]==="TilingPattern"){const Pt=mt[1],It=this.baseTransform||(0,tt.getCurrentTransform)(this.ctx),jt={createCanvasGraphics:Nt=>new Jt(Nt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};vt=new et.TilingPattern(mt,Pt,this.ctx,jt,It)}else vt=this._getPattern(mt[1],mt[2]);return vt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(mt,vt,Pt){const It=_e.Util.makeHexColor(mt,vt,Pt);this.ctx.strokeStyle=It,this.current.strokeColor=It}setFillRGBColor(mt,vt,Pt){const It=_e.Util.makeHexColor(mt,vt,Pt);this.ctx.fillStyle=It,this.current.fillColor=It,this.current.patternFill=!1}_getPattern(mt,vt=null){let Pt;return this.cachedPatterns.has(mt)?Pt=this.cachedPatterns.get(mt):(Pt=(0,et.getShadingPattern)(this.getObject(mt)),this.cachedPatterns.set(mt,Pt)),vt&&(Pt.matrix=vt),Pt}shadingFill(mt){if(!this.contentVisible)return;const vt=this.ctx;this.save();const Pt=this._getPattern(mt);vt.fillStyle=Pt.getPattern(vt,this,(0,tt.getCurrentTransformInverse)(vt),et.PathType.SHADING);const It=(0,tt.getCurrentTransformInverse)(vt);if(It){const{width:jt,height:Nt}=vt.canvas,[Zt,vn,En,Sn]=_e.Util.getAxialAlignedBoundingBox([0,0,jt,Nt],It);this.ctx.fillRect(Zt,vn,En-Zt,Sn-vn)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,_e.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,_e.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(mt,vt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(mt)&&mt.length===6&&this.transform(...mt),this.baseTransform=(0,tt.getCurrentTransform)(this.ctx),vt)){const Pt=vt[2]-vt[0],It=vt[3]-vt[1];this.ctx.rect(vt[0],vt[1],Pt,It),this.current.updateRectMinMax((0,tt.getCurrentTransform)(this.ctx),vt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(mt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const vt=this.ctx;mt.isolated||(0,_e.info)("TODO: Support non-isolated groups."),mt.knockout&&(0,_e.warn)("Knockout groups not supported.");const Pt=(0,tt.getCurrentTransform)(vt);if(mt.matrix&&vt.transform(...mt.matrix),!mt.bbox)throw new Error("Bounding box is required.");let It=_e.Util.getAxialAlignedBoundingBox(mt.bbox,(0,tt.getCurrentTransform)(vt));const jt=[0,0,vt.canvas.width,vt.canvas.height];It=_e.Util.intersect(It,jt)||[0,0,0,0];const Nt=Math.floor(It[0]),Zt=Math.floor(It[1]);let vn=Math.max(Math.ceil(It[2])-Nt,1),En=Math.max(Math.ceil(It[3])-Zt,1),Sn=1,An=1;vn>ot&&(Sn=vn/ot,vn=ot),En>ot&&(An=En/ot,En=ot),this.current.startNewPathAndClipBox([0,0,vn,En]);let Pn="groupAt"+this.groupLevel;mt.smask&&(Pn+="_smask_"+this.smaskCounter++%2);const Rn=this.cachedCanvases.getCanvas(Pn,vn,En),cn=Rn.context;cn.scale(1/Sn,1/An),cn.translate(-Nt,-Zt),cn.transform(...Pt),mt.smask?this.smaskStack.push({canvas:Rn.canvas,context:cn,offsetX:Nt,offsetY:Zt,scaleX:Sn,scaleY:An,subtype:mt.smask.subtype,backdrop:mt.smask.backdrop,transferMap:mt.smask.transferMap||null,startTransformInverse:null}):(vt.setTransform(1,0,0,1,0,0),vt.translate(Nt,Zt),vt.scale(Sn,An),vt.save()),ut(vt,cn),this.ctx=cn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(vt),this.groupLevel++}endGroup(mt){if(!this.contentVisible)return;this.groupLevel--;const vt=this.ctx,Pt=this.groupStack.pop();if(this.ctx=Pt,this.ctx.imageSmoothingEnabled=!1,mt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const It=(0,tt.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...It);const jt=_e.Util.getAxialAlignedBoundingBox([0,0,vt.canvas.width,vt.canvas.height],It);this.ctx.drawImage(vt.canvas,0,0),this.ctx.restore(),this.compose(jt)}}beginAnnotation(mt,vt,Pt,It,jt){if(en(this,Gt,Do).call(this),Et(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(vt)&&vt.length===4){const Nt=vt[2]-vt[0],Zt=vt[3]-vt[1];if(jt&&this.annotationCanvasMap){Pt=Pt.slice(),Pt[4]-=vt[0],Pt[5]-=vt[1],vt=vt.slice(),vt[0]=vt[1]=0,vt[2]=Nt,vt[3]=Zt;const[vn,En]=_e.Util.singularValueDecompose2dScale((0,tt.getCurrentTransform)(this.ctx)),{viewportScale:Sn}=this,An=Math.ceil(Nt*this.outputScaleX*Sn),Pn=Math.ceil(Zt*this.outputScaleY*Sn);this.annotationCanvas=this.canvasFactory.create(An,Pn);const{canvas:Rn,context:cn}=this.annotationCanvas;this.annotationCanvasMap.set(mt,Rn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=cn,this.ctx.save(),this.ctx.setTransform(vn,0,0,-En,0,Zt*En),Et(this.ctx)}else Et(this.ctx),this.ctx.rect(vt[0],vt[1],Nt,Zt),this.ctx.clip(),this.endPath()}this.current=new lt(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Pt),this.transform(...It)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),en(this,Gt,Io).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(mt){if(!this.contentVisible)return;const vt=mt.count;mt=this.getObject(mt.data,mt),mt.count=vt;const Pt=this.ctx,It=this.processingType3;if(It&&(It.compiled===void 0&&(It.compiled=at(mt)),It.compiled)){It.compiled(Pt);return}const jt=this._createMaskCanvas(mt),Nt=jt.canvas;Pt.save(),Pt.setTransform(1,0,0,1,0,0),Pt.drawImage(Nt,jt.offsetX,jt.offsetY),Pt.restore(),this.compose()}paintImageMaskXObjectRepeat(mt,vt,Pt=0,It=0,jt,Nt){if(!this.contentVisible)return;mt=this.getObject(mt.data,mt);const Zt=this.ctx;Zt.save();const vn=(0,tt.getCurrentTransform)(Zt);Zt.transform(vt,Pt,It,jt,0,0);const En=this._createMaskCanvas(mt);Zt.setTransform(1,0,0,1,En.offsetX-vn[4],En.offsetY-vn[5]);for(let Sn=0,An=Nt.length;Sn<An;Sn+=2){const Pn=_e.Util.transform(vn,[vt,Pt,It,jt,Nt[Sn],Nt[Sn+1]]),[Rn,cn]=_e.Util.applyTransform([0,0],Pn);Zt.drawImage(En.canvas,Rn,cn)}Zt.restore(),this.compose()}paintImageMaskXObjectGroup(mt){if(!this.contentVisible)return;const vt=this.ctx,Pt=this.current.fillColor,It=this.current.patternFill;for(const jt of mt){const{data:Nt,width:Zt,height:vn,transform:En}=jt,Sn=this.cachedCanvases.getCanvas("maskCanvas",Zt,vn),An=Sn.context;An.save();const Pn=this.getObject(Nt,jt);wt(An,Pn),An.globalCompositeOperation="source-in",An.fillStyle=It?Pt.getPattern(An,this,(0,tt.getCurrentTransformInverse)(vt),et.PathType.FILL):Pt,An.fillRect(0,0,Zt,vn),An.restore(),vt.save(),vt.transform(...En),vt.scale(1,-1),At(vt,Sn.canvas,0,0,Zt,vn,0,-1,1,1),vt.restore()}this.compose()}paintImageXObject(mt){if(!this.contentVisible)return;const vt=this.getObject(mt);if(!vt){(0,_e.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(vt)}paintImageXObjectRepeat(mt,vt,Pt,It){if(!this.contentVisible)return;const jt=this.getObject(mt);if(!jt){(0,_e.warn)("Dependent image isn't ready yet");return}const Nt=jt.width,Zt=jt.height,vn=[];for(let En=0,Sn=It.length;En<Sn;En+=2)vn.push({transform:[vt,0,0,Pt,It[En],It[En+1]],x:0,y:0,w:Nt,h:Zt});this.paintInlineImageXObjectGroup(jt,vn)}applyTransferMapsToCanvas(mt){return this.current.transferMaps!=="none"&&(mt.filter=this.current.transferMaps,mt.drawImage(mt.canvas,0,0),mt.filter="none"),mt.canvas}applyTransferMapsToBitmap(mt){if(this.current.transferMaps==="none")return mt.bitmap;const{bitmap:vt,width:Pt,height:It}=mt,jt=this.cachedCanvases.getCanvas("inlineImage",Pt,It),Nt=jt.context;return Nt.filter=this.current.transferMaps,Nt.drawImage(vt,0,0),Nt.filter="none",jt.canvas}paintInlineImageXObject(mt){if(!this.contentVisible)return;const vt=mt.width,Pt=mt.height,It=this.ctx;if(this.save(),!_e.isNodeJS){const{filter:Zt}=It;Zt!=="none"&&Zt!==""&&(It.filter="none")}It.scale(1/vt,-1/Pt);let jt;if(mt.bitmap)jt=this.applyTransferMapsToBitmap(mt);else if(typeof HTMLElement=="function"&&mt instanceof HTMLElement||!mt.data)jt=mt;else{const vn=this.cachedCanvases.getCanvas("inlineImage",vt,Pt).context;dt(vn,mt),jt=this.applyTransferMapsToCanvas(vn)}const Nt=this._scaleImage(jt,(0,tt.getCurrentTransformInverse)(It));It.imageSmoothingEnabled=Ft((0,tt.getCurrentTransform)(It),mt.interpolate),At(It,Nt.img,0,0,Nt.paintWidth,Nt.paintHeight,0,-Pt,vt,Pt),this.compose(),this.restore()}paintInlineImageXObjectGroup(mt,vt){if(!this.contentVisible)return;const Pt=this.ctx;let It;if(mt.bitmap)It=mt.bitmap;else{const jt=mt.width,Nt=mt.height,vn=this.cachedCanvases.getCanvas("inlineImage",jt,Nt).context;dt(vn,mt),It=this.applyTransferMapsToCanvas(vn)}for(const jt of vt)Pt.save(),Pt.transform(...jt.transform),Pt.scale(1,-1),At(Pt,It,jt.x,jt.y,jt.w,jt.h,0,-1,1,1),Pt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(mt){}markPointProps(mt,vt){}beginMarkedContent(mt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(mt,vt){mt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(vt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(mt){const vt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(mt);const Pt=this.ctx;this.pendingClip&&(vt||(this.pendingClip===rn?Pt.clip("evenodd"):Pt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Pt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const mt=(0,tt.getCurrentTransform)(this.ctx);if(mt[1]===0&&mt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(mt[0]),Math.abs(mt[3]));else{const vt=Math.abs(mt[0]*mt[3]-mt[2]*mt[1]),Pt=Math.hypot(mt[0],mt[2]),It=Math.hypot(mt[1],mt[3]);this._cachedGetSinglePixelWidth=Math.max(Pt,It)/vt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:mt}=this.current,{a:vt,b:Pt,c:It,d:jt}=this.ctx.getTransform();let Nt,Zt;if(Pt===0&&It===0){const vn=Math.abs(vt),En=Math.abs(jt);if(vn===En)if(mt===0)Nt=Zt=1/vn;else{const Sn=vn*mt;Nt=Zt=Sn<1?1/Sn:1}else if(mt===0)Nt=1/vn,Zt=1/En;else{const Sn=vn*mt,An=En*mt;Nt=Sn<1?1/Sn:1,Zt=An<1?1/An:1}}else{const vn=Math.abs(vt*jt-Pt*It),En=Math.hypot(vt,Pt),Sn=Math.hypot(It,jt);if(mt===0)Nt=Sn/vn,Zt=En/vn;else{const An=mt*vn;Nt=Sn>An?Sn/An:1,Zt=En>An?En/An:1}}this._cachedScaleForStroking[0]=Nt,this._cachedScaleForStroking[1]=Zt}return this._cachedScaleForStroking}rescaleAndStroke(mt){const{ctx:vt}=this,{lineWidth:Pt}=this.current,[It,jt]=this.getScaleForStroking();if(vt.lineWidth=Pt||1,It===1&&jt===1){vt.stroke();return}const Nt=vt.getLineDash();if(mt&&vt.save(),vt.scale(It,jt),Nt.length>0){const Zt=Math.max(It,jt);vt.setLineDash(Nt.map(vn=>vn/Zt)),vt.lineDashOffset/=Zt}vt.stroke(),mt&&vt.restore()}isContentVisible(){for(let mt=this.markedContentStack.length-1;mt>=0;mt--)if(!this.markedContentStack[mt].visible)return!1;return!0}};Gt=new WeakSet,Do=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Io=function(){if(this.pageColors){const mt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(mt!=="none"){const vt=this.ctx.filter;this.ctx.filter=mt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=vt}}};let Xt=Jt;j.CanvasGraphics=Xt;for(const Mt in _e.OPS)Xt.prototype[Mt]!==void 0&&(Xt.prototype[_e.OPS[Mt]]=Xt.prototype[Mt])},(_,j,$)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.TilingPattern=j.PathType=void 0,j.getShadingPattern=gt;var _e=$(1),tt=$(6);const et={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};j.PathType=et;function nt(at,lt){if(!lt)return;const dt=lt[2]-lt[0],wt=lt[3]-lt[1],ut=new Path2D;ut.rect(lt[0],lt[1],dt,wt),at.clip(ut)}class ct{constructor(){this.constructor===ct&&(0,_e.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,_e.unreachable)("Abstract method `getPattern` called.")}}class rt extends ct{constructor(lt){super(),this._type=lt[1],this._bbox=lt[2],this._colorStops=lt[3],this._p0=lt[4],this._p1=lt[5],this._r0=lt[6],this._r1=lt[7],this.matrix=null}_createGradient(lt){let dt;this._type==="axial"?dt=lt.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(dt=lt.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const wt of this._colorStops)dt.addColorStop(wt[0],wt[1]);return dt}getPattern(lt,dt,wt,ut){let Et;if(ut===et.STROKE||ut===et.FILL){const ft=dt.current.getClippedPathBoundingBox(ut,(0,tt.getCurrentTransform)(lt))||[0,0,0,0],St=Math.ceil(ft[2]-ft[0])||1,xt=Math.ceil(ft[3]-ft[1])||1,Dt=dt.cachedCanvases.getCanvas("pattern",St,xt,!0),bt=Dt.context;bt.clearRect(0,0,bt.canvas.width,bt.canvas.height),bt.beginPath(),bt.rect(0,0,bt.canvas.width,bt.canvas.height),bt.translate(-ft[0],-ft[1]),wt=_e.Util.transform(wt,[1,0,0,1,ft[0],ft[1]]),bt.transform(...dt.baseTransform),this.matrix&&bt.transform(...this.matrix),nt(bt,this._bbox),bt.fillStyle=this._createGradient(bt),bt.fill(),Et=lt.createPattern(Dt.canvas,"no-repeat");const Ft=new DOMMatrix(wt);Et.setTransform(Ft)}else nt(lt,this._bbox),Et=this._createGradient(lt);return Et}}function ot(at,lt,dt,wt,ut,Et,ft,St){const xt=lt.coords,Dt=lt.colors,bt=at.data,Ft=at.width*4;let $t;xt[dt+1]>xt[wt+1]&&($t=dt,dt=wt,wt=$t,$t=Et,Et=ft,ft=$t),xt[wt+1]>xt[ut+1]&&($t=wt,wt=ut,ut=$t,$t=ft,ft=St,St=$t),xt[dt+1]>xt[wt+1]&&($t=dt,dt=wt,wt=$t,$t=Et,Et=ft,ft=$t);const gn=(xt[dt]+lt.offsetX)*lt.scaleX,Yt=(xt[dt+1]+lt.offsetY)*lt.scaleY,rn=(xt[wt]+lt.offsetX)*lt.scaleX,Xt=(xt[wt+1]+lt.offsetY)*lt.scaleY,Gt=(xt[ut]+lt.offsetX)*lt.scaleX,Tt=(xt[ut+1]+lt.offsetY)*lt.scaleY;if(Yt>=Tt)return;const Ht=Dt[Et],Jt=Dt[Et+1],Mt=Dt[Et+2],mt=Dt[ft],vt=Dt[ft+1],Pt=Dt[ft+2],It=Dt[St],jt=Dt[St+1],Nt=Dt[St+2],Zt=Math.round(Yt),vn=Math.round(Tt);let En,Sn,An,Pn,Rn,cn,dn,Rt;for(let zt=Zt;zt<=vn;zt++){if(zt<Xt){const kn=zt<Yt?0:(Yt-zt)/(Yt-Xt);En=gn-(gn-rn)*kn,Sn=Ht-(Ht-mt)*kn,An=Jt-(Jt-vt)*kn,Pn=Mt-(Mt-Pt)*kn}else{let kn;zt>Tt?kn=1:Xt===Tt?kn=0:kn=(Xt-zt)/(Xt-Tt),En=rn-(rn-Gt)*kn,Sn=mt-(mt-It)*kn,An=vt-(vt-jt)*kn,Pn=Pt-(Pt-Nt)*kn}let nn;zt<Yt?nn=0:zt>Tt?nn=1:nn=(Yt-zt)/(Yt-Tt),Rn=gn-(gn-Gt)*nn,cn=Ht-(Ht-It)*nn,dn=Jt-(Jt-jt)*nn,Rt=Mt-(Mt-Nt)*nn;const hn=Math.round(Math.min(En,Rn)),wn=Math.round(Math.max(En,Rn));let Tn=Ft*zt+hn*4;for(let kn=hn;kn<=wn;kn++)nn=(En-kn)/(En-Rn),nn<0?nn=0:nn>1&&(nn=1),bt[Tn++]=Sn-(Sn-cn)*nn|0,bt[Tn++]=An-(An-dn)*nn|0,bt[Tn++]=Pn-(Pn-Rt)*nn|0,bt[Tn++]=255}}function st(at,lt,dt){const wt=lt.coords,ut=lt.colors;let Et,ft;switch(lt.type){case"lattice":const St=lt.verticesPerRow,xt=Math.floor(wt.length/St)-1,Dt=St-1;for(Et=0;Et<xt;Et++){let bt=Et*St;for(let Ft=0;Ft<Dt;Ft++,bt++)ot(at,dt,wt[bt],wt[bt+1],wt[bt+St],ut[bt],ut[bt+1],ut[bt+St]),ot(at,dt,wt[bt+St+1],wt[bt+1],wt[bt+St],ut[bt+St+1],ut[bt+1],ut[bt+St])}break;case"triangles":for(Et=0,ft=wt.length;Et<ft;Et+=3)ot(at,dt,wt[Et],wt[Et+1],wt[Et+2],ut[Et],ut[Et+1],ut[Et+2]);break;default:throw new Error("illegal figure")}}class _t extends ct{constructor(lt){super(),this._coords=lt[2],this._colors=lt[3],this._figures=lt[4],this._bounds=lt[5],this._bbox=lt[7],this._background=lt[8],this.matrix=null}_createMeshCanvas(lt,dt,wt){const St=Math.floor(this._bounds[0]),xt=Math.floor(this._bounds[1]),Dt=Math.ceil(this._bounds[2])-St,bt=Math.ceil(this._bounds[3])-xt,Ft=Math.min(Math.ceil(Math.abs(Dt*lt[0]*1.1)),3e3),$t=Math.min(Math.ceil(Math.abs(bt*lt[1]*1.1)),3e3),gn=Dt/Ft,Yt=bt/$t,rn={coords:this._coords,colors:this._colors,offsetX:-St,offsetY:-xt,scaleX:1/gn,scaleY:1/Yt},Xt=Ft+2*2,Gt=$t+2*2,Tt=wt.getCanvas("mesh",Xt,Gt,!1),Ht=Tt.context,Jt=Ht.createImageData(Ft,$t);if(dt){const mt=Jt.data;for(let vt=0,Pt=mt.length;vt<Pt;vt+=4)mt[vt]=dt[0],mt[vt+1]=dt[1],mt[vt+2]=dt[2],mt[vt+3]=255}for(const mt of this._figures)st(Jt,mt,rn);return Ht.putImageData(Jt,2,2),{canvas:Tt.canvas,offsetX:St-2*gn,offsetY:xt-2*Yt,scaleX:gn,scaleY:Yt}}getPattern(lt,dt,wt,ut){nt(lt,this._bbox);let Et;if(ut===et.SHADING)Et=_e.Util.singularValueDecompose2dScale((0,tt.getCurrentTransform)(lt));else if(Et=_e.Util.singularValueDecompose2dScale(dt.baseTransform),this.matrix){const St=_e.Util.singularValueDecompose2dScale(this.matrix);Et=[Et[0]*St[0],Et[1]*St[1]]}const ft=this._createMeshCanvas(Et,ut===et.SHADING?null:this._background,dt.cachedCanvases);return ut!==et.SHADING&&(lt.setTransform(...dt.baseTransform),this.matrix&&lt.transform(...this.matrix)),lt.translate(ft.offsetX,ft.offsetY),lt.scale(ft.scaleX,ft.scaleY),lt.createPattern(ft.canvas,"no-repeat")}}class yt extends ct{getPattern(){return"hotpink"}}function gt(at){switch(at[0]){case"RadialAxial":return new rt(at);case"Mesh":return new _t(at);case"Dummy":return new yt}throw new Error(`Unknown IR type: ${at[0]}`)}const pt={COLORED:1,UNCOLORED:2},At=class At{constructor(lt,dt,wt,ut,Et){this.operatorList=lt[2],this.matrix=lt[3]||[1,0,0,1,0,0],this.bbox=lt[4],this.xstep=lt[5],this.ystep=lt[6],this.paintType=lt[7],this.tilingType=lt[8],this.color=dt,this.ctx=wt,this.canvasGraphicsFactory=ut,this.baseTransform=Et}createPatternCanvas(lt){const dt=this.operatorList,wt=this.bbox,ut=this.xstep,Et=this.ystep,ft=this.paintType,St=this.tilingType,xt=this.color,Dt=this.canvasGraphicsFactory;(0,_e.info)("TilingType: "+St);const bt=wt[0],Ft=wt[1],$t=wt[2],gn=wt[3],Yt=_e.Util.singularValueDecompose2dScale(this.matrix),rn=_e.Util.singularValueDecompose2dScale(this.baseTransform),Xt=[Yt[0]*rn[0],Yt[1]*rn[1]],Gt=this.getSizeAndScale(ut,this.ctx.canvas.width,Xt[0]),Tt=this.getSizeAndScale(Et,this.ctx.canvas.height,Xt[1]),Ht=lt.cachedCanvases.getCanvas("pattern",Gt.size,Tt.size,!0),Jt=Ht.context,Mt=Dt.createCanvasGraphics(Jt);Mt.groupLevel=lt.groupLevel,this.setFillAndStrokeStyleToContext(Mt,ft,xt);let mt=bt,vt=Ft,Pt=$t,It=gn;return bt<0&&(mt=0,Pt+=Math.abs(bt)),Ft<0&&(vt=0,It+=Math.abs(Ft)),Jt.translate(-(Gt.scale*mt),-(Tt.scale*vt)),Mt.transform(Gt.scale,0,0,Tt.scale,0,0),Jt.save(),this.clipBbox(Mt,mt,vt,Pt,It),Mt.baseTransform=(0,tt.getCurrentTransform)(Mt.ctx),Mt.executeOperatorList(dt),Mt.endDrawing(),{canvas:Ht.canvas,scaleX:Gt.scale,scaleY:Tt.scale,offsetX:mt,offsetY:vt}}getSizeAndScale(lt,dt,wt){lt=Math.abs(lt);const ut=Math.max(At.MAX_PATTERN_SIZE,dt);let Et=Math.ceil(lt*wt);return Et>=ut?Et=ut:wt=Et/lt,{scale:wt,size:Et}}clipBbox(lt,dt,wt,ut,Et){const ft=ut-dt,St=Et-wt;lt.ctx.rect(dt,wt,ft,St),lt.current.updateRectMinMax((0,tt.getCurrentTransform)(lt.ctx),[dt,wt,ut,Et]),lt.clip(),lt.endPath()}setFillAndStrokeStyleToContext(lt,dt,wt){const ut=lt.ctx,Et=lt.current;switch(dt){case pt.COLORED:const ft=this.ctx;ut.fillStyle=ft.fillStyle,ut.strokeStyle=ft.strokeStyle,Et.fillColor=ft.fillStyle,Et.strokeColor=ft.strokeStyle;break;case pt.UNCOLORED:const St=_e.Util.makeHexColor(wt[0],wt[1],wt[2]);ut.fillStyle=St,ut.strokeStyle=St,Et.fillColor=St,Et.strokeColor=St;break;default:throw new _e.FormatError(`Unsupported paint type: ${dt}`)}}getPattern(lt,dt,wt,ut){let Et=wt;ut!==et.SHADING&&(Et=_e.Util.transform(Et,dt.baseTransform),this.matrix&&(Et=_e.Util.transform(Et,this.matrix)));const ft=this.createPatternCanvas(dt);let St=new DOMMatrix(Et);St=St.translate(ft.offsetX,ft.offsetY),St=St.scale(1/ft.scaleX,1/ft.scaleY);const xt=lt.createPattern(ft.canvas,"repeat");return xt.setTransform(St),xt}};Hr(At,"MAX_PATTERN_SIZE",3e3);let kt=At;j.TilingPattern=kt},(_,j,$)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.convertBlackAndWhiteToRGBA=et,j.convertToRGBA=tt,j.grayToRGBA=ct;var _e=$(1);function tt(rt){switch(rt.kind){case _e.ImageKind.GRAYSCALE_1BPP:return et(rt);case _e.ImageKind.RGB_24BPP:return nt(rt)}return null}function et({src:rt,srcPos:ot=0,dest:st,width:_t,height:yt,nonBlackColor:gt=4294967295,inverseDecode:pt=!1}){const kt=_e.FeatureTest.isLittleEndian?4278190080:255,[At,at]=pt?[gt,kt]:[kt,gt],lt=_t>>3,dt=_t&7,wt=rt.length;st=new Uint32Array(st.buffer);let ut=0;for(let Et=0;Et<yt;Et++){for(const St=ot+lt;ot<St;ot++){const xt=ot<wt?rt[ot]:255;st[ut++]=xt&128?at:At,st[ut++]=xt&64?at:At,st[ut++]=xt&32?at:At,st[ut++]=xt&16?at:At,st[ut++]=xt&8?at:At,st[ut++]=xt&4?at:At,st[ut++]=xt&2?at:At,st[ut++]=xt&1?at:At}if(dt===0)continue;const ft=ot<wt?rt[ot++]:255;for(let St=0;St<dt;St++)st[ut++]=ft&1<<7-St?at:At}return{srcPos:ot,destPos:ut}}function nt({src:rt,srcPos:ot=0,dest:st,destPos:_t=0,width:yt,height:gt}){let pt=0;const kt=rt.length>>2,At=new Uint32Array(rt.buffer,ot,kt);if(_e.FeatureTest.isLittleEndian){for(;pt<kt-2;pt+=3,_t+=4){const at=At[pt],lt=At[pt+1],dt=At[pt+2];st[_t]=at|4278190080,st[_t+1]=at>>>24|lt<<8|4278190080,st[_t+2]=lt>>>16|dt<<16|4278190080,st[_t+3]=dt>>>8|4278190080}for(let at=pt*4,lt=rt.length;at<lt;at+=3)st[_t++]=rt[at]|rt[at+1]<<8|rt[at+2]<<16|4278190080}else{for(;pt<kt-2;pt+=3,_t+=4){const at=At[pt],lt=At[pt+1],dt=At[pt+2];st[_t]=at|255,st[_t+1]=at<<24|lt>>>8|255,st[_t+2]=lt<<16|dt>>>16|255,st[_t+3]=dt<<8|255}for(let at=pt*4,lt=rt.length;at<lt;at+=3)st[_t++]=rt[at]<<24|rt[at+1]<<16|rt[at+2]<<8|255}return{srcPos:ot,destPos:_t}}function ct(rt,ot){if(_e.FeatureTest.isLittleEndian)for(let st=0,_t=rt.length;st<_t;st++)ot[st]=rt[st]*65793|4278190080;else for(let st=0,_t=rt.length;st<_t;st++)ot[st]=rt[st]*16843008|255}},(_,j)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.GlobalWorkerOptions=void 0;const $=Object.create(null);j.GlobalWorkerOptions=$,$.workerPort=null,$.workerSrc=""},(_,j,$)=>{var rt,Ql,Zl,Qs;Object.defineProperty(j,"__esModule",{value:!0}),j.MessageHandler=void 0;var _e=$(1);const tt={DATA:1,ERROR:2},et={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function nt(yt){switch(yt instanceof Error||typeof yt=="object"&&yt!==null||(0,_e.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),yt.name){case"AbortException":return new _e.AbortException(yt.message);case"MissingPDFException":return new _e.MissingPDFException(yt.message);case"PasswordException":return new _e.PasswordException(yt.message,yt.code);case"UnexpectedResponseException":return new _e.UnexpectedResponseException(yt.message,yt.status);case"UnknownErrorException":return new _e.UnknownErrorException(yt.message,yt.details);default:return new _e.UnknownErrorException(yt.message,yt.toString())}}class ct{constructor(gt,pt,kt){pn(this,rt);this.sourceName=gt,this.targetName=pt,this.comObj=kt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=At=>{const at=At.data;if(at.targetName!==this.sourceName)return;if(at.stream){en(this,rt,Zl).call(this,at);return}if(at.callback){const dt=at.callbackId,wt=this.callbackCapabilities[dt];if(!wt)throw new Error(`Cannot resolve callback ${dt}`);if(delete this.callbackCapabilities[dt],at.callback===tt.DATA)wt.resolve(at.data);else if(at.callback===tt.ERROR)wt.reject(nt(at.reason));else throw new Error("Unexpected callback case");return}const lt=this.actionHandler[at.action];if(!lt)throw new Error(`Unknown action from worker: ${at.action}`);if(at.callbackId){const dt=this.sourceName,wt=at.sourceName;new Promise(function(ut){ut(lt(at.data))}).then(function(ut){kt.postMessage({sourceName:dt,targetName:wt,callback:tt.DATA,callbackId:at.callbackId,data:ut})},function(ut){kt.postMessage({sourceName:dt,targetName:wt,callback:tt.ERROR,callbackId:at.callbackId,reason:nt(ut)})});return}if(at.streamId){en(this,rt,Ql).call(this,at);return}lt(at.data)},kt.addEventListener("message",this._onComObjOnMessage)}on(gt,pt){const kt=this.actionHandler;if(kt[gt])throw new Error(`There is already an actionName called "${gt}"`);kt[gt]=pt}send(gt,pt,kt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:gt,data:pt},kt)}sendWithPromise(gt,pt,kt){const At=this.callbackId++,at=new _e.PromiseCapability;this.callbackCapabilities[At]=at;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:gt,callbackId:At,data:pt},kt)}catch(lt){at.reject(lt)}return at.promise}sendWithStream(gt,pt,kt,At){const at=this.streamId++,lt=this.sourceName,dt=this.targetName,wt=this.comObj;return new ReadableStream({start:ut=>{const Et=new _e.PromiseCapability;return this.streamControllers[at]={controller:ut,startCall:Et,pullCall:null,cancelCall:null,isClosed:!1},wt.postMessage({sourceName:lt,targetName:dt,action:gt,streamId:at,data:pt,desiredSize:ut.desiredSize},At),Et.promise},pull:ut=>{const Et=new _e.PromiseCapability;return this.streamControllers[at].pullCall=Et,wt.postMessage({sourceName:lt,targetName:dt,stream:et.PULL,streamId:at,desiredSize:ut.desiredSize}),Et.promise},cancel:ut=>{(0,_e.assert)(ut instanceof Error,"cancel must have a valid reason");const Et=new _e.PromiseCapability;return this.streamControllers[at].cancelCall=Et,this.streamControllers[at].isClosed=!0,wt.postMessage({sourceName:lt,targetName:dt,stream:et.CANCEL,streamId:at,reason:nt(ut)}),Et.promise}},kt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}rt=new WeakSet,Ql=function(gt){const pt=gt.streamId,kt=this.sourceName,At=gt.sourceName,at=this.comObj,lt=this,dt=this.actionHandler[gt.action],wt={enqueue(ut,Et=1,ft){if(this.isCancelled)return;const St=this.desiredSize;this.desiredSize-=Et,St>0&&this.desiredSize<=0&&(this.sinkCapability=new _e.PromiseCapability,this.ready=this.sinkCapability.promise),at.postMessage({sourceName:kt,targetName:At,stream:et.ENQUEUE,streamId:pt,chunk:ut},ft)},close(){this.isCancelled||(this.isCancelled=!0,at.postMessage({sourceName:kt,targetName:At,stream:et.CLOSE,streamId:pt}),delete lt.streamSinks[pt])},error(ut){(0,_e.assert)(ut instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,at.postMessage({sourceName:kt,targetName:At,stream:et.ERROR,streamId:pt,reason:nt(ut)}))},sinkCapability:new _e.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:gt.desiredSize,ready:null};wt.sinkCapability.resolve(),wt.ready=wt.sinkCapability.promise,this.streamSinks[pt]=wt,new Promise(function(ut){ut(dt(gt.data,wt))}).then(function(){at.postMessage({sourceName:kt,targetName:At,stream:et.START_COMPLETE,streamId:pt,success:!0})},function(ut){at.postMessage({sourceName:kt,targetName:At,stream:et.START_COMPLETE,streamId:pt,reason:nt(ut)})})},Zl=function(gt){const pt=gt.streamId,kt=this.sourceName,At=gt.sourceName,at=this.comObj,lt=this.streamControllers[pt],dt=this.streamSinks[pt];switch(gt.stream){case et.START_COMPLETE:gt.success?lt.startCall.resolve():lt.startCall.reject(nt(gt.reason));break;case et.PULL_COMPLETE:gt.success?lt.pullCall.resolve():lt.pullCall.reject(nt(gt.reason));break;case et.PULL:if(!dt){at.postMessage({sourceName:kt,targetName:At,stream:et.PULL_COMPLETE,streamId:pt,success:!0});break}dt.desiredSize<=0&&gt.desiredSize>0&&dt.sinkCapability.resolve(),dt.desiredSize=gt.desiredSize,new Promise(function(wt){var ut;wt((ut=dt.onPull)==null?void 0:ut.call(dt))}).then(function(){at.postMessage({sourceName:kt,targetName:At,stream:et.PULL_COMPLETE,streamId:pt,success:!0})},function(wt){at.postMessage({sourceName:kt,targetName:At,stream:et.PULL_COMPLETE,streamId:pt,reason:nt(wt)})});break;case et.ENQUEUE:if((0,_e.assert)(lt,"enqueue should have stream controller"),lt.isClosed)break;lt.controller.enqueue(gt.chunk);break;case et.CLOSE:if((0,_e.assert)(lt,"close should have stream controller"),lt.isClosed)break;lt.isClosed=!0,lt.controller.close(),en(this,rt,Qs).call(this,lt,pt);break;case et.ERROR:(0,_e.assert)(lt,"error should have stream controller"),lt.controller.error(nt(gt.reason)),en(this,rt,Qs).call(this,lt,pt);break;case et.CANCEL_COMPLETE:gt.success?lt.cancelCall.resolve():lt.cancelCall.reject(nt(gt.reason)),en(this,rt,Qs).call(this,lt,pt);break;case et.CANCEL:if(!dt)break;new Promise(function(wt){var ut;wt((ut=dt.onCancel)==null?void 0:ut.call(dt,nt(gt.reason)))}).then(function(){at.postMessage({sourceName:kt,targetName:At,stream:et.CANCEL_COMPLETE,streamId:pt,success:!0})},function(wt){at.postMessage({sourceName:kt,targetName:At,stream:et.CANCEL_COMPLETE,streamId:pt,reason:nt(wt)})}),dt.sinkCapability.reject(nt(gt.reason)),dt.isCancelled=!0,delete this.streamSinks[pt];break;default:throw new Error("Unexpected stream case")}},Qs=async function(gt,pt){var kt,At,at;await Promise.allSettled([(kt=gt.startCall)==null?void 0:kt.promise,(At=gt.pullCall)==null?void 0:At.promise,(at=gt.cancelCall)==null?void 0:at.promise]),delete this.streamControllers[pt]},j.MessageHandler=ct},(_,j,$)=>{var et,nt;Object.defineProperty(j,"__esModule",{value:!0}),j.Metadata=void 0;var _e=$(1);class tt{constructor({parsedData:rt,rawData:ot}){pn(this,et);pn(this,nt);mn(this,et,rt),mn(this,nt,ot)}getRaw(){return it(this,nt)}get(rt){return it(this,et).get(rt)??null}getAll(){return(0,_e.objectFromMap)(it(this,et))}has(rt){return it(this,et).has(rt)}}et=new WeakMap,nt=new WeakMap,j.Metadata=tt},(_,j,$)=>{var rt,ot,st,_t,yt,gt,Oo;Object.defineProperty(j,"__esModule",{value:!0}),j.OptionalContentConfig=void 0;var _e=$(1),tt=$(8);const et=Symbol("INTERNAL");class nt{constructor(At,at){pn(this,rt,!0);this.name=At,this.intent=at}get visible(){return it(this,rt)}_setVisible(At,at){At!==et&&(0,_e.unreachable)("Internal method `_setVisible` called."),mn(this,rt,at)}}rt=new WeakMap;class ct{constructor(At){pn(this,gt);pn(this,ot,null);pn(this,st,new Map);pn(this,_t,null);pn(this,yt,null);if(this.name=null,this.creator=null,At!==null){this.name=At.name,this.creator=At.creator,mn(this,yt,At.order);for(const at of At.groups)it(this,st).set(at.id,new nt(at.name,at.intent));if(At.baseState==="OFF")for(const at of it(this,st).values())at._setVisible(et,!1);for(const at of At.on)it(this,st).get(at)._setVisible(et,!0);for(const at of At.off)it(this,st).get(at)._setVisible(et,!1);mn(this,_t,this.getHash())}}isVisible(At){if(it(this,st).size===0)return!0;if(!At)return(0,_e.warn)("Optional content group not defined."),!0;if(At.type==="OCG")return it(this,st).has(At.id)?it(this,st).get(At.id).visible:((0,_e.warn)(`Optional content group not found: ${At.id}`),!0);if(At.type==="OCMD"){if(At.expression)return en(this,gt,Oo).call(this,At.expression);if(!At.policy||At.policy==="AnyOn"){for(const at of At.ids){if(!it(this,st).has(at))return(0,_e.warn)(`Optional content group not found: ${at}`),!0;if(it(this,st).get(at).visible)return!0}return!1}else if(At.policy==="AllOn"){for(const at of At.ids){if(!it(this,st).has(at))return(0,_e.warn)(`Optional content group not found: ${at}`),!0;if(!it(this,st).get(at).visible)return!1}return!0}else if(At.policy==="AnyOff"){for(const at of At.ids){if(!it(this,st).has(at))return(0,_e.warn)(`Optional content group not found: ${at}`),!0;if(!it(this,st).get(at).visible)return!0}return!1}else if(At.policy==="AllOff"){for(const at of At.ids){if(!it(this,st).has(at))return(0,_e.warn)(`Optional content group not found: ${at}`),!0;if(it(this,st).get(at).visible)return!1}return!0}return(0,_e.warn)(`Unknown optional content policy ${At.policy}.`),!0}return(0,_e.warn)(`Unknown group type ${At.type}.`),!0}setVisibility(At,at=!0){if(!it(this,st).has(At)){(0,_e.warn)(`Optional content group not found: ${At}`);return}it(this,st).get(At)._setVisible(et,!!at),mn(this,ot,null)}get hasInitialVisibility(){return it(this,_t)===null||this.getHash()===it(this,_t)}getOrder(){return it(this,st).size?it(this,yt)?it(this,yt).slice():[...it(this,st).keys()]:null}getGroups(){return it(this,st).size>0?(0,_e.objectFromMap)(it(this,st)):null}getGroup(At){return it(this,st).get(At)||null}getHash(){if(it(this,ot)!==null)return it(this,ot);const At=new tt.MurmurHash3_64;for(const[at,lt]of it(this,st))At.update(`${at}:${lt.visible}`);return mn(this,ot,At.hexdigest())}}ot=new WeakMap,st=new WeakMap,_t=new WeakMap,yt=new WeakMap,gt=new WeakSet,Oo=function(At){const at=At.length;if(at<2)return!0;const lt=At[0];for(let dt=1;dt<at;dt++){const wt=At[dt];let ut;if(Array.isArray(wt))ut=en(this,gt,Oo).call(this,wt);else if(it(this,st).has(wt))ut=it(this,st).get(wt).visible;else return(0,_e.warn)(`Optional content group not found: ${wt}`),!0;switch(lt){case"And":if(!ut)return!1;break;case"Or":if(ut)return!0;break;case"Not":return!ut;default:return!0}}return lt==="And"},j.OptionalContentConfig=ct},(_,j,$)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.PDFDataTransportStream=void 0;var _e=$(1),tt=$(6);class et{constructor({length:ot,initialData:st,progressiveDone:_t=!1,contentDispositionFilename:yt=null,disableRange:gt=!1,disableStream:pt=!1},kt){if((0,_e.assert)(kt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=_t,this._contentDispositionFilename=yt,(st==null?void 0:st.length)>0){const At=st instanceof Uint8Array&&st.byteLength===st.buffer.byteLength?st.buffer:new Uint8Array(st).buffer;this._queuedChunks.push(At)}this._pdfDataRangeTransport=kt,this._isStreamingSupported=!pt,this._isRangeSupported=!gt,this._contentLength=ot,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((At,at)=>{this._onReceiveData({begin:At,chunk:at})}),this._pdfDataRangeTransport.addProgressListener((At,at)=>{this._onProgress({loaded:At,total:at})}),this._pdfDataRangeTransport.addProgressiveReadListener(At=>{this._onReceiveData({chunk:At})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:ot,chunk:st}){const _t=st instanceof Uint8Array&&st.byteLength===st.buffer.byteLength?st.buffer:new Uint8Array(st).buffer;if(ot===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(_t):this._queuedChunks.push(_t);else{const yt=this._rangeReaders.some(function(gt){return gt._begin!==ot?!1:(gt._enqueue(_t),!0)});(0,_e.assert)(yt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var ot;return((ot=this._fullRequestReader)==null?void 0:ot._loaded)??0}_onProgress(ot){var st,_t,yt,gt;ot.total===void 0?(_t=(st=this._rangeReaders[0])==null?void 0:st.onProgress)==null||_t.call(st,{loaded:ot.loaded}):(gt=(yt=this._fullRequestReader)==null?void 0:yt.onProgress)==null||gt.call(yt,{loaded:ot.loaded,total:ot.total})}_onProgressiveDone(){var ot;(ot=this._fullRequestReader)==null||ot.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(ot){const st=this._rangeReaders.indexOf(ot);st>=0&&this._rangeReaders.splice(st,1)}getFullReader(){(0,_e.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const ot=this._queuedChunks;return this._queuedChunks=null,new nt(this,ot,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(ot,st){if(st<=this._progressiveDataLength)return null;const _t=new ct(this,ot,st);return this._pdfDataRangeTransport.requestDataRange(ot,st),this._rangeReaders.push(_t),_t}cancelAllRequests(ot){var st;(st=this._fullRequestReader)==null||st.cancel(ot);for(const _t of this._rangeReaders.slice(0))_t.cancel(ot);this._pdfDataRangeTransport.abort()}}j.PDFDataTransportStream=et;class nt{constructor(ot,st,_t=!1,yt=null){this._stream=ot,this._done=_t||!1,this._filename=(0,tt.isPdfFile)(yt)?yt:null,this._queuedChunks=st||[],this._loaded=0;for(const gt of this._queuedChunks)this._loaded+=gt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),ot._fullRequestReader=this,this.onProgress=null}_enqueue(ot){this._done||(this._requests.length>0?this._requests.shift().resolve({value:ot,done:!1}):this._queuedChunks.push(ot),this._loaded+=ot.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ot=new _e.PromiseCapability;return this._requests.push(ot),ot.promise}cancel(ot){this._done=!0;for(const st of this._requests)st.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ct{constructor(ot,st,_t){this._stream=ot,this._begin=st,this._end=_t,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(ot){if(!this._done){if(this._requests.length===0)this._queuedChunk=ot;else{this._requests.shift().resolve({value:ot,done:!1});for(const _t of this._requests)_t.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const st=this._queuedChunk;return this._queuedChunk=null,{value:st,done:!1}}if(this._done)return{value:void 0,done:!0};const ot=new _e.PromiseCapability;return this._requests.push(ot),ot.promise}cancel(ot){this._done=!0;for(const st of this._requests)st.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(_,j,$)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.PDFFetchStream=void 0;var _e=$(1),tt=$(20);function et(_t,yt,gt){return{method:"GET",headers:_t,signal:gt.signal,mode:"cors",credentials:yt?"include":"same-origin",redirect:"follow"}}function nt(_t){const yt=new Headers;for(const gt in _t){const pt=_t[gt];pt!==void 0&&yt.append(gt,pt)}return yt}function ct(_t){return _t instanceof Uint8Array?_t.buffer:_t instanceof ArrayBuffer?_t:((0,_e.warn)(`getArrayBuffer - unexpected data format: ${_t}`),new Uint8Array(_t).buffer)}class rt{constructor(yt){this.source=yt,this.isHttp=/^https?:/i.test(yt.url),this.httpHeaders=this.isHttp&&yt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var yt;return((yt=this._fullRequestReader)==null?void 0:yt._loaded)??0}getFullReader(){return(0,_e.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new ot(this),this._fullRequestReader}getRangeReader(yt,gt){if(gt<=this._progressiveDataLength)return null;const pt=new st(this,yt,gt);return this._rangeRequestReaders.push(pt),pt}cancelAllRequests(yt){var gt;(gt=this._fullRequestReader)==null||gt.cancel(yt);for(const pt of this._rangeRequestReaders.slice(0))pt.cancel(yt)}}j.PDFFetchStream=rt;class ot{constructor(yt){this._stream=yt,this._reader=null,this._loaded=0,this._filename=null;const gt=yt.source;this._withCredentials=gt.withCredentials||!1,this._contentLength=gt.length,this._headersCapability=new _e.PromiseCapability,this._disableRange=gt.disableRange||!1,this._rangeChunkSize=gt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!gt.disableStream,this._isRangeSupported=!gt.disableRange,this._headers=nt(this._stream.httpHeaders);const pt=gt.url;fetch(pt,et(this._headers,this._withCredentials,this._abortController)).then(kt=>{if(!(0,tt.validateResponseStatus)(kt.status))throw(0,tt.createResponseStatusError)(kt.status,pt);this._reader=kt.body.getReader(),this._headersCapability.resolve();const At=dt=>kt.headers.get(dt),{allowRangeRequests:at,suggestedLength:lt}=(0,tt.validateRangeRequestCapabilities)({getResponseHeader:At,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=at,this._contentLength=lt||this._contentLength,this._filename=(0,tt.extractFilenameFromHeader)(At),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new _e.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var pt;await this._headersCapability.promise;const{value:yt,done:gt}=await this._reader.read();return gt?{value:yt,done:gt}:(this._loaded+=yt.byteLength,(pt=this.onProgress)==null||pt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:ct(yt),done:!1})}cancel(yt){var gt;(gt=this._reader)==null||gt.cancel(yt),this._abortController.abort()}}class st{constructor(yt,gt,pt){this._stream=yt,this._reader=null,this._loaded=0;const kt=yt.source;this._withCredentials=kt.withCredentials||!1,this._readCapability=new _e.PromiseCapability,this._isStreamingSupported=!kt.disableStream,this._abortController=new AbortController,this._headers=nt(this._stream.httpHeaders),this._headers.append("Range",`bytes=${gt}-${pt-1}`);const At=kt.url;fetch(At,et(this._headers,this._withCredentials,this._abortController)).then(at=>{if(!(0,tt.validateResponseStatus)(at.status))throw(0,tt.createResponseStatusError)(at.status,At);this._readCapability.resolve(),this._reader=at.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var pt;await this._readCapability.promise;const{value:yt,done:gt}=await this._reader.read();return gt?{value:yt,done:gt}:(this._loaded+=yt.byteLength,(pt=this.onProgress)==null||pt.call(this,{loaded:this._loaded}),{value:ct(yt),done:!1})}cancel(yt){var gt;(gt=this._reader)==null||gt.cancel(yt),this._abortController.abort()}}},(_,j,$)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.createResponseStatusError=rt,j.extractFilenameFromHeader=ct,j.validateRangeRequestCapabilities=nt,j.validateResponseStatus=ot;var _e=$(1),tt=$(21),et=$(6);function nt({getResponseHeader:st,isHttp:_t,rangeChunkSize:yt,disableRange:gt}){const pt={allowRangeRequests:!1,suggestedLength:void 0},kt=parseInt(st("Content-Length"),10);return!Number.isInteger(kt)||(pt.suggestedLength=kt,kt<=2*yt)||gt||!_t||st("Accept-Ranges")!=="bytes"||(st("Content-Encoding")||"identity")!=="identity"||(pt.allowRangeRequests=!0),pt}function ct(st){const _t=st("Content-Disposition");if(_t){let yt=(0,tt.getFilenameFromContentDispositionHeader)(_t);if(yt.includes("%"))try{yt=decodeURIComponent(yt)}catch{}if((0,et.isPdfFile)(yt))return yt}return null}function rt(st,_t){return st===404||st===0&&_t.startsWith("file:")?new _e.MissingPDFException('Missing PDF "'+_t+'".'):new _e.UnexpectedResponseException(`Unexpected server response (${st}) while retrieving PDF "${_t}".`,st)}function ot(st){return st===200||st===206}},(_,j,$)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.getFilenameFromContentDispositionHeader=tt;var _e=$(1);function tt(et){let nt=!0,ct=rt("filename\\*","i").exec(et);if(ct){ct=ct[1];let kt=yt(ct);return kt=unescape(kt),kt=gt(kt),kt=pt(kt),st(kt)}if(ct=_t(et),ct){const kt=pt(ct);return st(kt)}if(ct=rt("filename","i").exec(et),ct){ct=ct[1];let kt=yt(ct);return kt=pt(kt),st(kt)}function rt(kt,At){return new RegExp("(?:^|;)\\s*"+kt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',At)}function ot(kt,At){if(kt){if(!/^[\x00-\xFF]+$/.test(At))return At;try{const at=new TextDecoder(kt,{fatal:!0}),lt=(0,_e.stringToBytes)(At);At=at.decode(lt),nt=!1}catch{}}return At}function st(kt){return nt&&/[\x80-\xff]/.test(kt)&&(kt=ot("utf-8",kt),nt&&(kt=ot("iso-8859-1",kt))),kt}function _t(kt){const At=[];let at;const lt=rt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(at=lt.exec(kt))!==null;){let[,wt,ut,Et]=at;if(wt=parseInt(wt,10),wt in At){if(wt===0)break;continue}At[wt]=[ut,Et]}const dt=[];for(let wt=0;wt<At.length&&wt in At;++wt){let[ut,Et]=At[wt];Et=yt(Et),ut&&(Et=unescape(Et),wt===0&&(Et=gt(Et))),dt.push(Et)}return dt.join("")}function yt(kt){if(kt.startsWith('"')){const At=kt.slice(1).split('\\"');for(let at=0;at<At.length;++at){const lt=At[at].indexOf('"');lt!==-1&&(At[at]=At[at].slice(0,lt),At.length=at+1),At[at]=At[at].replaceAll(/\\(.)/g,"$1")}kt=At.join('"')}return kt}function gt(kt){const At=kt.indexOf("'");if(At===-1)return kt;const at=kt.slice(0,At),dt=kt.slice(At+1).replace(/^[^']*'/,"");return ot(at,dt)}function pt(kt){return!kt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(kt)?kt:kt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(At,at,lt,dt){if(lt==="q"||lt==="Q")return dt=dt.replaceAll("_"," "),dt=dt.replaceAll(/=([0-9a-fA-F]{2})/g,function(wt,ut){return String.fromCharCode(parseInt(ut,16))}),ot(at,dt);try{dt=atob(dt)}catch{}return ot(at,dt)})}return""}},(_,j,$)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.PDFNetworkStream=void 0;var _e=$(1),tt=$(20);const et=200,nt=206;function ct(yt){const gt=yt.response;return typeof gt!="string"?gt:(0,_e.stringToBytes)(gt).buffer}class rt{constructor(gt,pt={}){this.url=gt,this.isHttp=/^https?:/i.test(gt),this.httpHeaders=this.isHttp&&pt.httpHeaders||Object.create(null),this.withCredentials=pt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(gt,pt,kt){const At={begin:gt,end:pt};for(const at in kt)At[at]=kt[at];return this.request(At)}requestFull(gt){return this.request(gt)}request(gt){const pt=new XMLHttpRequest,kt=this.currXhrId++,At=this.pendingRequests[kt]={xhr:pt};pt.open("GET",this.url),pt.withCredentials=this.withCredentials;for(const at in this.httpHeaders){const lt=this.httpHeaders[at];lt!==void 0&&pt.setRequestHeader(at,lt)}return this.isHttp&&"begin"in gt&&"end"in gt?(pt.setRequestHeader("Range",`bytes=${gt.begin}-${gt.end-1}`),At.expectedStatus=nt):At.expectedStatus=et,pt.responseType="arraybuffer",gt.onError&&(pt.onerror=function(at){gt.onError(pt.status)}),pt.onreadystatechange=this.onStateChange.bind(this,kt),pt.onprogress=this.onProgress.bind(this,kt),At.onHeadersReceived=gt.onHeadersReceived,At.onDone=gt.onDone,At.onError=gt.onError,At.onProgress=gt.onProgress,pt.send(null),kt}onProgress(gt,pt){var At;const kt=this.pendingRequests[gt];kt&&((At=kt.onProgress)==null||At.call(kt,pt))}onStateChange(gt,pt){var wt,ut,Et;const kt=this.pendingRequests[gt];if(!kt)return;const At=kt.xhr;if(At.readyState>=2&&kt.onHeadersReceived&&(kt.onHeadersReceived(),delete kt.onHeadersReceived),At.readyState!==4||!(gt in this.pendingRequests))return;if(delete this.pendingRequests[gt],At.status===0&&this.isHttp){(wt=kt.onError)==null||wt.call(kt,At.status);return}const at=At.status||et;if(!(at===et&&kt.expectedStatus===nt)&&at!==kt.expectedStatus){(ut=kt.onError)==null||ut.call(kt,At.status);return}const dt=ct(At);if(at===nt){const ft=At.getResponseHeader("Content-Range"),St=/bytes (\d+)-(\d+)\/(\d+)/.exec(ft);kt.onDone({begin:parseInt(St[1],10),chunk:dt})}else dt?kt.onDone({begin:0,chunk:dt}):(Et=kt.onError)==null||Et.call(kt,At.status)}getRequestXhr(gt){return this.pendingRequests[gt].xhr}isPendingRequest(gt){return gt in this.pendingRequests}abortRequest(gt){const pt=this.pendingRequests[gt].xhr;delete this.pendingRequests[gt],pt.abort()}}class ot{constructor(gt){this._source=gt,this._manager=new rt(gt.url,{httpHeaders:gt.httpHeaders,withCredentials:gt.withCredentials}),this._rangeChunkSize=gt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(gt){const pt=this._rangeRequestReaders.indexOf(gt);pt>=0&&this._rangeRequestReaders.splice(pt,1)}getFullReader(){return(0,_e.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new st(this._manager,this._source),this._fullRequestReader}getRangeReader(gt,pt){const kt=new _t(this._manager,gt,pt);return kt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(kt),kt}cancelAllRequests(gt){var pt;(pt=this._fullRequestReader)==null||pt.cancel(gt);for(const kt of this._rangeRequestReaders.slice(0))kt.cancel(gt)}}j.PDFNetworkStream=ot;class st{constructor(gt,pt){this._manager=gt;const kt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=pt.url,this._fullRequestId=gt.requestFull(kt),this._headersReceivedCapability=new _e.PromiseCapability,this._disableRange=pt.disableRange||!1,this._contentLength=pt.length,this._rangeChunkSize=pt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const gt=this._fullRequestId,pt=this._manager.getRequestXhr(gt),kt=lt=>pt.getResponseHeader(lt),{allowRangeRequests:At,suggestedLength:at}=(0,tt.validateRangeRequestCapabilities)({getResponseHeader:kt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});At&&(this._isRangeSupported=!0),this._contentLength=at||this._contentLength,this._filename=(0,tt.extractFilenameFromHeader)(kt),this._isRangeSupported&&this._manager.abortRequest(gt),this._headersReceivedCapability.resolve()}_onDone(gt){if(gt&&(this._requests.length>0?this._requests.shift().resolve({value:gt.chunk,done:!1}):this._cachedChunks.push(gt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const pt of this._requests)pt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(gt){this._storedError=(0,tt.createResponseStatusError)(gt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const pt of this._requests)pt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(gt){var pt;(pt=this.onProgress)==null||pt.call(this,{loaded:gt.loaded,total:gt.lengthComputable?gt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const gt=new _e.PromiseCapability;return this._requests.push(gt),gt.promise}cancel(gt){this._done=!0,this._headersReceivedCapability.reject(gt);for(const pt of this._requests)pt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class _t{constructor(gt,pt,kt){this._manager=gt;const At={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=gt.url,this._requestId=gt.requestRange(pt,kt,At),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var gt;(gt=this.onClosed)==null||gt.call(this,this)}_onDone(gt){const pt=gt.chunk;this._requests.length>0?this._requests.shift().resolve({value:pt,done:!1}):this._queuedChunk=pt,this._done=!0;for(const kt of this._requests)kt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(gt){this._storedError=(0,tt.createResponseStatusError)(gt,this._url);for(const pt of this._requests)pt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(gt){var pt;this.isStreamingSupported||(pt=this.onProgress)==null||pt.call(this,{loaded:gt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const pt=this._queuedChunk;return this._queuedChunk=null,{value:pt,done:!1}}if(this._done)return{value:void 0,done:!0};const gt=new _e.PromiseCapability;return this._requests.push(gt),gt.promise}cancel(gt){this._done=!0;for(const pt of this._requests)pt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(_,j,$)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.PDFNodeStream=void 0;var _e=$(1),tt=$(20);const et=/^file:\/\/\/[a-zA-Z]:\//;function nt(kt){const At=require$$5,at=At.parse(kt);return at.protocol==="file:"||at.host?at:/^[a-z]:[/\\]/i.test(kt)?At.parse(`file:///${kt}`):(at.host||(at.protocol="file:"),at)}class ct{constructor(At){this.source=At,this.url=nt(At.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&At.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var At;return((At=this._fullRequestReader)==null?void 0:At._loaded)??0}getFullReader(){return(0,_e.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new gt(this):new _t(this),this._fullRequestReader}getRangeReader(At,at){if(at<=this._progressiveDataLength)return null;const lt=this.isFsUrl?new pt(this,At,at):new yt(this,At,at);return this._rangeRequestReaders.push(lt),lt}cancelAllRequests(At){var at;(at=this._fullRequestReader)==null||at.cancel(At);for(const lt of this._rangeRequestReaders.slice(0))lt.cancel(At)}}j.PDFNodeStream=ct;class rt{constructor(At){this._url=At.url,this._done=!1,this._storedError=null,this.onProgress=null;const at=At.source;this._contentLength=at.length,this._loaded=0,this._filename=null,this._disableRange=at.disableRange||!1,this._rangeChunkSize=at.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!at.disableStream,this._isRangeSupported=!at.disableRange,this._readableStream=null,this._readCapability=new _e.PromiseCapability,this._headersCapability=new _e.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var lt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const At=this._readableStream.read();return At===null?(this._readCapability=new _e.PromiseCapability,this.read()):(this._loaded+=At.length,(lt=this.onProgress)==null||lt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(At).buffer,done:!1})}cancel(At){if(!this._readableStream){this._error(At);return}this._readableStream.destroy(At)}_error(At){this._storedError=At,this._readCapability.resolve()}_setReadableStream(At){this._readableStream=At,At.on("readable",()=>{this._readCapability.resolve()}),At.on("end",()=>{At.destroy(),this._done=!0,this._readCapability.resolve()}),At.on("error",at=>{this._error(at)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new _e.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class ot{constructor(At){this._url=At.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new _e.PromiseCapability;const at=At.source;this._isStreamingSupported=!at.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var lt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const At=this._readableStream.read();return At===null?(this._readCapability=new _e.PromiseCapability,this.read()):(this._loaded+=At.length,(lt=this.onProgress)==null||lt.call(this,{loaded:this._loaded}),{value:new Uint8Array(At).buffer,done:!1})}cancel(At){if(!this._readableStream){this._error(At);return}this._readableStream.destroy(At)}_error(At){this._storedError=At,this._readCapability.resolve()}_setReadableStream(At){this._readableStream=At,At.on("readable",()=>{this._readCapability.resolve()}),At.on("end",()=>{At.destroy(),this._done=!0,this._readCapability.resolve()}),At.on("error",at=>{this._error(at)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function st(kt,At){return{protocol:kt.protocol,auth:kt.auth,host:kt.hostname,port:kt.port,path:kt.path,method:"GET",headers:At}}class _t extends rt{constructor(At){super(At);const at=lt=>{if(lt.statusCode===404){const Et=new _e.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Et,this._headersCapability.reject(Et);return}this._headersCapability.resolve(),this._setReadableStream(lt);const dt=Et=>this._readableStream.headers[Et.toLowerCase()],{allowRangeRequests:wt,suggestedLength:ut}=(0,tt.validateRangeRequestCapabilities)({getResponseHeader:dt,isHttp:At.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=wt,this._contentLength=ut||this._contentLength,this._filename=(0,tt.extractFilenameFromHeader)(dt)};if(this._request=null,this._url.protocol==="http:"){const lt=require$$5;this._request=lt.request(st(this._url,At.httpHeaders),at)}else{const lt=require$$5;this._request=lt.request(st(this._url,At.httpHeaders),at)}this._request.on("error",lt=>{this._storedError=lt,this._headersCapability.reject(lt)}),this._request.end()}}class yt extends ot{constructor(At,at,lt){super(At),this._httpHeaders={};for(const wt in At.httpHeaders){const ut=At.httpHeaders[wt];ut!==void 0&&(this._httpHeaders[wt]=ut)}this._httpHeaders.Range=`bytes=${at}-${lt-1}`;const dt=wt=>{if(wt.statusCode===404){const ut=new _e.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ut;return}this._setReadableStream(wt)};if(this._request=null,this._url.protocol==="http:"){const wt=require$$5;this._request=wt.request(st(this._url,this._httpHeaders),dt)}else{const wt=require$$5;this._request=wt.request(st(this._url,this._httpHeaders),dt)}this._request.on("error",wt=>{this._storedError=wt}),this._request.end()}}class gt extends rt{constructor(At){super(At);let at=decodeURIComponent(this._url.path);et.test(this._url.href)&&(at=at.replace(/^\//,""));const lt=require$$5;lt.lstat(at,(dt,wt)=>{if(dt){dt.code==="ENOENT"&&(dt=new _e.MissingPDFException(`Missing PDF "${at}".`)),this._storedError=dt,this._headersCapability.reject(dt);return}this._contentLength=wt.size,this._setReadableStream(lt.createReadStream(at)),this._headersCapability.resolve()})}}class pt extends ot{constructor(At,at,lt){super(At);let dt=decodeURIComponent(this._url.path);et.test(this._url.href)&&(dt=dt.replace(/^\//,""));const wt=require$$5;this._setReadableStream(wt.createReadStream(dt,{start:at,end:lt-1}))}}},(_,j,$)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.SVGGraphics=void 0;var _e=$(6),tt=$(1);const et={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},nt="http://www.w3.org/XML/1998/namespace",ct="http://www.w3.org/1999/xlink",rt=["butt","round","square"],ot=["miter","round","bevel"],st=function(wt,ut="",Et=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!Et)return URL.createObjectURL(new Blob([wt],{type:ut}));const ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let St=`data:${ut};base64,`;for(let xt=0,Dt=wt.length;xt<Dt;xt+=3){const bt=wt[xt]&255,Ft=wt[xt+1]&255,$t=wt[xt+2]&255,gn=bt>>2,Yt=(bt&3)<<4|Ft>>4,rn=xt+1<Dt?(Ft&15)<<2|$t>>6:64,Xt=xt+2<Dt?$t&63:64;St+=ft[gn]+ft[Yt]+ft[rn]+ft[Xt]}return St},_t=function(){const wt=new Uint8Array([137,80,78,71,13,10,26,10]),ut=12,Et=new Int32Array(256);for(let $t=0;$t<256;$t++){let gn=$t;for(let Yt=0;Yt<8;Yt++)gn=gn&1?3988292384^gn>>1&2147483647:gn>>1&2147483647;Et[$t]=gn}function ft($t,gn,Yt){let rn=-1;for(let Xt=gn;Xt<Yt;Xt++){const Gt=(rn^$t[Xt])&255,Tt=Et[Gt];rn=rn>>>8^Tt}return rn^-1}function St($t,gn,Yt,rn){let Xt=rn;const Gt=gn.length;Yt[Xt]=Gt>>24&255,Yt[Xt+1]=Gt>>16&255,Yt[Xt+2]=Gt>>8&255,Yt[Xt+3]=Gt&255,Xt+=4,Yt[Xt]=$t.charCodeAt(0)&255,Yt[Xt+1]=$t.charCodeAt(1)&255,Yt[Xt+2]=$t.charCodeAt(2)&255,Yt[Xt+3]=$t.charCodeAt(3)&255,Xt+=4,Yt.set(gn,Xt),Xt+=gn.length;const Tt=ft(Yt,rn+4,Xt);Yt[Xt]=Tt>>24&255,Yt[Xt+1]=Tt>>16&255,Yt[Xt+2]=Tt>>8&255,Yt[Xt+3]=Tt&255}function xt($t,gn,Yt){let rn=1,Xt=0;for(let Gt=gn;Gt<Yt;++Gt)rn=(rn+($t[Gt]&255))%65521,Xt=(Xt+rn)%65521;return Xt<<16|rn}function Dt($t){if(!tt.isNodeJS)return bt($t);try{const gn=parseInt(process.versions.node)>=8?$t:Buffer.from($t),Yt=require$$5.deflateSync(gn,{level:9});return Yt instanceof Uint8Array?Yt:new Uint8Array(Yt)}catch(gn){(0,tt.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+gn)}return bt($t)}function bt($t){let gn=$t.length;const Yt=65535,rn=Math.ceil(gn/Yt),Xt=new Uint8Array(2+gn+rn*5+4);let Gt=0;Xt[Gt++]=120,Xt[Gt++]=156;let Tt=0;for(;gn>Yt;)Xt[Gt++]=0,Xt[Gt++]=255,Xt[Gt++]=255,Xt[Gt++]=0,Xt[Gt++]=0,Xt.set($t.subarray(Tt,Tt+Yt),Gt),Gt+=Yt,Tt+=Yt,gn-=Yt;Xt[Gt++]=1,Xt[Gt++]=gn&255,Xt[Gt++]=gn>>8&255,Xt[Gt++]=~gn&65535&255,Xt[Gt++]=(~gn&65535)>>8&255,Xt.set($t.subarray(Tt),Gt),Gt+=$t.length-Tt;const Ht=xt($t,0,$t.length);return Xt[Gt++]=Ht>>24&255,Xt[Gt++]=Ht>>16&255,Xt[Gt++]=Ht>>8&255,Xt[Gt++]=Ht&255,Xt}function Ft($t,gn,Yt,rn){const Xt=$t.width,Gt=$t.height;let Tt,Ht,Jt;const Mt=$t.data;switch(gn){case tt.ImageKind.GRAYSCALE_1BPP:Ht=0,Tt=1,Jt=Xt+7>>3;break;case tt.ImageKind.RGB_24BPP:Ht=2,Tt=8,Jt=Xt*3;break;case tt.ImageKind.RGBA_32BPP:Ht=6,Tt=8,Jt=Xt*4;break;default:throw new Error("invalid format")}const mt=new Uint8Array((1+Jt)*Gt);let vt=0,Pt=0;for(let En=0;En<Gt;++En)mt[vt++]=0,mt.set(Mt.subarray(Pt,Pt+Jt),vt),Pt+=Jt,vt+=Jt;if(gn===tt.ImageKind.GRAYSCALE_1BPP&&rn){vt=0;for(let En=0;En<Gt;En++){vt++;for(let Sn=0;Sn<Jt;Sn++)mt[vt++]^=255}}const It=new Uint8Array([Xt>>24&255,Xt>>16&255,Xt>>8&255,Xt&255,Gt>>24&255,Gt>>16&255,Gt>>8&255,Gt&255,Tt,Ht,0,0,0]),jt=Dt(mt),Nt=wt.length+ut*3+It.length+jt.length,Zt=new Uint8Array(Nt);let vn=0;return Zt.set(wt,vn),vn+=wt.length,St("IHDR",It,Zt,vn),vn+=ut+It.length,St("IDATA",jt,Zt,vn),vn+=ut+jt.length,St("IEND",new Uint8Array(0),Zt,vn),st(Zt,"image/png",Yt)}return function(gn,Yt,rn){const Xt=gn.kind===void 0?tt.ImageKind.GRAYSCALE_1BPP:gn.kind;return Ft(gn,Xt,Yt,rn)}}();class yt{constructor(){this.fontSizeScale=1,this.fontWeight=et.fontWeight,this.fontSize=0,this.textMatrix=tt.IDENTITY_MATRIX,this.fontMatrix=tt.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=tt.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=et.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(ut,Et){this.x=ut,this.y=Et}}function gt(wt){let ut=[];const Et=[];for(const ft of wt){if(ft.fn==="save"){ut.push({fnId:92,fn:"group",items:[]}),Et.push(ut),ut=ut.at(-1).items;continue}ft.fn==="restore"?ut=Et.pop():ut.push(ft)}return ut}function pt(wt){if(Number.isInteger(wt))return wt.toString();const ut=wt.toFixed(10);let Et=ut.length-1;if(ut[Et]!=="0")return ut;do Et--;while(ut[Et]==="0");return ut.substring(0,ut[Et]==="."?Et:Et+1)}function kt(wt){if(wt[4]===0&&wt[5]===0){if(wt[1]===0&&wt[2]===0)return wt[0]===1&&wt[3]===1?"":`scale(${pt(wt[0])} ${pt(wt[3])})`;if(wt[0]===wt[3]&&wt[1]===-wt[2]){const ut=Math.acos(wt[0])*180/Math.PI;return`rotate(${pt(ut)})`}}else if(wt[0]===1&&wt[1]===0&&wt[2]===0&&wt[3]===1)return`translate(${pt(wt[4])} ${pt(wt[5])})`;return`matrix(${pt(wt[0])} ${pt(wt[1])} ${pt(wt[2])} ${pt(wt[3])} ${pt(wt[4])} ${pt(wt[5])})`}let At=0,at=0,lt=0;class dt{constructor(ut,Et,ft=!1){(0,_e.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new _e.DOMSVGFactory,this.current=new yt,this.transformMatrix=tt.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=ut,this.objs=Et,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!ft,this._operatorIdMapping=[];for(const St in tt.OPS)this._operatorIdMapping[tt.OPS[St]]=St}getObject(ut,Et=null){return typeof ut=="string"?ut.startsWith("g_")?this.commonObjs.get(ut):this.objs.get(ut):Et}save(){this.transformStack.push(this.transformMatrix);const ut=this.current;this.extraStack.push(ut),this.current=ut.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(ut){this.save(),this.executeOpTree(ut),this.restore()}loadDependencies(ut){const Et=ut.fnArray,ft=ut.argsArray;for(let St=0,xt=Et.length;St<xt;St++)if(Et[St]===tt.OPS.dependency)for(const Dt of ft[St]){const bt=Dt.startsWith("g_")?this.commonObjs:this.objs,Ft=new Promise($t=>{bt.get(Dt,$t)});this.current.dependencies.push(Ft)}return Promise.all(this.current.dependencies)}transform(ut,Et,ft,St,xt,Dt){const bt=[ut,Et,ft,St,xt,Dt];this.transformMatrix=tt.Util.transform(this.transformMatrix,bt),this.tgrp=null}getSVG(ut,Et){this.viewport=Et;const ft=this._initialize(Et);return this.loadDependencies(ut).then(()=>(this.transformMatrix=tt.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(ut)),ft))}convertOpList(ut){const Et=this._operatorIdMapping,ft=ut.argsArray,St=ut.fnArray,xt=[];for(let Dt=0,bt=St.length;Dt<bt;Dt++){const Ft=St[Dt];xt.push({fnId:Ft,fn:Et[Ft],args:ft[Dt]})}return gt(xt)}executeOpTree(ut){for(const Et of ut){const ft=Et.fn,St=Et.fnId,xt=Et.args;switch(St|0){case tt.OPS.beginText:this.beginText();break;case tt.OPS.dependency:break;case tt.OPS.setLeading:this.setLeading(xt);break;case tt.OPS.setLeadingMoveText:this.setLeadingMoveText(xt[0],xt[1]);break;case tt.OPS.setFont:this.setFont(xt);break;case tt.OPS.showText:this.showText(xt[0]);break;case tt.OPS.showSpacedText:this.showText(xt[0]);break;case tt.OPS.endText:this.endText();break;case tt.OPS.moveText:this.moveText(xt[0],xt[1]);break;case tt.OPS.setCharSpacing:this.setCharSpacing(xt[0]);break;case tt.OPS.setWordSpacing:this.setWordSpacing(xt[0]);break;case tt.OPS.setHScale:this.setHScale(xt[0]);break;case tt.OPS.setTextMatrix:this.setTextMatrix(xt[0],xt[1],xt[2],xt[3],xt[4],xt[5]);break;case tt.OPS.setTextRise:this.setTextRise(xt[0]);break;case tt.OPS.setTextRenderingMode:this.setTextRenderingMode(xt[0]);break;case tt.OPS.setLineWidth:this.setLineWidth(xt[0]);break;case tt.OPS.setLineJoin:this.setLineJoin(xt[0]);break;case tt.OPS.setLineCap:this.setLineCap(xt[0]);break;case tt.OPS.setMiterLimit:this.setMiterLimit(xt[0]);break;case tt.OPS.setFillRGBColor:this.setFillRGBColor(xt[0],xt[1],xt[2]);break;case tt.OPS.setStrokeRGBColor:this.setStrokeRGBColor(xt[0],xt[1],xt[2]);break;case tt.OPS.setStrokeColorN:this.setStrokeColorN(xt);break;case tt.OPS.setFillColorN:this.setFillColorN(xt);break;case tt.OPS.shadingFill:this.shadingFill(xt[0]);break;case tt.OPS.setDash:this.setDash(xt[0],xt[1]);break;case tt.OPS.setRenderingIntent:this.setRenderingIntent(xt[0]);break;case tt.OPS.setFlatness:this.setFlatness(xt[0]);break;case tt.OPS.setGState:this.setGState(xt[0]);break;case tt.OPS.fill:this.fill();break;case tt.OPS.eoFill:this.eoFill();break;case tt.OPS.stroke:this.stroke();break;case tt.OPS.fillStroke:this.fillStroke();break;case tt.OPS.eoFillStroke:this.eoFillStroke();break;case tt.OPS.clip:this.clip("nonzero");break;case tt.OPS.eoClip:this.clip("evenodd");break;case tt.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case tt.OPS.paintImageXObject:this.paintImageXObject(xt[0]);break;case tt.OPS.paintInlineImageXObject:this.paintInlineImageXObject(xt[0]);break;case tt.OPS.paintImageMaskXObject:this.paintImageMaskXObject(xt[0]);break;case tt.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(xt[0],xt[1]);break;case tt.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case tt.OPS.closePath:this.closePath();break;case tt.OPS.closeStroke:this.closeStroke();break;case tt.OPS.closeFillStroke:this.closeFillStroke();break;case tt.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case tt.OPS.nextLine:this.nextLine();break;case tt.OPS.transform:this.transform(xt[0],xt[1],xt[2],xt[3],xt[4],xt[5]);break;case tt.OPS.constructPath:this.constructPath(xt[0],xt[1]);break;case tt.OPS.endPath:this.endPath();break;case 92:this.group(Et.items);break;default:(0,tt.warn)(`Unimplemented operator ${ft}`);break}}}setWordSpacing(ut){this.current.wordSpacing=ut}setCharSpacing(ut){this.current.charSpacing=ut}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(ut,Et,ft,St,xt,Dt){const bt=this.current;bt.textMatrix=bt.lineMatrix=[ut,Et,ft,St,xt,Dt],bt.textMatrixScale=Math.hypot(ut,Et),bt.x=bt.lineX=0,bt.y=bt.lineY=0,bt.xcoords=[],bt.ycoords=[],bt.tspan=this.svgFactory.createElement("svg:tspan"),bt.tspan.setAttributeNS(null,"font-family",bt.fontFamily),bt.tspan.setAttributeNS(null,"font-size",`${pt(bt.fontSize)}px`),bt.tspan.setAttributeNS(null,"y",pt(-bt.y)),bt.txtElement=this.svgFactory.createElement("svg:text"),bt.txtElement.append(bt.tspan)}beginText(){const ut=this.current;ut.x=ut.lineX=0,ut.y=ut.lineY=0,ut.textMatrix=tt.IDENTITY_MATRIX,ut.lineMatrix=tt.IDENTITY_MATRIX,ut.textMatrixScale=1,ut.tspan=this.svgFactory.createElement("svg:tspan"),ut.txtElement=this.svgFactory.createElement("svg:text"),ut.txtgrp=this.svgFactory.createElement("svg:g"),ut.xcoords=[],ut.ycoords=[]}moveText(ut,Et){const ft=this.current;ft.x=ft.lineX+=ut,ft.y=ft.lineY+=Et,ft.xcoords=[],ft.ycoords=[],ft.tspan=this.svgFactory.createElement("svg:tspan"),ft.tspan.setAttributeNS(null,"font-family",ft.fontFamily),ft.tspan.setAttributeNS(null,"font-size",`${pt(ft.fontSize)}px`),ft.tspan.setAttributeNS(null,"y",pt(-ft.y))}showText(ut){const Et=this.current,ft=Et.font,St=Et.fontSize;if(St===0)return;const xt=Et.fontSizeScale,Dt=Et.charSpacing,bt=Et.wordSpacing,Ft=Et.fontDirection,$t=Et.textHScale*Ft,gn=ft.vertical,Yt=gn?1:-1,rn=ft.defaultVMetrics,Xt=St*Et.fontMatrix[0];let Gt=0;for(const Jt of ut){if(Jt===null){Gt+=Ft*bt;continue}else if(typeof Jt=="number"){Gt+=Yt*Jt*St/1e3;continue}const Mt=(Jt.isSpace?bt:0)+Dt,mt=Jt.fontChar;let vt,Pt,It=Jt.width;if(gn){let Nt;const Zt=Jt.vmetric||rn;Nt=Jt.vmetric?Zt[1]:It*.5,Nt=-Nt*Xt;const vn=Zt[2]*Xt;It=Zt?-Zt[0]:It,vt=Nt/xt,Pt=(Gt+vn)/xt}else vt=Gt/xt,Pt=0;(Jt.isInFont||ft.missingFile)&&(Et.xcoords.push(Et.x+vt),gn&&Et.ycoords.push(-Et.y+Pt),Et.tspan.textContent+=mt);const jt=gn?It*Xt-Mt*Ft:It*Xt+Mt*Ft;Gt+=jt}Et.tspan.setAttributeNS(null,"x",Et.xcoords.map(pt).join(" ")),gn?Et.tspan.setAttributeNS(null,"y",Et.ycoords.map(pt).join(" ")):Et.tspan.setAttributeNS(null,"y",pt(-Et.y)),gn?Et.y-=Gt:Et.x+=Gt*$t,Et.tspan.setAttributeNS(null,"font-family",Et.fontFamily),Et.tspan.setAttributeNS(null,"font-size",`${pt(Et.fontSize)}px`),Et.fontStyle!==et.fontStyle&&Et.tspan.setAttributeNS(null,"font-style",Et.fontStyle),Et.fontWeight!==et.fontWeight&&Et.tspan.setAttributeNS(null,"font-weight",Et.fontWeight);const Tt=Et.textRenderingMode&tt.TextRenderingMode.FILL_STROKE_MASK;if(Tt===tt.TextRenderingMode.FILL||Tt===tt.TextRenderingMode.FILL_STROKE?(Et.fillColor!==et.fillColor&&Et.tspan.setAttributeNS(null,"fill",Et.fillColor),Et.fillAlpha<1&&Et.tspan.setAttributeNS(null,"fill-opacity",Et.fillAlpha)):Et.textRenderingMode===tt.TextRenderingMode.ADD_TO_PATH?Et.tspan.setAttributeNS(null,"fill","transparent"):Et.tspan.setAttributeNS(null,"fill","none"),Tt===tt.TextRenderingMode.STROKE||Tt===tt.TextRenderingMode.FILL_STROKE){const Jt=1/(Et.textMatrixScale||1);this._setStrokeAttributes(Et.tspan,Jt)}let Ht=Et.textMatrix;Et.textRise!==0&&(Ht=Ht.slice(),Ht[5]+=Et.textRise),Et.txtElement.setAttributeNS(null,"transform",`${kt(Ht)} scale(${pt($t)}, -1)`),Et.txtElement.setAttributeNS(nt,"xml:space","preserve"),Et.txtElement.append(Et.tspan),Et.txtgrp.append(Et.txtElement),this._ensureTransformGroup().append(Et.txtElement)}setLeadingMoveText(ut,Et){this.setLeading(-Et),this.moveText(ut,Et)}addFontStyle(ut){if(!ut.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const Et=st(ut.data,ut.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${ut.loadedName}"; src: url(${Et}); }
`}setFont(ut){const Et=this.current,ft=this.commonObjs.get(ut[0]);let St=ut[1];Et.font=ft,this.embedFonts&&!ft.missingFile&&!this.embeddedFonts[ft.loadedName]&&(this.addFontStyle(ft),this.embeddedFonts[ft.loadedName]=ft),Et.fontMatrix=ft.fontMatrix||tt.FONT_IDENTITY_MATRIX;let xt="normal";ft.black?xt="900":ft.bold&&(xt="bold");const Dt=ft.italic?"italic":"normal";St<0?(St=-St,Et.fontDirection=-1):Et.fontDirection=1,Et.fontSize=St,Et.fontFamily=ft.loadedName,Et.fontWeight=xt,Et.fontStyle=Dt,Et.tspan=this.svgFactory.createElement("svg:tspan"),Et.tspan.setAttributeNS(null,"y",pt(-Et.y)),Et.xcoords=[],Et.ycoords=[]}endText(){var Et;const ut=this.current;ut.textRenderingMode&tt.TextRenderingMode.ADD_TO_PATH_FLAG&&((Et=ut.txtElement)!=null&&Et.hasChildNodes())&&(ut.element=ut.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(ut){ut>0&&(this.current.lineWidth=ut)}setLineCap(ut){this.current.lineCap=rt[ut]}setLineJoin(ut){this.current.lineJoin=ot[ut]}setMiterLimit(ut){this.current.miterLimit=ut}setStrokeAlpha(ut){this.current.strokeAlpha=ut}setStrokeRGBColor(ut,Et,ft){this.current.strokeColor=tt.Util.makeHexColor(ut,Et,ft)}setFillAlpha(ut){this.current.fillAlpha=ut}setFillRGBColor(ut,Et,ft){this.current.fillColor=tt.Util.makeHexColor(ut,Et,ft),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(ut){this.current.strokeColor=this._makeColorN_Pattern(ut)}setFillColorN(ut){this.current.fillColor=this._makeColorN_Pattern(ut)}shadingFill(ut){const{width:Et,height:ft}=this.viewport,St=tt.Util.inverseTransform(this.transformMatrix),[xt,Dt,bt,Ft]=tt.Util.getAxialAlignedBoundingBox([0,0,Et,ft],St),$t=this.svgFactory.createElement("svg:rect");$t.setAttributeNS(null,"x",xt),$t.setAttributeNS(null,"y",Dt),$t.setAttributeNS(null,"width",bt-xt),$t.setAttributeNS(null,"height",Ft-Dt),$t.setAttributeNS(null,"fill",this._makeShadingPattern(ut)),this.current.fillAlpha<1&&$t.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append($t)}_makeColorN_Pattern(ut){return ut[0]==="TilingPattern"?this._makeTilingPattern(ut):this._makeShadingPattern(ut)}_makeTilingPattern(ut){const Et=ut[1],ft=ut[2],St=ut[3]||tt.IDENTITY_MATRIX,[xt,Dt,bt,Ft]=ut[4],$t=ut[5],gn=ut[6],Yt=ut[7],rn=`shading${lt++}`,[Xt,Gt,Tt,Ht]=tt.Util.normalizeRect([...tt.Util.applyTransform([xt,Dt],St),...tt.Util.applyTransform([bt,Ft],St)]),[Jt,Mt]=tt.Util.singularValueDecompose2dScale(St),mt=$t*Jt,vt=gn*Mt,Pt=this.svgFactory.createElement("svg:pattern");Pt.setAttributeNS(null,"id",rn),Pt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Pt.setAttributeNS(null,"width",mt),Pt.setAttributeNS(null,"height",vt),Pt.setAttributeNS(null,"x",`${Xt}`),Pt.setAttributeNS(null,"y",`${Gt}`);const It=this.svg,jt=this.transformMatrix,Nt=this.current.fillColor,Zt=this.current.strokeColor,vn=this.svgFactory.create(Tt-Xt,Ht-Gt);if(this.svg=vn,this.transformMatrix=St,Yt===2){const En=tt.Util.makeHexColor(...Et);this.current.fillColor=En,this.current.strokeColor=En}return this.executeOpTree(this.convertOpList(ft)),this.svg=It,this.transformMatrix=jt,this.current.fillColor=Nt,this.current.strokeColor=Zt,Pt.append(vn.childNodes[0]),this.defs.append(Pt),`url(#${rn})`}_makeShadingPattern(ut){switch(typeof ut=="string"&&(ut=this.objs.get(ut)),ut[0]){case"RadialAxial":const Et=`shading${lt++}`,ft=ut[3];let St;switch(ut[1]){case"axial":const xt=ut[4],Dt=ut[5];St=this.svgFactory.createElement("svg:linearGradient"),St.setAttributeNS(null,"id",Et),St.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),St.setAttributeNS(null,"x1",xt[0]),St.setAttributeNS(null,"y1",xt[1]),St.setAttributeNS(null,"x2",Dt[0]),St.setAttributeNS(null,"y2",Dt[1]);break;case"radial":const bt=ut[4],Ft=ut[5],$t=ut[6],gn=ut[7];St=this.svgFactory.createElement("svg:radialGradient"),St.setAttributeNS(null,"id",Et),St.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),St.setAttributeNS(null,"cx",Ft[0]),St.setAttributeNS(null,"cy",Ft[1]),St.setAttributeNS(null,"r",gn),St.setAttributeNS(null,"fx",bt[0]),St.setAttributeNS(null,"fy",bt[1]),St.setAttributeNS(null,"fr",$t);break;default:throw new Error(`Unknown RadialAxial type: ${ut[1]}`)}for(const xt of ft){const Dt=this.svgFactory.createElement("svg:stop");Dt.setAttributeNS(null,"offset",xt[0]),Dt.setAttributeNS(null,"stop-color",xt[1]),St.append(Dt)}return this.defs.append(St),`url(#${Et})`;case"Mesh":return(0,tt.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${ut[0]}`)}}setDash(ut,Et){this.current.dashArray=ut,this.current.dashPhase=Et}constructPath(ut,Et){const ft=this.current;let St=ft.x,xt=ft.y,Dt=[],bt=0;for(const Ft of ut)switch(Ft|0){case tt.OPS.rectangle:St=Et[bt++],xt=Et[bt++];const $t=Et[bt++],gn=Et[bt++],Yt=St+$t,rn=xt+gn;Dt.push("M",pt(St),pt(xt),"L",pt(Yt),pt(xt),"L",pt(Yt),pt(rn),"L",pt(St),pt(rn),"Z");break;case tt.OPS.moveTo:St=Et[bt++],xt=Et[bt++],Dt.push("M",pt(St),pt(xt));break;case tt.OPS.lineTo:St=Et[bt++],xt=Et[bt++],Dt.push("L",pt(St),pt(xt));break;case tt.OPS.curveTo:St=Et[bt+4],xt=Et[bt+5],Dt.push("C",pt(Et[bt]),pt(Et[bt+1]),pt(Et[bt+2]),pt(Et[bt+3]),pt(St),pt(xt)),bt+=6;break;case tt.OPS.curveTo2:Dt.push("C",pt(St),pt(xt),pt(Et[bt]),pt(Et[bt+1]),pt(Et[bt+2]),pt(Et[bt+3])),St=Et[bt+2],xt=Et[bt+3],bt+=4;break;case tt.OPS.curveTo3:St=Et[bt+2],xt=Et[bt+3],Dt.push("C",pt(Et[bt]),pt(Et[bt+1]),pt(St),pt(xt),pt(St),pt(xt)),bt+=4;break;case tt.OPS.closePath:Dt.push("Z");break}Dt=Dt.join(" "),ft.path&&ut.length>0&&ut[0]!==tt.OPS.rectangle&&ut[0]!==tt.OPS.moveTo?Dt=ft.path.getAttributeNS(null,"d")+Dt:(ft.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(ft.path)),ft.path.setAttributeNS(null,"d",Dt),ft.path.setAttributeNS(null,"fill","none"),ft.element=ft.path,ft.setCurrentPoint(St,xt)}endPath(){const ut=this.current;if(ut.path=null,!this.pendingClip)return;if(!ut.element){this.pendingClip=null;return}const Et=`clippath${At++}`,ft=this.svgFactory.createElement("svg:clipPath");ft.setAttributeNS(null,"id",Et),ft.setAttributeNS(null,"transform",kt(this.transformMatrix));const St=ut.element.cloneNode(!0);if(this.pendingClip==="evenodd"?St.setAttributeNS(null,"clip-rule","evenodd"):St.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,ft.append(St),this.defs.append(ft),ut.activeClipUrl){ut.clipGroup=null;for(const xt of this.extraStack)xt.clipGroup=null;ft.setAttributeNS(null,"clip-path",ut.activeClipUrl)}ut.activeClipUrl=`url(#${Et})`,this.tgrp=null}clip(ut){this.pendingClip=ut}closePath(){const ut=this.current;if(ut.path){const Et=`${ut.path.getAttributeNS(null,"d")}Z`;ut.path.setAttributeNS(null,"d",Et)}}setLeading(ut){this.current.leading=-ut}setTextRise(ut){this.current.textRise=ut}setTextRenderingMode(ut){this.current.textRenderingMode=ut}setHScale(ut){this.current.textHScale=ut/100}setRenderingIntent(ut){}setFlatness(ut){}setGState(ut){for(const[Et,ft]of ut)switch(Et){case"LW":this.setLineWidth(ft);break;case"LC":this.setLineCap(ft);break;case"LJ":this.setLineJoin(ft);break;case"ML":this.setMiterLimit(ft);break;case"D":this.setDash(ft[0],ft[1]);break;case"RI":this.setRenderingIntent(ft);break;case"FL":this.setFlatness(ft);break;case"Font":this.setFont(ft);break;case"CA":this.setStrokeAlpha(ft);break;case"ca":this.setFillAlpha(ft);break;default:(0,tt.warn)(`Unimplemented graphic state operator ${Et}`);break}}fill(){const ut=this.current;ut.element&&(ut.element.setAttributeNS(null,"fill",ut.fillColor),ut.element.setAttributeNS(null,"fill-opacity",ut.fillAlpha),this.endPath())}stroke(){const ut=this.current;ut.element&&(this._setStrokeAttributes(ut.element),ut.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(ut,Et=1){const ft=this.current;let St=ft.dashArray;Et!==1&&St.length>0&&(St=St.map(function(xt){return Et*xt})),ut.setAttributeNS(null,"stroke",ft.strokeColor),ut.setAttributeNS(null,"stroke-opacity",ft.strokeAlpha),ut.setAttributeNS(null,"stroke-miterlimit",pt(ft.miterLimit)),ut.setAttributeNS(null,"stroke-linecap",ft.lineCap),ut.setAttributeNS(null,"stroke-linejoin",ft.lineJoin),ut.setAttributeNS(null,"stroke-width",pt(Et*ft.lineWidth)+"px"),ut.setAttributeNS(null,"stroke-dasharray",St.map(pt).join(" ")),ut.setAttributeNS(null,"stroke-dashoffset",pt(Et*ft.dashPhase)+"px")}eoFill(){var ut;(ut=this.current.element)==null||ut.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var ut;(ut=this.current.element)==null||ut.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const ut=this.svgFactory.createElement("svg:rect");ut.setAttributeNS(null,"x","0"),ut.setAttributeNS(null,"y","0"),ut.setAttributeNS(null,"width","1px"),ut.setAttributeNS(null,"height","1px"),ut.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(ut)}paintImageXObject(ut){const Et=this.getObject(ut);if(!Et){(0,tt.warn)(`Dependent image with object ID ${ut} is not ready yet`);return}this.paintInlineImageXObject(Et)}paintInlineImageXObject(ut,Et){const ft=ut.width,St=ut.height,xt=_t(ut,this.forceDataSchema,!!Et),Dt=this.svgFactory.createElement("svg:rect");Dt.setAttributeNS(null,"x","0"),Dt.setAttributeNS(null,"y","0"),Dt.setAttributeNS(null,"width",pt(ft)),Dt.setAttributeNS(null,"height",pt(St)),this.current.element=Dt,this.clip("nonzero");const bt=this.svgFactory.createElement("svg:image");bt.setAttributeNS(ct,"xlink:href",xt),bt.setAttributeNS(null,"x","0"),bt.setAttributeNS(null,"y",pt(-St)),bt.setAttributeNS(null,"width",pt(ft)+"px"),bt.setAttributeNS(null,"height",pt(St)+"px"),bt.setAttributeNS(null,"transform",`scale(${pt(1/ft)} ${pt(-1/St)})`),Et?Et.append(bt):this._ensureTransformGroup().append(bt)}paintImageMaskXObject(ut){const Et=this.getObject(ut.data,ut);if(Et.bitmap){(0,tt.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const ft=this.current,St=Et.width,xt=Et.height,Dt=ft.fillColor;ft.maskId=`mask${at++}`;const bt=this.svgFactory.createElement("svg:mask");bt.setAttributeNS(null,"id",ft.maskId);const Ft=this.svgFactory.createElement("svg:rect");Ft.setAttributeNS(null,"x","0"),Ft.setAttributeNS(null,"y","0"),Ft.setAttributeNS(null,"width",pt(St)),Ft.setAttributeNS(null,"height",pt(xt)),Ft.setAttributeNS(null,"fill",Dt),Ft.setAttributeNS(null,"mask",`url(#${ft.maskId})`),this.defs.append(bt),this._ensureTransformGroup().append(Ft),this.paintInlineImageXObject(Et,bt)}paintFormXObjectBegin(ut,Et){if(Array.isArray(ut)&&ut.length===6&&this.transform(ut[0],ut[1],ut[2],ut[3],ut[4],ut[5]),Et){const ft=Et[2]-Et[0],St=Et[3]-Et[1],xt=this.svgFactory.createElement("svg:rect");xt.setAttributeNS(null,"x",Et[0]),xt.setAttributeNS(null,"y",Et[1]),xt.setAttributeNS(null,"width",pt(ft)),xt.setAttributeNS(null,"height",pt(St)),this.current.element=xt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(ut){const Et=this.svgFactory.create(ut.width,ut.height),ft=this.svgFactory.createElement("svg:defs");Et.append(ft),this.defs=ft;const St=this.svgFactory.createElement("svg:g");return St.setAttributeNS(null,"transform",kt(ut.transform)),Et.append(St),this.svg=St,Et}_ensureClipGroup(){if(!this.current.clipGroup){const ut=this.svgFactory.createElement("svg:g");ut.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(ut),this.current.clipGroup=ut}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",kt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}j.SVGGraphics=dt},(_,j)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.XfaText=void 0;class ${static textContent(tt){const et=[],nt={items:et,styles:Object.create(null)};function ct(rt){var _t;if(!rt)return;let ot=null;const st=rt.name;if(st==="#text")ot=rt.value;else if($.shouldBuildText(st))(_t=rt==null?void 0:rt.attributes)!=null&&_t.textContent?ot=rt.attributes.textContent:rt.value&&(ot=rt.value);else return;if(ot!==null&&et.push({str:ot}),!!rt.children)for(const yt of rt.children)ct(yt)}return ct(tt),nt}static shouldBuildText(tt){return!(tt==="textarea"||tt==="input"||tt==="option"||tt==="select")}}j.XfaText=$},(_,j,$)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.TextLayerRenderTask=void 0,j.renderTextLayer=kt,j.updateTextLayer=At;var _e=$(1),tt=$(6);const et=1e5,nt=30,ct=.8,rt=new Map;function ot(at,lt){let dt;if(lt&&_e.FeatureTest.isOffscreenCanvasSupported)dt=new OffscreenCanvas(at,at).getContext("2d",{alpha:!1});else{const wt=document.createElement("canvas");wt.width=wt.height=at,dt=wt.getContext("2d",{alpha:!1})}return dt}function st(at,lt){const dt=rt.get(at);if(dt)return dt;const wt=ot(nt,lt);wt.font=`${nt}px ${at}`;const ut=wt.measureText("");let Et=ut.fontBoundingBoxAscent,ft=Math.abs(ut.fontBoundingBoxDescent);if(Et){const xt=Et/(Et+ft);return rt.set(at,xt),wt.canvas.width=wt.canvas.height=0,xt}wt.strokeStyle="red",wt.clearRect(0,0,nt,nt),wt.strokeText("g",0,0);let St=wt.getImageData(0,0,nt,nt).data;ft=0;for(let xt=St.length-1-3;xt>=0;xt-=4)if(St[xt]>0){ft=Math.ceil(xt/4/nt);break}wt.clearRect(0,0,nt,nt),wt.strokeText("A",0,nt),St=wt.getImageData(0,0,nt,nt).data,Et=0;for(let xt=0,Dt=St.length;xt<Dt;xt+=4)if(St[xt]>0){Et=nt-Math.floor(xt/4/nt);break}if(wt.canvas.width=wt.canvas.height=0,Et){const xt=Et/(Et+ft);return rt.set(at,xt),xt}return rt.set(at,ct),ct}function _t(at,lt,dt){const wt=document.createElement("span"),ut={angle:0,canvasWidth:0,hasText:lt.str!=="",hasEOL:lt.hasEOL,fontSize:0};at._textDivs.push(wt);const Et=_e.Util.transform(at._transform,lt.transform);let ft=Math.atan2(Et[1],Et[0]);const St=dt[lt.fontName];St.vertical&&(ft+=Math.PI/2);const xt=Math.hypot(Et[2],Et[3]),Dt=xt*st(St.fontFamily,at._isOffscreenCanvasSupported);let bt,Ft;ft===0?(bt=Et[4],Ft=Et[5]-Dt):(bt=Et[4]+Dt*Math.sin(ft),Ft=Et[5]-Dt*Math.cos(ft));const $t="calc(var(--scale-factor)*",gn=wt.style;at._container===at._rootContainer?(gn.left=`${(100*bt/at._pageWidth).toFixed(2)}%`,gn.top=`${(100*Ft/at._pageHeight).toFixed(2)}%`):(gn.left=`${$t}${bt.toFixed(2)}px)`,gn.top=`${$t}${Ft.toFixed(2)}px)`),gn.fontSize=`${$t}${xt.toFixed(2)}px)`,gn.fontFamily=St.fontFamily,ut.fontSize=xt,wt.setAttribute("role","presentation"),wt.textContent=lt.str,wt.dir=lt.dir,at._fontInspectorEnabled&&(wt.dataset.fontName=lt.fontName),ft!==0&&(ut.angle=ft*(180/Math.PI));let Yt=!1;if(lt.str.length>1)Yt=!0;else if(lt.str!==" "&&lt.transform[0]!==lt.transform[3]){const rn=Math.abs(lt.transform[0]),Xt=Math.abs(lt.transform[3]);rn!==Xt&&Math.max(rn,Xt)/Math.min(rn,Xt)>1.5&&(Yt=!0)}Yt&&(ut.canvasWidth=St.vertical?lt.height:lt.width),at._textDivProperties.set(wt,ut),at._isReadableStream&&at._layoutText(wt)}function yt(at){const{div:lt,scale:dt,properties:wt,ctx:ut,prevFontSize:Et,prevFontFamily:ft}=at,{style:St}=lt;let xt="";if(wt.canvasWidth!==0&&wt.hasText){const{fontFamily:Dt}=St,{canvasWidth:bt,fontSize:Ft}=wt;(Et!==Ft||ft!==Dt)&&(ut.font=`${Ft*dt}px ${Dt}`,at.prevFontSize=Ft,at.prevFontFamily=Dt);const{width:$t}=ut.measureText(lt.textContent);$t>0&&(xt=`scaleX(${bt*dt/$t})`)}wt.angle!==0&&(xt=`rotate(${wt.angle}deg) ${xt}`),xt.length>0&&(St.transform=xt)}function gt(at){if(at._canceled)return;const lt=at._textDivs,dt=at._capability;if(lt.length>et){dt.resolve();return}if(!at._isReadableStream)for(const ut of lt)at._layoutText(ut);dt.resolve()}class pt{constructor({textContentSource:lt,container:dt,viewport:wt,textDivs:ut,textDivProperties:Et,textContentItemsStr:ft,isOffscreenCanvasSupported:St}){var $t;this._textContentSource=lt,this._isReadableStream=lt instanceof ReadableStream,this._container=this._rootContainer=dt,this._textDivs=ut||[],this._textContentItemsStr=ft||[],this._isOffscreenCanvasSupported=St,this._fontInspectorEnabled=!!(($t=globalThis.FontInspector)!=null&&$t.enabled),this._reader=null,this._textDivProperties=Et||new WeakMap,this._canceled=!1,this._capability=new _e.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:wt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ot(0,St)};const{pageWidth:xt,pageHeight:Dt,pageX:bt,pageY:Ft}=wt.rawDims;this._transform=[1,0,0,-1,-bt,Ft+Dt],this._pageWidth=xt,this._pageHeight=Dt,(0,tt.setLayerDimensions)(dt,wt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new _e.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new _e.AbortException("TextLayer task cancelled."))}_processItems(lt,dt){for(const wt of lt){if(wt.str===void 0){if(wt.type==="beginMarkedContentProps"||wt.type==="beginMarkedContent"){const ut=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),wt.id!==null&&this._container.setAttribute("id",`${wt.id}`),ut.append(this._container)}else wt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(wt.str),_t(this,wt,dt)}}_layoutText(lt){const dt=this._layoutTextParams.properties=this._textDivProperties.get(lt);if(this._layoutTextParams.div=lt,yt(this._layoutTextParams),dt.hasText&&this._container.append(lt),dt.hasEOL){const wt=document.createElement("br");wt.setAttribute("role","presentation"),this._container.append(wt)}}_render(){const lt=new _e.PromiseCapability;let dt=Object.create(null);if(this._isReadableStream){const wt=()=>{this._reader.read().then(({value:ut,done:Et})=>{if(Et){lt.resolve();return}Object.assign(dt,ut.styles),this._processItems(ut.items,dt),wt()},lt.reject)};this._reader=this._textContentSource.getReader(),wt()}else if(this._textContentSource){const{items:wt,styles:ut}=this._textContentSource;this._processItems(wt,ut),lt.resolve()}else throw new Error('No "textContentSource" parameter specified.');lt.promise.then(()=>{dt=null,gt(this)},this._capability.reject)}}j.TextLayerRenderTask=pt;function kt(at){!at.textContentSource&&(at.textContent||at.textContentStream)&&((0,tt.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),at.textContentSource=at.textContent||at.textContentStream);const{container:lt,viewport:dt}=at,wt=getComputedStyle(lt),ut=wt.getPropertyValue("visibility"),Et=parseFloat(wt.getPropertyValue("--scale-factor"));ut==="visible"&&(!Et||Math.abs(Et-dt.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const ft=new pt(at);return ft._render(),ft}function At({container:at,viewport:lt,textDivs:dt,textDivProperties:wt,isOffscreenCanvasSupported:ut,mustRotate:Et=!0,mustRescale:ft=!0}){if(Et&&(0,tt.setLayerDimensions)(at,{rotation:lt.rotation}),ft){const St=ot(0,ut),Dt={prevFontSize:null,prevFontFamily:null,div:null,scale:lt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:St};for(const bt of dt)Dt.properties=wt.get(bt),Dt.div=bt,yt(Dt)}}},(_,j,$)=>{var st,_t,yt,gt,pt,kt,At,at,lt,dt,wt,No,Zs,jo,$o;Object.defineProperty(j,"__esModule",{value:!0}),j.AnnotationEditorLayer=void 0;var _e=$(1),tt=$(4),et=$(28),nt=$(33),ct=$(6),rt=$(34);const xt=class xt{constructor({uiManager:bt,pageIndex:Ft,div:$t,accessibilityManager:gn,annotationLayer:Yt,viewport:rn,l10n:Xt}){pn(this,wt);pn(this,st);pn(this,_t,!1);pn(this,yt,null);pn(this,gt,this.pointerup.bind(this));pn(this,pt,this.pointerdown.bind(this));pn(this,kt,new Map);pn(this,At,!1);pn(this,at,!1);pn(this,lt,!1);pn(this,dt);const Gt=[et.FreeTextEditor,nt.InkEditor,rt.StampEditor];if(!xt._initialized){xt._initialized=!0;for(const Tt of Gt)Tt.initialize(Xt)}bt.registerEditorTypes(Gt),mn(this,dt,bt),this.pageIndex=Ft,this.div=$t,mn(this,st,gn),mn(this,yt,Yt),this.viewport=rn,it(this,dt).addLayer(this)}get isEmpty(){return it(this,kt).size===0}updateToolbar(bt){it(this,dt).updateToolbar(bt)}updateMode(bt=it(this,dt).getMode()){en(this,wt,$o).call(this),bt===_e.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),bt!==_e.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",bt===_e.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",bt===_e.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",bt===_e.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(bt){if(!bt&&it(this,dt).getMode()!==_e.AnnotationEditorType.INK)return;if(!bt){for(const $t of it(this,kt).values())if($t.isEmpty()){$t.setInBackground();return}}en(this,wt,Zs).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(bt){it(this,dt).setEditingState(bt)}addCommands(bt){it(this,dt).addCommands(bt)}enable(){this.div.style.pointerEvents="auto";const bt=new Set;for(const $t of it(this,kt).values())$t.enableEditing(),$t.annotationElementId&&bt.add($t.annotationElementId);if(!it(this,yt))return;const Ft=it(this,yt).getEditableAnnotations();for(const $t of Ft){if($t.hide(),it(this,dt).isDeletedAnnotationElement($t.data.id)||bt.has($t.data.id))continue;const gn=this.deserialize($t);gn&&(this.addOrRebuild(gn),gn.enableEditing())}}disable(){var Ft;mn(this,lt,!0),this.div.style.pointerEvents="none";const bt=new Set;for(const $t of it(this,kt).values()){if($t.disableEditing(),!$t.annotationElementId||$t.serialize()!==null){bt.add($t.annotationElementId);continue}(Ft=this.getEditableAnnotation($t.annotationElementId))==null||Ft.show(),$t.remove()}if(it(this,yt)){const $t=it(this,yt).getEditableAnnotations();for(const gn of $t){const{id:Yt}=gn.data;bt.has(Yt)||it(this,dt).isDeletedAnnotationElement(Yt)||gn.show()}}en(this,wt,$o).call(this),this.isEmpty&&(this.div.hidden=!0),mn(this,lt,!1)}getEditableAnnotation(bt){var Ft;return((Ft=it(this,yt))==null?void 0:Ft.getEditableAnnotation(bt))||null}setActiveEditor(bt){it(this,dt).getActive()!==bt&&it(this,dt).setActiveEditor(bt)}enableClick(){this.div.addEventListener("pointerdown",it(this,pt)),this.div.addEventListener("pointerup",it(this,gt))}disableClick(){this.div.removeEventListener("pointerdown",it(this,pt)),this.div.removeEventListener("pointerup",it(this,gt))}attach(bt){it(this,kt).set(bt.id,bt);const{annotationElementId:Ft}=bt;Ft&&it(this,dt).isDeletedAnnotationElement(Ft)&&it(this,dt).removeDeletedAnnotationElement(bt)}detach(bt){var Ft;it(this,kt).delete(bt.id),(Ft=it(this,st))==null||Ft.removePointerInTextLayer(bt.contentDiv),!it(this,lt)&&bt.annotationElementId&&it(this,dt).addDeletedAnnotationElement(bt)}remove(bt){this.detach(bt),it(this,dt).removeEditor(bt),bt.div.contains(document.activeElement)&&setTimeout(()=>{it(this,dt).focusMainContainer()},0),bt.div.remove(),bt.isAttachedToDOM=!1,it(this,at)||this.addInkEditorIfNeeded(!1)}changeParent(bt){var Ft;bt.parent!==this&&(bt.annotationElementId&&(it(this,dt).addDeletedAnnotationElement(bt.annotationElementId),tt.AnnotationEditor.deleteAnnotationElement(bt),bt.annotationElementId=null),this.attach(bt),(Ft=bt.parent)==null||Ft.detach(bt),bt.setParent(this),bt.div&&bt.isAttachedToDOM&&(bt.div.remove(),this.div.append(bt.div)))}add(bt){if(this.changeParent(bt),it(this,dt).addEditor(bt),this.attach(bt),!bt.isAttachedToDOM){const Ft=bt.render();this.div.append(Ft),bt.isAttachedToDOM=!0}bt.fixAndSetPosition(),bt.onceAdded(),it(this,dt).addToAnnotationStorage(bt)}moveEditorInDOM(bt){var $t;if(!bt.isAttachedToDOM)return;const{activeElement:Ft}=document;bt.div.contains(Ft)&&(bt._focusEventsAllowed=!1,setTimeout(()=>{bt.div.contains(document.activeElement)?bt._focusEventsAllowed=!0:(bt.div.addEventListener("focusin",()=>{bt._focusEventsAllowed=!0},{once:!0}),Ft.focus())},0)),bt._structTreeParentId=($t=it(this,st))==null?void 0:$t.moveElementInDOM(this.div,bt.div,bt.contentDiv,!0)}addOrRebuild(bt){bt.needsToBeRebuilt()?bt.rebuild():this.add(bt)}addUndoableEditor(bt){const Ft=()=>bt._uiManager.rebuild(bt),$t=()=>{bt.remove()};this.addCommands({cmd:Ft,undo:$t,mustExec:!1})}getNextId(){return it(this,dt).getId()}pasteEditor(bt,Ft){it(this,dt).updateToolbar(bt),it(this,dt).updateMode(bt);const{offsetX:$t,offsetY:gn}=en(this,wt,jo).call(this),Yt=this.getNextId(),rn=en(this,wt,No).call(this,{parent:this,id:Yt,x:$t,y:gn,uiManager:it(this,dt),isCentered:!0,...Ft});rn&&this.add(rn)}deserialize(bt){switch(bt.annotationType??bt.annotationEditorType){case _e.AnnotationEditorType.FREETEXT:return et.FreeTextEditor.deserialize(bt,this,it(this,dt));case _e.AnnotationEditorType.INK:return nt.InkEditor.deserialize(bt,this,it(this,dt));case _e.AnnotationEditorType.STAMP:return rt.StampEditor.deserialize(bt,this,it(this,dt))}return null}addNewEditor(){en(this,wt,Zs).call(this,en(this,wt,jo).call(this),!0)}setSelected(bt){it(this,dt).setSelected(bt)}toggleSelected(bt){it(this,dt).toggleSelected(bt)}isSelected(bt){return it(this,dt).isSelected(bt)}unselect(bt){it(this,dt).unselect(bt)}pointerup(bt){const{isMac:Ft}=_e.FeatureTest.platform;if(!(bt.button!==0||bt.ctrlKey&&Ft)&&bt.target===this.div&&it(this,At)){if(mn(this,At,!1),!it(this,_t)){mn(this,_t,!0);return}if(it(this,dt).getMode()===_e.AnnotationEditorType.STAMP){it(this,dt).unselectAll();return}en(this,wt,Zs).call(this,bt,!1)}}pointerdown(bt){if(it(this,At)){mn(this,At,!1);return}const{isMac:Ft}=_e.FeatureTest.platform;if(bt.button!==0||bt.ctrlKey&&Ft||bt.target!==this.div)return;mn(this,At,!0);const $t=it(this,dt).getActive();mn(this,_t,!$t||$t.isEmpty())}findNewParent(bt,Ft,$t){const gn=it(this,dt).findParent(Ft,$t);return gn===null||gn===this?!1:(gn.changeParent(bt),!0)}destroy(){var bt,Ft;((bt=it(this,dt).getActive())==null?void 0:bt.parent)===this&&(it(this,dt).commitOrRemove(),it(this,dt).setActiveEditor(null));for(const $t of it(this,kt).values())(Ft=it(this,st))==null||Ft.removePointerInTextLayer($t.contentDiv),$t.setParent(null),$t.isAttachedToDOM=!1,$t.div.remove();this.div=null,it(this,kt).clear(),it(this,dt).removeLayer(this)}render({viewport:bt}){this.viewport=bt,(0,ct.setLayerDimensions)(this.div,bt);for(const Ft of it(this,dt).getEditors(this.pageIndex))this.add(Ft);this.updateMode()}update({viewport:bt}){it(this,dt).commitOrRemove(),this.viewport=bt,(0,ct.setLayerDimensions)(this.div,{rotation:bt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:bt,pageHeight:Ft}=this.viewport.rawDims;return[bt,Ft]}};st=new WeakMap,_t=new WeakMap,yt=new WeakMap,gt=new WeakMap,pt=new WeakMap,kt=new WeakMap,At=new WeakMap,at=new WeakMap,lt=new WeakMap,dt=new WeakMap,wt=new WeakSet,No=function(bt){switch(it(this,dt).getMode()){case _e.AnnotationEditorType.FREETEXT:return new et.FreeTextEditor(bt);case _e.AnnotationEditorType.INK:return new nt.InkEditor(bt);case _e.AnnotationEditorType.STAMP:return new rt.StampEditor(bt)}return null},Zs=function(bt,Ft){const $t=this.getNextId(),gn=en(this,wt,No).call(this,{parent:this,id:$t,x:bt.offsetX,y:bt.offsetY,uiManager:it(this,dt),isCentered:Ft});return gn&&this.add(gn),gn},jo=function(){const{x:bt,y:Ft,width:$t,height:gn}=this.div.getBoundingClientRect(),Yt=Math.max(0,bt),rn=Math.max(0,Ft),Xt=Math.min(window.innerWidth,bt+$t),Gt=Math.min(window.innerHeight,Ft+gn),Tt=(Yt+Xt)/2-bt,Ht=(rn+Gt)/2-Ft,[Jt,Mt]=this.viewport.rotation%180===0?[Tt,Ht]:[Ht,Tt];return{offsetX:Jt,offsetY:Mt}},$o=function(){mn(this,at,!0);for(const bt of it(this,kt).values())bt.isEmpty()&&bt.remove();mn(this,at,!1)},Hr(xt,"_initialized",!1);let ot=xt;j.AnnotationEditorLayer=ot},(_,j,$)=>{var rt,ot,st,_t,yt,gt,pt,kt,At,at,Jl,_c,eu,Is,zo,tu,Bo;Object.defineProperty(j,"__esModule",{value:!0}),j.FreeTextEditor=void 0;var _e=$(1),tt=$(5),et=$(4),nt=$(29);const xt=class xt extends et.AnnotationEditor{constructor(Ft){super({...Ft,name:"freeTextEditor"});pn(this,at);pn(this,rt,this.editorDivBlur.bind(this));pn(this,ot,this.editorDivFocus.bind(this));pn(this,st,this.editorDivInput.bind(this));pn(this,_t,this.editorDivKeydown.bind(this));pn(this,yt);pn(this,gt,"");pn(this,pt,`${this.id}-editor`);pn(this,kt);pn(this,At,null);mn(this,yt,Ft.color||xt._defaultColor||et.AnnotationEditor._defaultLineColor),mn(this,kt,Ft.fontSize||xt._defaultFontSize)}static get _keyboardManager(){const Ft=xt.prototype,$t=rn=>rn.isEmpty(),gn=tt.AnnotationEditorUIManager.TRANSLATE_SMALL,Yt=tt.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,_e.shadow)(this,"_keyboardManager",new tt.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Ft.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Ft.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Ft._translateEmpty,{args:[-gn,0],checker:$t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Ft._translateEmpty,{args:[-Yt,0],checker:$t}],[["ArrowRight","mac+ArrowRight"],Ft._translateEmpty,{args:[gn,0],checker:$t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Ft._translateEmpty,{args:[Yt,0],checker:$t}],[["ArrowUp","mac+ArrowUp"],Ft._translateEmpty,{args:[0,-gn],checker:$t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Ft._translateEmpty,{args:[0,-Yt],checker:$t}],[["ArrowDown","mac+ArrowDown"],Ft._translateEmpty,{args:[0,gn],checker:$t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Ft._translateEmpty,{args:[0,Yt],checker:$t}]]))}static initialize(Ft){et.AnnotationEditor.initialize(Ft,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const $t=getComputedStyle(document.documentElement);this._internalPadding=parseFloat($t.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Ft,$t){switch(Ft){case _e.AnnotationEditorParamsType.FREETEXT_SIZE:xt._defaultFontSize=$t;break;case _e.AnnotationEditorParamsType.FREETEXT_COLOR:xt._defaultColor=$t;break}}updateParams(Ft,$t){switch(Ft){case _e.AnnotationEditorParamsType.FREETEXT_SIZE:en(this,at,Jl).call(this,$t);break;case _e.AnnotationEditorParamsType.FREETEXT_COLOR:en(this,at,_c).call(this,$t);break}}static get defaultPropertiesToUpdate(){return[[_e.AnnotationEditorParamsType.FREETEXT_SIZE,xt._defaultFontSize],[_e.AnnotationEditorParamsType.FREETEXT_COLOR,xt._defaultColor||et.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[_e.AnnotationEditorParamsType.FREETEXT_SIZE,it(this,kt)],[_e.AnnotationEditorParamsType.FREETEXT_COLOR,it(this,yt)]]}_translateEmpty(Ft,$t){this._uiManager.translateSelectedEditors(Ft,$t,!0)}getInitialTranslation(){const Ft=this.parentScale;return[-xt._internalPadding*Ft,-(xt._internalPadding+it(this,kt))*Ft]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(_e.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",it(this,_t)),this.editorDiv.addEventListener("focus",it(this,ot)),this.editorDiv.addEventListener("blur",it(this,rt)),this.editorDiv.addEventListener("input",it(this,st)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",it(this,pt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",it(this,_t)),this.editorDiv.removeEventListener("focus",it(this,ot)),this.editorDiv.removeEventListener("blur",it(this,rt)),this.editorDiv.removeEventListener("input",it(this,st)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Ft){this._focusEventsAllowed&&(super.focusin(Ft),Ft.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Ft;if(this.width){en(this,at,Bo).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Ft=this._initialOptions)!=null&&Ft.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Ft=it(this,gt),$t=mn(this,gt,en(this,at,eu).call(this).trimEnd());if(Ft===$t)return;const gn=Yt=>{if(mn(this,gt,Yt),!Yt){this.remove();return}en(this,at,zo).call(this),this._uiManager.rebuild(this),en(this,at,Is).call(this)};this.addCommands({cmd:()=>{gn($t)},undo:()=>{gn(Ft)},mustExec:!1}),en(this,at,Is).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Ft){this.enterInEditMode()}keydown(Ft){Ft.target===this.div&&Ft.key==="Enter"&&(this.enterInEditMode(),Ft.preventDefault())}editorDivKeydown(Ft){xt._keyboardManager.exec(this,Ft)}editorDivFocus(Ft){this.isEditing=!0}editorDivBlur(Ft){this.isEditing=!1}editorDivInput(Ft){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Ft,$t;this.width&&(Ft=this.x,$t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",it(this,pt)),this.enableEditing(),et.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Yt=>{var rn;return(rn=this.editorDiv)==null?void 0:rn.setAttribute("aria-label",Yt)}),et.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Yt=>{var rn;return(rn=this.editorDiv)==null?void 0:rn.setAttribute("default-content",Yt)}),this.editorDiv.contentEditable=!0;const{style:gn}=this.editorDiv;if(gn.fontSize=`calc(${it(this,kt)}px * var(--scale-factor))`,gn.color=it(this,yt),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,tt.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Yt,rn]=this.parentDimensions;if(this.annotationElementId){const{position:Xt}=it(this,At);let[Gt,Tt]=this.getInitialTranslation();[Gt,Tt]=this.pageTranslationToScreen(Gt,Tt);const[Ht,Jt]=this.pageDimensions,[Mt,mt]=this.pageTranslation;let vt,Pt;switch(this.rotation){case 0:vt=Ft+(Xt[0]-Mt)/Ht,Pt=$t+this.height-(Xt[1]-mt)/Jt;break;case 90:vt=Ft+(Xt[0]-Mt)/Ht,Pt=$t-(Xt[1]-mt)/Jt,[Gt,Tt]=[Tt,-Gt];break;case 180:vt=Ft-this.width+(Xt[0]-Mt)/Ht,Pt=$t-(Xt[1]-mt)/Jt,[Gt,Tt]=[-Gt,-Tt];break;case 270:vt=Ft+(Xt[0]-Mt-this.height*Jt)/Ht,Pt=$t+(Xt[1]-mt-this.width*Ht)/Jt,[Gt,Tt]=[-Tt,Gt];break}this.setAt(vt*Yt,Pt*rn,Gt,Tt)}else this.setAt(Ft*Yt,$t*rn,this.width*Yt,this.height*rn);en(this,at,zo).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Ft,$t,gn){let Yt=null;if(Ft instanceof nt.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Xt,fontColor:Gt},rect:Tt,rotation:Ht,id:Jt},textContent:Mt,textPosition:mt,parent:{page:{pageNumber:vt}}}=Ft;if(!Mt||Mt.length===0)return null;Yt=Ft={annotationType:_e.AnnotationEditorType.FREETEXT,color:Array.from(Gt),fontSize:Xt,value:Mt.join(`
`),position:mt,pageIndex:vt-1,rect:Tt,rotation:Ht,id:Jt,deleted:!1}}const rn=super.deserialize(Ft,$t,gn);return mn(rn,kt,Ft.fontSize),mn(rn,yt,_e.Util.makeHexColor(...Ft.color)),mn(rn,gt,Ft.value),rn.annotationElementId=Ft.id||null,mn(rn,At,Yt),rn}serialize(Ft=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const $t=xt._internalPadding*this.parentScale,gn=this.getRect($t,$t),Yt=et.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:it(this,yt)),rn={annotationType:_e.AnnotationEditorType.FREETEXT,color:Yt,fontSize:it(this,kt),value:it(this,gt),pageIndex:this.pageIndex,rect:gn,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Ft?rn:this.annotationElementId&&!en(this,at,tu).call(this,rn)?null:(rn.id=this.annotationElementId,rn)}};rt=new WeakMap,ot=new WeakMap,st=new WeakMap,_t=new WeakMap,yt=new WeakMap,gt=new WeakMap,pt=new WeakMap,kt=new WeakMap,At=new WeakMap,at=new WeakSet,Jl=function(Ft){const $t=Yt=>{this.editorDiv.style.fontSize=`calc(${Yt}px * var(--scale-factor))`,this.translate(0,-(Yt-it(this,kt))*this.parentScale),mn(this,kt,Yt),en(this,at,Is).call(this)},gn=it(this,kt);this.addCommands({cmd:()=>{$t(Ft)},undo:()=>{$t(gn)},mustExec:!0,type:_e.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},_c=function(Ft){const $t=it(this,yt);this.addCommands({cmd:()=>{mn(this,yt,this.editorDiv.style.color=Ft)},undo:()=>{mn(this,yt,this.editorDiv.style.color=$t)},mustExec:!0,type:_e.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},eu=function(){const Ft=this.editorDiv.getElementsByTagName("div");if(Ft.length===0)return this.editorDiv.innerText;const $t=[];for(const gn of Ft)$t.push(gn.innerText.replace(/\r\n?|\n/,""));return $t.join(`
`)},Is=function(){const[Ft,$t]=this.parentDimensions;let gn;if(this.isAttachedToDOM)gn=this.div.getBoundingClientRect();else{const{currentLayer:Yt,div:rn}=this,Xt=rn.style.display;rn.style.display="hidden",Yt.div.append(this.div),gn=rn.getBoundingClientRect(),rn.remove(),rn.style.display=Xt}this.rotation%180===this.parentRotation%180?(this.width=gn.width/Ft,this.height=gn.height/$t):(this.width=gn.height/Ft,this.height=gn.width/$t),this.fixAndSetPosition()},zo=function(){if(this.editorDiv.replaceChildren(),!!it(this,gt))for(const Ft of it(this,gt).split(`
`)){const $t=document.createElement("div");$t.append(Ft?document.createTextNode(Ft):document.createElement("br")),this.editorDiv.append($t)}},tu=function(Ft){const{value:$t,fontSize:gn,color:Yt,rect:rn,pageIndex:Xt}=it(this,At);return Ft.value!==$t||Ft.fontSize!==gn||Ft.rect.some((Gt,Tt)=>Math.abs(Gt-rn[Tt])>=1)||Ft.color.some((Gt,Tt)=>Gt!==Yt[Tt])||Ft.pageIndex!==Xt},Bo=function(Ft=!1){if(!this.annotationElementId)return;if(en(this,at,Is).call(this),!Ft&&(this.width===0||this.height===0)){setTimeout(()=>en(this,at,Bo).call(this,!0),0);return}const $t=xt._internalPadding*this.parentScale;it(this,At).rect=this.getRect($t,$t)},Hr(xt,"_freeTextDefaultContent",""),Hr(xt,"_internalPadding",0),Hr(xt,"_defaultColor",null),Hr(xt,"_defaultFontSize",10),Hr(xt,"_type","freetext");let ct=xt;j.FreeTextEditor=ct},(_,j,$)=>{var Pt,jt,_s,nu,vn,En,Sn,An,Pn,Rn,cn,dn,Rt,zt,nn,hn,wn,Tn,kn,tn,$n,In,ru,Js,Uo,Ho,er,vr,Mr,xn,an,on,Vn,Vo,ir,Bt,bn,jn,iu,Wo;Object.defineProperty(j,"__esModule",{value:!0}),j.StampAnnotationElement=j.InkAnnotationElement=j.FreeTextAnnotationElement=j.AnnotationLayer=void 0;var _e=$(1),tt=$(6),et=$(3),nt=$(30),ct=$(31),rt=$(32);const ot=1e3,st=9,_t=new WeakSet;function yt(Hn){return{width:Hn[2]-Hn[0],height:Hn[3]-Hn[1]}}class gt{static create(Ot){switch(Ot.data.annotationType){case _e.AnnotationType.LINK:return new kt(Ot);case _e.AnnotationType.TEXT:return new At(Ot);case _e.AnnotationType.WIDGET:switch(Ot.data.fieldType){case"Tx":return new lt(Ot);case"Btn":return Ot.data.radioButton?new ut(Ot):Ot.data.checkBox?new wt(Ot):new Et(Ot);case"Ch":return new ft(Ot);case"Sig":return new dt(Ot)}return new at(Ot);case _e.AnnotationType.POPUP:return new St(Ot);case _e.AnnotationType.FREETEXT:return new Dt(Ot);case _e.AnnotationType.LINE:return new bt(Ot);case _e.AnnotationType.SQUARE:return new Ft(Ot);case _e.AnnotationType.CIRCLE:return new $t(Ot);case _e.AnnotationType.POLYLINE:return new gn(Ot);case _e.AnnotationType.CARET:return new rn(Ot);case _e.AnnotationType.INK:return new Xt(Ot);case _e.AnnotationType.POLYGON:return new Yt(Ot);case _e.AnnotationType.HIGHLIGHT:return new Gt(Ot);case _e.AnnotationType.UNDERLINE:return new Tt(Ot);case _e.AnnotationType.SQUIGGLY:return new Ht(Ot);case _e.AnnotationType.STRIKEOUT:return new Jt(Ot);case _e.AnnotationType.STAMP:return new Mt(Ot);case _e.AnnotationType.FILEATTACHMENT:return new mt(Ot);default:return new pt(Ot)}}}const It=class It{constructor(Ot,{isRenderable:Lt=!1,ignoreBorder:Kt=!1,createQuadrilaterals:yn=!1}={}){pn(this,Pt,!1);this.isRenderable=Lt,this.data=Ot.data,this.layer=Ot.layer,this.linkService=Ot.linkService,this.downloadManager=Ot.downloadManager,this.imageResourcesPath=Ot.imageResourcesPath,this.renderForms=Ot.renderForms,this.svgFactory=Ot.svgFactory,this.annotationStorage=Ot.annotationStorage,this.enableScripting=Ot.enableScripting,this.hasJSActions=Ot.hasJSActions,this._fieldObjects=Ot.fieldObjects,this.parent=Ot.parent,Lt&&(this.container=this._createContainer(Kt)),yn&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Ot,contentsObj:Lt,richText:Kt}){return!!(Ot!=null&&Ot.str||Lt!=null&&Lt.str||Kt!=null&&Kt.str)}get hasPopupData(){return It._hasPopupData(this.data)}_createContainer(Ot){const{data:Lt,parent:{page:Kt,viewport:yn}}=this,_n=document.createElement("section");_n.setAttribute("data-annotation-id",Lt.id),this instanceof at||(_n.tabIndex=ot),_n.style.zIndex=this.parent.zIndex++,this.data.popupRef&&_n.setAttribute("aria-haspopup","dialog"),Lt.noRotate&&_n.classList.add("norotate");const{pageWidth:Cn,pageHeight:Dn,pageX:Kn,pageY:Gn}=yn.rawDims;if(!Lt.rect||this instanceof St){const{rotation:cr}=Lt;return!Lt.hasOwnCanvas&&cr!==0&&this.setRotation(cr,_n),_n}const{width:Bn,height:gr}=yt(Lt.rect),Xn=_e.Util.normalizeRect([Lt.rect[0],Kt.view[3]-Lt.rect[1]+Kt.view[1],Lt.rect[2],Kt.view[3]-Lt.rect[3]+Kt.view[1]]);if(!Ot&&Lt.borderStyle.width>0){_n.style.borderWidth=`${Lt.borderStyle.width}px`;const cr=Lt.borderStyle.horizontalCornerRadius,Er=Lt.borderStyle.verticalCornerRadius;if(cr>0||Er>0){const Nr=`calc(${cr}px * var(--scale-factor)) / calc(${Er}px * var(--scale-factor))`;_n.style.borderRadius=Nr}else if(this instanceof ut){const Nr=`calc(${Bn}px * var(--scale-factor)) / calc(${gr}px * var(--scale-factor))`;_n.style.borderRadius=Nr}switch(Lt.borderStyle.style){case _e.AnnotationBorderStyleType.SOLID:_n.style.borderStyle="solid";break;case _e.AnnotationBorderStyleType.DASHED:_n.style.borderStyle="dashed";break;case _e.AnnotationBorderStyleType.BEVELED:(0,_e.warn)("Unimplemented border style: beveled");break;case _e.AnnotationBorderStyleType.INSET:(0,_e.warn)("Unimplemented border style: inset");break;case _e.AnnotationBorderStyleType.UNDERLINE:_n.style.borderBottomStyle="solid";break}const Pr=Lt.borderColor||null;Pr?(mn(this,Pt,!0),_n.style.borderColor=_e.Util.makeHexColor(Pr[0]|0,Pr[1]|0,Pr[2]|0)):_n.style.borderWidth=0}_n.style.left=`${100*(Xn[0]-Kn)/Cn}%`,_n.style.top=`${100*(Xn[1]-Gn)/Dn}%`;const{rotation:Jn}=Lt;return Lt.hasOwnCanvas||Jn===0?(_n.style.width=`${100*Bn/Cn}%`,_n.style.height=`${100*gr/Dn}%`):this.setRotation(Jn,_n),_n}setRotation(Ot,Lt=this.container){if(!this.data.rect)return;const{pageWidth:Kt,pageHeight:yn}=this.parent.viewport.rawDims,{width:_n,height:Cn}=yt(this.data.rect);let Dn,Kn;Ot%180===0?(Dn=100*_n/Kt,Kn=100*Cn/yn):(Dn=100*Cn/Kt,Kn=100*_n/yn),Lt.style.width=`${Dn}%`,Lt.style.height=`${Kn}%`,Lt.setAttribute("data-main-rotation",(360-Ot)%360)}get _commonActions(){const Ot=(Lt,Kt,yn)=>{const _n=yn.detail[Lt],Cn=_n[0],Dn=_n.slice(1);yn.target.style[Kt]=nt.ColorConverters[`${Cn}_HTML`](Dn),this.annotationStorage.setValue(this.data.id,{[Kt]:nt.ColorConverters[`${Cn}_rgb`](Dn)})};return(0,_e.shadow)(this,"_commonActions",{display:Lt=>{const{display:Kt}=Lt.detail,yn=Kt%2===1;this.container.style.visibility=yn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:yn,noPrint:Kt===1||Kt===2})},print:Lt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Lt.detail.print})},hidden:Lt=>{const{hidden:Kt}=Lt.detail;this.container.style.visibility=Kt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Kt,noView:Kt})},focus:Lt=>{setTimeout(()=>Lt.target.focus({preventScroll:!1}),0)},userName:Lt=>{Lt.target.title=Lt.detail.userName},readonly:Lt=>{Lt.target.disabled=Lt.detail.readonly},required:Lt=>{this._setRequired(Lt.target,Lt.detail.required)},bgColor:Lt=>{Ot("bgColor","backgroundColor",Lt)},fillColor:Lt=>{Ot("fillColor","backgroundColor",Lt)},fgColor:Lt=>{Ot("fgColor","color",Lt)},textColor:Lt=>{Ot("textColor","color",Lt)},borderColor:Lt=>{Ot("borderColor","borderColor",Lt)},strokeColor:Lt=>{Ot("strokeColor","borderColor",Lt)},rotation:Lt=>{const Kt=Lt.detail.rotation;this.setRotation(Kt),this.annotationStorage.setValue(this.data.id,{rotation:Kt})}})}_dispatchEventFromSandbox(Ot,Lt){const Kt=this._commonActions;for(const yn of Object.keys(Lt.detail)){const _n=Ot[yn]||Kt[yn];_n==null||_n(Lt)}}_setDefaultPropertiesFromJS(Ot){if(!this.enableScripting)return;const Lt=this.annotationStorage.getRawValue(this.data.id);if(!Lt)return;const Kt=this._commonActions;for(const[yn,_n]of Object.entries(Lt)){const Cn=Kt[yn];if(Cn){const Dn={detail:{[yn]:_n},target:Ot};Cn(Dn),delete Lt[yn]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Ot}=this.data;if(!Ot)return;const[Lt,Kt,yn,_n]=this.data.rect;if(Ot.length===1){const[,{x:Er,y:Pr},{x:Nr,y:na}]=Ot[0];if(yn===Er&&_n===Pr&&Lt===Nr&&Kt===na)return}const{style:Cn}=this.container;let Dn;if(it(this,Pt)){const{borderColor:Er,borderWidth:Pr}=Cn;Cn.borderWidth=0,Dn=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Er}" stroke-width="${Pr}">`],this.container.classList.add("hasBorder")}const Kn=yn-Lt,Gn=_n-Kt,{svgFactory:Bn}=this,gr=Bn.createElement("svg");gr.classList.add("quadrilateralsContainer"),gr.setAttribute("width",0),gr.setAttribute("height",0);const Xn=Bn.createElement("defs");gr.append(Xn);const Jn=Bn.createElement("clipPath"),cr=`clippath_${this.data.id}`;Jn.setAttribute("id",cr),Jn.setAttribute("clipPathUnits","objectBoundingBox"),Xn.append(Jn);for(const[,{x:Er,y:Pr},{x:Nr,y:na}]of Ot){const Yr=Bn.createElement("rect"),as=(Nr-Lt)/Kn,os=(_n-Pr)/Gn,ls=(Er-Nr)/Kn,js=(Pr-na)/Gn;Yr.setAttribute("x",as),Yr.setAttribute("y",os),Yr.setAttribute("width",ls),Yr.setAttribute("height",js),Jn.append(Yr),Dn==null||Dn.push(`<rect vector-effect="non-scaling-stroke" x="${as}" y="${os}" width="${ls}" height="${js}"/>`)}it(this,Pt)&&(Dn.push("</g></svg>')"),Cn.backgroundImage=Dn.join("")),this.container.append(gr),this.container.style.clipPath=`url(#${cr})`}_createPopup(){const{container:Ot,data:Lt}=this;Ot.setAttribute("aria-haspopup","dialog");const Kt=new St({data:{color:Lt.color,titleObj:Lt.titleObj,modificationDate:Lt.modificationDate,contentsObj:Lt.contentsObj,richText:Lt.richText,parentRect:Lt.rect,borderStyle:0,id:`popup_${Lt.id}`,rotation:Lt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Kt.render())}render(){(0,_e.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Ot,Lt=null){const Kt=[];if(this._fieldObjects){const yn=this._fieldObjects[Ot];if(yn)for(const{page:_n,id:Cn,exportValues:Dn}of yn){if(_n===-1||Cn===Lt)continue;const Kn=typeof Dn=="string"?Dn:null,Gn=document.querySelector(`[data-element-id="${Cn}"]`);if(Gn&&!_t.has(Gn)){(0,_e.warn)(`_getElementsByName - element not allowed: ${Cn}`);continue}Kt.push({id:Cn,exportValue:Kn,domElement:Gn})}return Kt}for(const yn of document.getElementsByName(Ot)){const{exportValue:_n}=yn,Cn=yn.getAttribute("data-element-id");Cn!==Lt&&_t.has(yn)&&Kt.push({id:Cn,exportValue:_n,domElement:yn})}return Kt}show(){var Ot;this.container&&(this.container.hidden=!1),(Ot=this.popup)==null||Ot.maybeShow()}hide(){var Ot;this.container&&(this.container.hidden=!0),(Ot=this.popup)==null||Ot.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Ot=this.getElementsToTriggerPopup();if(Array.isArray(Ot))for(const Lt of Ot)Lt.classList.add("highlightArea");else Ot.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Ot,data:{id:Lt}}=this;this.container.addEventListener("dblclick",()=>{var Kt;(Kt=this.linkService.eventBus)==null||Kt.dispatch("switchannotationeditormode",{source:this,mode:Ot,editId:Lt})})}};Pt=new WeakMap;let pt=It;class kt extends pt{constructor(Lt,Kt=null){super(Lt,{isRenderable:!0,ignoreBorder:!!(Kt!=null&&Kt.ignoreBorder),createQuadrilaterals:!0});pn(this,jt);this.isTooltipOnly=Lt.data.isTooltipOnly}render(){const{data:Lt,linkService:Kt}=this,yn=document.createElement("a");yn.setAttribute("data-element-id",Lt.id);let _n=!1;return Lt.url?(Kt.addLinkAttributes(yn,Lt.url,Lt.newWindow),_n=!0):Lt.action?(this._bindNamedAction(yn,Lt.action),_n=!0):Lt.attachment?(this._bindAttachment(yn,Lt.attachment),_n=!0):Lt.setOCGState?(en(this,jt,nu).call(this,yn,Lt.setOCGState),_n=!0):Lt.dest?(this._bindLink(yn,Lt.dest),_n=!0):(Lt.actions&&(Lt.actions.Action||Lt.actions["Mouse Up"]||Lt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(yn,Lt),_n=!0),Lt.resetForm?(this._bindResetFormAction(yn,Lt.resetForm),_n=!0):this.isTooltipOnly&&!_n&&(this._bindLink(yn,""),_n=!0)),this.container.classList.add("linkAnnotation"),_n&&this.container.append(yn),this.container}_bindLink(Lt,Kt){Lt.href=this.linkService.getDestinationHash(Kt),Lt.onclick=()=>(Kt&&this.linkService.goToDestination(Kt),!1),(Kt||Kt==="")&&en(this,jt,_s).call(this)}_bindNamedAction(Lt,Kt){Lt.href=this.linkService.getAnchorUrl(""),Lt.onclick=()=>(this.linkService.executeNamedAction(Kt),!1),en(this,jt,_s).call(this)}_bindAttachment(Lt,Kt){Lt.href=this.linkService.getAnchorUrl(""),Lt.onclick=()=>{var yn;return(yn=this.downloadManager)==null||yn.openOrDownloadData(this.container,Kt.content,Kt.filename),!1},en(this,jt,_s).call(this)}_bindJSAction(Lt,Kt){Lt.href=this.linkService.getAnchorUrl("");const yn=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const _n of Object.keys(Kt.actions)){const Cn=yn.get(_n);Cn&&(Lt[Cn]=()=>{var Dn;return(Dn=this.linkService.eventBus)==null||Dn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Kt.id,name:_n}}),!1})}Lt.onclick||(Lt.onclick=()=>!1),en(this,jt,_s).call(this)}_bindResetFormAction(Lt,Kt){const yn=Lt.onclick;if(yn||(Lt.href=this.linkService.getAnchorUrl("")),en(this,jt,_s).call(this),!this._fieldObjects){(0,_e.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),yn||(Lt.onclick=()=>!1);return}Lt.onclick=()=>{var gr;yn==null||yn();const{fields:_n,refs:Cn,include:Dn}=Kt,Kn=[];if(_n.length!==0||Cn.length!==0){const Xn=new Set(Cn);for(const Jn of _n){const cr=this._fieldObjects[Jn]||[];for(const{id:Er}of cr)Xn.add(Er)}for(const Jn of Object.values(this._fieldObjects))for(const cr of Jn)Xn.has(cr.id)===Dn&&Kn.push(cr)}else for(const Xn of Object.values(this._fieldObjects))Kn.push(...Xn);const Gn=this.annotationStorage,Bn=[];for(const Xn of Kn){const{id:Jn}=Xn;switch(Bn.push(Jn),Xn.type){case"text":{const Er=Xn.defaultValue||"";Gn.setValue(Jn,{value:Er});break}case"checkbox":case"radiobutton":{const Er=Xn.defaultValue===Xn.exportValues;Gn.setValue(Jn,{value:Er});break}case"combobox":case"listbox":{const Er=Xn.defaultValue||"";Gn.setValue(Jn,{value:Er});break}default:continue}const cr=document.querySelector(`[data-element-id="${Jn}"]`);if(cr){if(!_t.has(cr)){(0,_e.warn)(`_bindResetFormAction - element not allowed: ${Jn}`);continue}}else continue;cr.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((gr=this.linkService.eventBus)==null||gr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Bn,name:"ResetForm"}})),!1}}}jt=new WeakSet,_s=function(){this.container.setAttribute("data-internal-link","")},nu=function(Lt,Kt){Lt.href=this.linkService.getAnchorUrl(""),Lt.onclick=()=>(this.linkService.executeSetOCGState(Kt),!1),en(this,jt,_s).call(this)};class At extends pt{constructor(Ot){super(Ot,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Ot=document.createElement("img");return Ot.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Ot.alt="[{{type}} Annotation]",Ot.dataset.l10nId="text_annotation_type",Ot.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Ot),this.container}}class at extends pt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Ot){var Lt;this.data.hasOwnCanvas&&(((Lt=Ot.previousSibling)==null?void 0:Lt.nodeName)==="CANVAS"&&(Ot.previousSibling.hidden=!0),Ot.hidden=!1)}_getKeyModifier(Ot){const{isWin:Lt,isMac:Kt}=_e.FeatureTest.platform;return Lt&&Ot.ctrlKey||Kt&&Ot.metaKey}_setEventListener(Ot,Lt,Kt,yn,_n){Kt.includes("mouse")?Ot.addEventListener(Kt,Cn=>{var Dn;(Dn=this.linkService.eventBus)==null||Dn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:yn,value:_n(Cn),shift:Cn.shiftKey,modifier:this._getKeyModifier(Cn)}})}):Ot.addEventListener(Kt,Cn=>{var Dn;if(Kt==="blur"){if(!Lt.focused||!Cn.relatedTarget)return;Lt.focused=!1}else if(Kt==="focus"){if(Lt.focused)return;Lt.focused=!0}_n&&((Dn=this.linkService.eventBus)==null||Dn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:yn,value:_n(Cn)}}))})}_setEventListeners(Ot,Lt,Kt,yn){var _n,Cn,Dn;for(const[Kn,Gn]of Kt)(Gn==="Action"||(_n=this.data.actions)!=null&&_n[Gn])&&((Gn==="Focus"||Gn==="Blur")&&(Lt||(Lt={focused:!1})),this._setEventListener(Ot,Lt,Kn,Gn,yn),Gn==="Focus"&&!((Cn=this.data.actions)!=null&&Cn.Blur)?this._setEventListener(Ot,Lt,"blur","Blur",null):Gn==="Blur"&&!((Dn=this.data.actions)!=null&&Dn.Focus)&&this._setEventListener(Ot,Lt,"focus","Focus",null))}_setBackgroundColor(Ot){const Lt=this.data.backgroundColor||null;Ot.style.backgroundColor=Lt===null?"transparent":_e.Util.makeHexColor(Lt[0],Lt[1],Lt[2])}_setTextStyle(Ot){const Lt=["left","center","right"],{fontColor:Kt}=this.data.defaultAppearanceData,yn=this.data.defaultAppearanceData.fontSize||st,_n=Ot.style;let Cn;const Dn=2,Kn=Gn=>Math.round(10*Gn)/10;if(this.data.multiLine){const Gn=Math.abs(this.data.rect[3]-this.data.rect[1]-Dn),Bn=Math.round(Gn/(_e.LINE_FACTOR*yn))||1,gr=Gn/Bn;Cn=Math.min(yn,Kn(gr/_e.LINE_FACTOR))}else{const Gn=Math.abs(this.data.rect[3]-this.data.rect[1]-Dn);Cn=Math.min(yn,Kn(Gn/_e.LINE_FACTOR))}_n.fontSize=`calc(${Cn}px * var(--scale-factor))`,_n.color=_e.Util.makeHexColor(Kt[0],Kt[1],Kt[2]),this.data.textAlignment!==null&&(_n.textAlign=Lt[this.data.textAlignment])}_setRequired(Ot,Lt){Lt?Ot.setAttribute("required",!0):Ot.removeAttribute("required"),Ot.setAttribute("aria-required",Lt)}}class lt extends at{constructor(Ot){const Lt=Ot.renderForms||!Ot.data.hasAppearance&&!!Ot.data.fieldValue;super(Ot,{isRenderable:Lt})}setPropertyOnSiblings(Ot,Lt,Kt,yn){const _n=this.annotationStorage;for(const Cn of this._getElementsByName(Ot.name,Ot.id))Cn.domElement&&(Cn.domElement[Lt]=Kt),_n.setValue(Cn.id,{[yn]:Kt})}render(){var yn,_n;const Ot=this.annotationStorage,Lt=this.data.id;this.container.classList.add("textWidgetAnnotation");let Kt=null;if(this.renderForms){const Cn=Ot.getValue(Lt,{value:this.data.fieldValue});let Dn=Cn.value||"";const Kn=Ot.getValue(Lt,{charLimit:this.data.maxLen}).charLimit;Kn&&Dn.length>Kn&&(Dn=Dn.slice(0,Kn));let Gn=Cn.formattedValue||((yn=this.data.textContent)==null?void 0:yn.join(`
`))||null;Gn&&this.data.comb&&(Gn=Gn.replaceAll(/\s+/g,""));const Bn={userValue:Dn,formattedValue:Gn,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Kt=document.createElement("textarea"),Kt.textContent=Gn??Dn,this.data.doNotScroll&&(Kt.style.overflowY="hidden")):(Kt=document.createElement("input"),Kt.type="text",Kt.setAttribute("value",Gn??Dn),this.data.doNotScroll&&(Kt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Kt.hidden=!0),_t.add(Kt),Kt.setAttribute("data-element-id",Lt),Kt.disabled=this.data.readOnly,Kt.name=this.data.fieldName,Kt.tabIndex=ot,this._setRequired(Kt,this.data.required),Kn&&(Kt.maxLength=Kn),Kt.addEventListener("input",Xn=>{Ot.setValue(Lt,{value:Xn.target.value}),this.setPropertyOnSiblings(Kt,"value",Xn.target.value,"value"),Bn.formattedValue=null}),Kt.addEventListener("resetform",Xn=>{const Jn=this.data.defaultFieldValue??"";Kt.value=Bn.userValue=Jn,Bn.formattedValue=null});let gr=Xn=>{const{formattedValue:Jn}=Bn;Jn!=null&&(Xn.target.value=Jn),Xn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Kt.addEventListener("focus",Jn=>{if(Bn.focused)return;const{target:cr}=Jn;Bn.userValue&&(cr.value=Bn.userValue),Bn.lastCommittedValue=cr.value,Bn.commitKey=1,Bn.focused=!0}),Kt.addEventListener("updatefromsandbox",Jn=>{this.showElementAndHideCanvas(Jn.target);const cr={value(Er){Bn.userValue=Er.detail.value??"",Ot.setValue(Lt,{value:Bn.userValue.toString()}),Er.target.value=Bn.userValue},formattedValue(Er){const{formattedValue:Pr}=Er.detail;Bn.formattedValue=Pr,Pr!=null&&Er.target!==document.activeElement&&(Er.target.value=Pr),Ot.setValue(Lt,{formattedValue:Pr})},selRange(Er){Er.target.setSelectionRange(...Er.detail.selRange)},charLimit:Er=>{var Yr;const{charLimit:Pr}=Er.detail,{target:Nr}=Er;if(Pr===0){Nr.removeAttribute("maxLength");return}Nr.setAttribute("maxLength",Pr);let na=Bn.userValue;!na||na.length<=Pr||(na=na.slice(0,Pr),Nr.value=Bn.userValue=na,Ot.setValue(Lt,{value:na}),(Yr=this.linkService.eventBus)==null||Yr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Lt,name:"Keystroke",value:na,willCommit:!0,commitKey:1,selStart:Nr.selectionStart,selEnd:Nr.selectionEnd}}))}};this._dispatchEventFromSandbox(cr,Jn)}),Kt.addEventListener("keydown",Jn=>{var Pr;Bn.commitKey=1;let cr=-1;if(Jn.key==="Escape"?cr=0:Jn.key==="Enter"&&!this.data.multiLine?cr=2:Jn.key==="Tab"&&(Bn.commitKey=3),cr===-1)return;const{value:Er}=Jn.target;Bn.lastCommittedValue!==Er&&(Bn.lastCommittedValue=Er,Bn.userValue=Er,(Pr=this.linkService.eventBus)==null||Pr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Lt,name:"Keystroke",value:Er,willCommit:!0,commitKey:cr,selStart:Jn.target.selectionStart,selEnd:Jn.target.selectionEnd}}))});const Xn=gr;gr=null,Kt.addEventListener("blur",Jn=>{var Er;if(!Bn.focused||!Jn.relatedTarget)return;Bn.focused=!1;const{value:cr}=Jn.target;Bn.userValue=cr,Bn.lastCommittedValue!==cr&&((Er=this.linkService.eventBus)==null||Er.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Lt,name:"Keystroke",value:cr,willCommit:!0,commitKey:Bn.commitKey,selStart:Jn.target.selectionStart,selEnd:Jn.target.selectionEnd}})),Xn(Jn)}),(_n=this.data.actions)!=null&&_n.Keystroke&&Kt.addEventListener("beforeinput",Jn=>{var os;Bn.lastCommittedValue=null;const{data:cr,target:Er}=Jn,{value:Pr,selectionStart:Nr,selectionEnd:na}=Er;let Yr=Nr,as=na;switch(Jn.inputType){case"deleteWordBackward":{const ls=Pr.substring(0,Nr).match(/\w*[^\w]*$/);ls&&(Yr-=ls[0].length);break}case"deleteWordForward":{const ls=Pr.substring(Nr).match(/^[^\w]*\w*/);ls&&(as+=ls[0].length);break}case"deleteContentBackward":Nr===na&&(Yr-=1);break;case"deleteContentForward":Nr===na&&(as+=1);break}Jn.preventDefault(),(os=this.linkService.eventBus)==null||os.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Lt,name:"Keystroke",value:Pr,change:cr||"",willCommit:!1,selStart:Yr,selEnd:as}})}),this._setEventListeners(Kt,Bn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Jn=>Jn.target.value)}if(gr&&Kt.addEventListener("blur",gr),this.data.comb){const Jn=(this.data.rect[2]-this.data.rect[0])/Kn;Kt.classList.add("comb"),Kt.style.letterSpacing=`calc(${Jn}px * var(--scale-factor) - 1ch)`}}else Kt=document.createElement("div"),Kt.textContent=this.data.fieldValue,Kt.style.verticalAlign="middle",Kt.style.display="table-cell";return this._setTextStyle(Kt),this._setBackgroundColor(Kt),this._setDefaultPropertiesFromJS(Kt),this.container.append(Kt),this.container}}class dt extends at{constructor(Ot){super(Ot,{isRenderable:!!Ot.data.hasOwnCanvas})}}class wt extends at{constructor(Ot){super(Ot,{isRenderable:Ot.renderForms})}render(){const Ot=this.annotationStorage,Lt=this.data,Kt=Lt.id;let yn=Ot.getValue(Kt,{value:Lt.exportValue===Lt.fieldValue}).value;typeof yn=="string"&&(yn=yn!=="Off",Ot.setValue(Kt,{value:yn})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const _n=document.createElement("input");return _t.add(_n),_n.setAttribute("data-element-id",Kt),_n.disabled=Lt.readOnly,this._setRequired(_n,this.data.required),_n.type="checkbox",_n.name=Lt.fieldName,yn&&_n.setAttribute("checked",!0),_n.setAttribute("exportValue",Lt.exportValue),_n.tabIndex=ot,_n.addEventListener("change",Cn=>{const{name:Dn,checked:Kn}=Cn.target;for(const Gn of this._getElementsByName(Dn,Kt)){const Bn=Kn&&Gn.exportValue===Lt.exportValue;Gn.domElement&&(Gn.domElement.checked=Bn),Ot.setValue(Gn.id,{value:Bn})}Ot.setValue(Kt,{value:Kn})}),_n.addEventListener("resetform",Cn=>{const Dn=Lt.defaultFieldValue||"Off";Cn.target.checked=Dn===Lt.exportValue}),this.enableScripting&&this.hasJSActions&&(_n.addEventListener("updatefromsandbox",Cn=>{const Dn={value(Kn){Kn.target.checked=Kn.detail.value!=="Off",Ot.setValue(Kt,{value:Kn.target.checked})}};this._dispatchEventFromSandbox(Dn,Cn)}),this._setEventListeners(_n,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Cn=>Cn.target.checked)),this._setBackgroundColor(_n),this._setDefaultPropertiesFromJS(_n),this.container.append(_n),this.container}}class ut extends at{constructor(Ot){super(Ot,{isRenderable:Ot.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Ot=this.annotationStorage,Lt=this.data,Kt=Lt.id;let yn=Ot.getValue(Kt,{value:Lt.fieldValue===Lt.buttonValue}).value;typeof yn=="string"&&(yn=yn!==Lt.buttonValue,Ot.setValue(Kt,{value:yn}));const _n=document.createElement("input");if(_t.add(_n),_n.setAttribute("data-element-id",Kt),_n.disabled=Lt.readOnly,this._setRequired(_n,this.data.required),_n.type="radio",_n.name=Lt.fieldName,yn&&_n.setAttribute("checked",!0),_n.tabIndex=ot,_n.addEventListener("change",Cn=>{const{name:Dn,checked:Kn}=Cn.target;for(const Gn of this._getElementsByName(Dn,Kt))Ot.setValue(Gn.id,{value:!1});Ot.setValue(Kt,{value:Kn})}),_n.addEventListener("resetform",Cn=>{const Dn=Lt.defaultFieldValue;Cn.target.checked=Dn!=null&&Dn===Lt.buttonValue}),this.enableScripting&&this.hasJSActions){const Cn=Lt.buttonValue;_n.addEventListener("updatefromsandbox",Dn=>{const Kn={value:Gn=>{const Bn=Cn===Gn.detail.value;for(const gr of this._getElementsByName(Gn.target.name)){const Xn=Bn&&gr.id===Kt;gr.domElement&&(gr.domElement.checked=Xn),Ot.setValue(gr.id,{value:Xn})}}};this._dispatchEventFromSandbox(Kn,Dn)}),this._setEventListeners(_n,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Dn=>Dn.target.checked)}return this._setBackgroundColor(_n),this._setDefaultPropertiesFromJS(_n),this.container.append(_n),this.container}}class Et extends kt{constructor(Ot){super(Ot,{ignoreBorder:Ot.data.hasAppearance})}render(){const Ot=super.render();Ot.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Ot.title=this.data.alternativeText);const Lt=Ot.lastChild;return this.enableScripting&&this.hasJSActions&&Lt&&(this._setDefaultPropertiesFromJS(Lt),Lt.addEventListener("updatefromsandbox",Kt=>{this._dispatchEventFromSandbox({},Kt)})),Ot}}class ft extends at{constructor(Ot){super(Ot,{isRenderable:Ot.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Ot=this.annotationStorage,Lt=this.data.id,Kt=Ot.getValue(Lt,{value:this.data.fieldValue}),yn=document.createElement("select");_t.add(yn),yn.setAttribute("data-element-id",Lt),yn.disabled=this.data.readOnly,this._setRequired(yn,this.data.required),yn.name=this.data.fieldName,yn.tabIndex=ot;let _n=this.data.combo&&this.data.options.length>0;this.data.combo||(yn.size=this.data.options.length,this.data.multiSelect&&(yn.multiple=!0)),yn.addEventListener("resetform",Bn=>{const gr=this.data.defaultFieldValue;for(const Xn of yn.options)Xn.selected=Xn.value===gr});for(const Bn of this.data.options){const gr=document.createElement("option");gr.textContent=Bn.displayValue,gr.value=Bn.exportValue,Kt.value.includes(Bn.exportValue)&&(gr.setAttribute("selected",!0),_n=!1),yn.append(gr)}let Cn=null;if(_n){const Bn=document.createElement("option");Bn.value=" ",Bn.setAttribute("hidden",!0),Bn.setAttribute("selected",!0),yn.prepend(Bn),Cn=()=>{Bn.remove(),yn.removeEventListener("input",Cn),Cn=null},yn.addEventListener("input",Cn)}const Dn=Bn=>{const gr=Bn?"value":"textContent",{options:Xn,multiple:Jn}=yn;return Jn?Array.prototype.filter.call(Xn,cr=>cr.selected).map(cr=>cr[gr]):Xn.selectedIndex===-1?null:Xn[Xn.selectedIndex][gr]};let Kn=Dn(!1);const Gn=Bn=>{const gr=Bn.target.options;return Array.prototype.map.call(gr,Xn=>({displayValue:Xn.textContent,exportValue:Xn.value}))};return this.enableScripting&&this.hasJSActions?(yn.addEventListener("updatefromsandbox",Bn=>{const gr={value(Xn){Cn==null||Cn();const Jn=Xn.detail.value,cr=new Set(Array.isArray(Jn)?Jn:[Jn]);for(const Er of yn.options)Er.selected=cr.has(Er.value);Ot.setValue(Lt,{value:Dn(!0)}),Kn=Dn(!1)},multipleSelection(Xn){yn.multiple=!0},remove(Xn){const Jn=yn.options,cr=Xn.detail.remove;Jn[cr].selected=!1,yn.remove(cr),Jn.length>0&&Array.prototype.findIndex.call(Jn,Pr=>Pr.selected)===-1&&(Jn[0].selected=!0),Ot.setValue(Lt,{value:Dn(!0),items:Gn(Xn)}),Kn=Dn(!1)},clear(Xn){for(;yn.length!==0;)yn.remove(0);Ot.setValue(Lt,{value:null,items:[]}),Kn=Dn(!1)},insert(Xn){const{index:Jn,displayValue:cr,exportValue:Er}=Xn.detail.insert,Pr=yn.children[Jn],Nr=document.createElement("option");Nr.textContent=cr,Nr.value=Er,Pr?Pr.before(Nr):yn.append(Nr),Ot.setValue(Lt,{value:Dn(!0),items:Gn(Xn)}),Kn=Dn(!1)},items(Xn){const{items:Jn}=Xn.detail;for(;yn.length!==0;)yn.remove(0);for(const cr of Jn){const{displayValue:Er,exportValue:Pr}=cr,Nr=document.createElement("option");Nr.textContent=Er,Nr.value=Pr,yn.append(Nr)}yn.options.length>0&&(yn.options[0].selected=!0),Ot.setValue(Lt,{value:Dn(!0),items:Gn(Xn)}),Kn=Dn(!1)},indices(Xn){const Jn=new Set(Xn.detail.indices);for(const cr of Xn.target.options)cr.selected=Jn.has(cr.index);Ot.setValue(Lt,{value:Dn(!0)}),Kn=Dn(!1)},editable(Xn){Xn.target.disabled=!Xn.detail.editable}};this._dispatchEventFromSandbox(gr,Bn)}),yn.addEventListener("input",Bn=>{var Xn;const gr=Dn(!0);Ot.setValue(Lt,{value:gr}),Bn.preventDefault(),(Xn=this.linkService.eventBus)==null||Xn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Lt,name:"Keystroke",value:Kn,changeEx:gr,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(yn,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Bn=>Bn.target.value)):yn.addEventListener("input",function(Bn){Ot.setValue(Lt,{value:Dn(!0)})}),this.data.combo&&this._setTextStyle(yn),this._setBackgroundColor(yn),this._setDefaultPropertiesFromJS(yn),this.container.append(yn),this.container}}class St extends pt{constructor(Ot){const{data:Lt,elements:Kt}=Ot;super(Ot,{isRenderable:pt._hasPopupData(Lt)}),this.elements=Kt}render(){this.container.classList.add("popupAnnotation");const Ot=new xt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Lt=[];for(const Kt of this.elements)Kt.popup=Ot,Lt.push(Kt.data.id),Kt.addHighlightArea();return this.container.setAttribute("aria-controls",Lt.map(Kt=>`${_e.AnnotationPrefix}${Kt}`).join(",")),this.container}}class xt{constructor({container:Ot,color:Lt,elements:Kt,titleObj:yn,modificationDate:_n,contentsObj:Cn,richText:Dn,parent:Kn,rect:Gn,parentRect:Bn,open:gr}){pn(this,In);pn(this,vn,null);pn(this,En,en(this,In,ru).bind(this));pn(this,Sn,en(this,In,Ho).bind(this));pn(this,An,en(this,In,Uo).bind(this));pn(this,Pn,en(this,In,Js).bind(this));pn(this,Rn,null);pn(this,cn,null);pn(this,dn,null);pn(this,Rt,null);pn(this,zt,null);pn(this,nn,null);pn(this,hn,!1);pn(this,wn,null);pn(this,Tn,null);pn(this,kn,null);pn(this,tn,null);pn(this,$n,!1);var Jn;mn(this,cn,Ot),mn(this,tn,yn),mn(this,dn,Cn),mn(this,kn,Dn),mn(this,zt,Kn),mn(this,Rn,Lt),mn(this,Tn,Gn),mn(this,nn,Bn),mn(this,Rt,Kt);const Xn=tt.PDFDateString.toDateObject(_n);Xn&&mn(this,vn,Kn.l10n.get("annotation_date_string",{date:Xn.toLocaleDateString(),time:Xn.toLocaleTimeString()})),this.trigger=Kt.flatMap(cr=>cr.getElementsToTriggerPopup());for(const cr of this.trigger)cr.addEventListener("click",it(this,Pn)),cr.addEventListener("mouseenter",it(this,An)),cr.addEventListener("mouseleave",it(this,Sn)),cr.classList.add("popupTriggerArea");for(const cr of Kt)(Jn=cr.container)==null||Jn.addEventListener("keydown",it(this,En));it(this,cn).hidden=!0,gr&&en(this,In,Js).call(this)}render(){if(it(this,wn))return;const{page:{view:Ot},viewport:{rawDims:{pageWidth:Lt,pageHeight:Kt,pageX:yn,pageY:_n}}}=it(this,zt),Cn=mn(this,wn,document.createElement("div"));if(Cn.className="popup",it(this,Rn)){const Yr=Cn.style.outlineColor=_e.Util.makeHexColor(...it(this,Rn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Cn.style.backgroundColor=`color-mix(in srgb, ${Yr} 30%, white)`:Cn.style.backgroundColor=_e.Util.makeHexColor(...it(this,Rn).map(os=>Math.floor(.7*(255-os)+os)))}const Dn=document.createElement("span");Dn.className="header";const Kn=document.createElement("h1");if(Dn.append(Kn),{dir:Kn.dir,str:Kn.textContent}=it(this,tn),Cn.append(Dn),it(this,vn)){const Yr=document.createElement("span");Yr.classList.add("popupDate"),it(this,vn).then(as=>{Yr.textContent=as}),Dn.append(Yr)}const Gn=it(this,dn),Bn=it(this,kn);if(Bn!=null&&Bn.str&&(!(Gn!=null&&Gn.str)||Gn.str===Bn.str))rt.XfaLayer.render({xfaHtml:Bn.html,intent:"richText",div:Cn}),Cn.lastChild.classList.add("richText","popupContent");else{const Yr=this._formatContents(Gn);Cn.append(Yr)}let gr=!!it(this,nn),Xn=gr?it(this,nn):it(this,Tn);for(const Yr of it(this,Rt))if(!Xn||_e.Util.intersect(Yr.data.rect,Xn)!==null){Xn=Yr.data.rect,gr=!0;break}const Jn=_e.Util.normalizeRect([Xn[0],Ot[3]-Xn[1]+Ot[1],Xn[2],Ot[3]-Xn[3]+Ot[1]]),Er=gr?Xn[2]-Xn[0]+5:0,Pr=Jn[0]+Er,Nr=Jn[1],{style:na}=it(this,cn);na.left=`${100*(Pr-yn)/Lt}%`,na.top=`${100*(Nr-_n)/Kt}%`,it(this,cn).append(Cn)}_formatContents({str:Ot,dir:Lt}){const Kt=document.createElement("p");Kt.classList.add("popupContent"),Kt.dir=Lt;const yn=Ot.split(/(?:\r\n?|\n)/);for(let _n=0,Cn=yn.length;_n<Cn;++_n){const Dn=yn[_n];Kt.append(document.createTextNode(Dn)),_n<Cn-1&&Kt.append(document.createElement("br"))}return Kt}forceHide(){mn(this,$n,this.isVisible),it(this,$n)&&(it(this,cn).hidden=!0)}maybeShow(){it(this,$n)&&(mn(this,$n,!1),it(this,cn).hidden=!1)}get isVisible(){return it(this,cn).hidden===!1}}vn=new WeakMap,En=new WeakMap,Sn=new WeakMap,An=new WeakMap,Pn=new WeakMap,Rn=new WeakMap,cn=new WeakMap,dn=new WeakMap,Rt=new WeakMap,zt=new WeakMap,nn=new WeakMap,hn=new WeakMap,wn=new WeakMap,Tn=new WeakMap,kn=new WeakMap,tn=new WeakMap,$n=new WeakMap,In=new WeakSet,ru=function(Ot){Ot.altKey||Ot.shiftKey||Ot.ctrlKey||Ot.metaKey||(Ot.key==="Enter"||Ot.key==="Escape"&&it(this,hn))&&en(this,In,Js).call(this)},Js=function(){mn(this,hn,!it(this,hn)),it(this,hn)?(en(this,In,Uo).call(this),it(this,cn).addEventListener("click",it(this,Pn)),it(this,cn).addEventListener("keydown",it(this,En))):(en(this,In,Ho).call(this),it(this,cn).removeEventListener("click",it(this,Pn)),it(this,cn).removeEventListener("keydown",it(this,En)))},Uo=function(){it(this,wn)||this.render(),this.isVisible?it(this,hn)&&it(this,cn).classList.add("focused"):(it(this,cn).hidden=!1,it(this,cn).style.zIndex=parseInt(it(this,cn).style.zIndex)+1e3)},Ho=function(){it(this,cn).classList.remove("focused"),!(it(this,hn)||!this.isVisible)&&(it(this,cn).hidden=!0,it(this,cn).style.zIndex=parseInt(it(this,cn).style.zIndex)-1e3)};class Dt extends pt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Ot.data.textContent,this.textPosition=Ot.data.textPosition,this.annotationEditorType=_e.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Ot=document.createElement("div");Ot.classList.add("annotationTextContent"),Ot.setAttribute("role","comment");for(const Lt of this.textContent){const Kt=document.createElement("span");Kt.textContent=Lt,Ot.append(Kt)}this.container.append(Ot)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}j.FreeTextAnnotationElement=Dt;class bt extends pt{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0});pn(this,er,null)}render(){this.container.classList.add("lineAnnotation");const Lt=this.data,{width:Kt,height:yn}=yt(Lt.rect),_n=this.svgFactory.create(Kt,yn,!0),Cn=mn(this,er,this.svgFactory.createElement("svg:line"));return Cn.setAttribute("x1",Lt.rect[2]-Lt.lineCoordinates[0]),Cn.setAttribute("y1",Lt.rect[3]-Lt.lineCoordinates[1]),Cn.setAttribute("x2",Lt.rect[2]-Lt.lineCoordinates[2]),Cn.setAttribute("y2",Lt.rect[3]-Lt.lineCoordinates[3]),Cn.setAttribute("stroke-width",Lt.borderStyle.width||1),Cn.setAttribute("stroke","transparent"),Cn.setAttribute("fill","transparent"),_n.append(Cn),this.container.append(_n),!Lt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return it(this,er)}addHighlightArea(){this.container.classList.add("highlightArea")}}er=new WeakMap;class Ft extends pt{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0});pn(this,vr,null)}render(){this.container.classList.add("squareAnnotation");const Lt=this.data,{width:Kt,height:yn}=yt(Lt.rect),_n=this.svgFactory.create(Kt,yn,!0),Cn=Lt.borderStyle.width,Dn=mn(this,vr,this.svgFactory.createElement("svg:rect"));return Dn.setAttribute("x",Cn/2),Dn.setAttribute("y",Cn/2),Dn.setAttribute("width",Kt-Cn),Dn.setAttribute("height",yn-Cn),Dn.setAttribute("stroke-width",Cn||1),Dn.setAttribute("stroke","transparent"),Dn.setAttribute("fill","transparent"),_n.append(Dn),this.container.append(_n),!Lt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return it(this,vr)}addHighlightArea(){this.container.classList.add("highlightArea")}}vr=new WeakMap;class $t extends pt{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0});pn(this,Mr,null)}render(){this.container.classList.add("circleAnnotation");const Lt=this.data,{width:Kt,height:yn}=yt(Lt.rect),_n=this.svgFactory.create(Kt,yn,!0),Cn=Lt.borderStyle.width,Dn=mn(this,Mr,this.svgFactory.createElement("svg:ellipse"));return Dn.setAttribute("cx",Kt/2),Dn.setAttribute("cy",yn/2),Dn.setAttribute("rx",Kt/2-Cn/2),Dn.setAttribute("ry",yn/2-Cn/2),Dn.setAttribute("stroke-width",Cn||1),Dn.setAttribute("stroke","transparent"),Dn.setAttribute("fill","transparent"),_n.append(Dn),this.container.append(_n),!Lt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return it(this,Mr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Mr=new WeakMap;class gn extends pt{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0});pn(this,xn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Lt=this.data,{width:Kt,height:yn}=yt(Lt.rect),_n=this.svgFactory.create(Kt,yn,!0);let Cn=[];for(const Kn of Lt.vertices){const Gn=Kn.x-Lt.rect[0],Bn=Lt.rect[3]-Kn.y;Cn.push(Gn+","+Bn)}Cn=Cn.join(" ");const Dn=mn(this,xn,this.svgFactory.createElement(this.svgElementName));return Dn.setAttribute("points",Cn),Dn.setAttribute("stroke-width",Lt.borderStyle.width||1),Dn.setAttribute("stroke","transparent"),Dn.setAttribute("fill","transparent"),_n.append(Dn),this.container.append(_n),!Lt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return it(this,xn)}addHighlightArea(){this.container.classList.add("highlightArea")}}xn=new WeakMap;class Yt extends gn{constructor(Ot){super(Ot),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class rn extends pt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Xt extends pt{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0});pn(this,an,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=_e.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Lt=this.data,{width:Kt,height:yn}=yt(Lt.rect),_n=this.svgFactory.create(Kt,yn,!0);for(const Cn of Lt.inkLists){let Dn=[];for(const Gn of Cn){const Bn=Gn.x-Lt.rect[0],gr=Lt.rect[3]-Gn.y;Dn.push(`${Bn},${gr}`)}Dn=Dn.join(" ");const Kn=this.svgFactory.createElement(this.svgElementName);it(this,an).push(Kn),Kn.setAttribute("points",Dn),Kn.setAttribute("stroke-width",Lt.borderStyle.width||1),Kn.setAttribute("stroke","transparent"),Kn.setAttribute("fill","transparent"),!Lt.popupRef&&this.hasPopupData&&this._createPopup(),_n.append(Kn)}return this.container.append(_n),this.container}getElementsToTriggerPopup(){return it(this,an)}addHighlightArea(){this.container.classList.add("highlightArea")}}an=new WeakMap,j.InkAnnotationElement=Xt;class Gt extends pt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Tt extends pt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Ht extends pt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Jt extends pt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Mt extends pt{constructor(Ot){super(Ot,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}j.StampAnnotationElement=Mt;class mt extends pt{constructor(Lt){var _n;super(Lt,{isRenderable:!0});pn(this,Vn);pn(this,on,null);const{filename:Kt,content:yn}=this.data.file;this.filename=(0,tt.getFilenameFromUrl)(Kt,!0),this.content=yn,(_n=this.linkService.eventBus)==null||_n.dispatch("fileattachmentannotation",{source:this,filename:Kt,content:yn})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Lt,data:Kt}=this;let yn;Kt.hasAppearance||Kt.fillAlpha===0?yn=document.createElement("div"):(yn=document.createElement("img"),yn.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Kt.name)?"paperclip":"pushpin"}.svg`,Kt.fillAlpha&&Kt.fillAlpha<1&&(yn.style=`filter: opacity(${Math.round(Kt.fillAlpha*100)}%);`)),yn.addEventListener("dblclick",en(this,Vn,Vo).bind(this)),mn(this,on,yn);const{isMac:_n}=_e.FeatureTest.platform;return Lt.addEventListener("keydown",Cn=>{Cn.key==="Enter"&&(_n?Cn.metaKey:Cn.ctrlKey)&&en(this,Vn,Vo).call(this)}),!Kt.popupRef&&this.hasPopupData?this._createPopup():yn.classList.add("popupTriggerArea"),Lt.append(yn),Lt}getElementsToTriggerPopup(){return it(this,on)}addHighlightArea(){this.container.classList.add("highlightArea")}}on=new WeakMap,Vn=new WeakSet,Vo=function(){var Lt;(Lt=this.downloadManager)==null||Lt.openOrDownloadData(this.container,this.content,this.filename)};class vt{constructor({div:Ot,accessibilityManager:Lt,annotationCanvasMap:Kt,l10n:yn,page:_n,viewport:Cn}){pn(this,jn);pn(this,ir,null);pn(this,Bt,null);pn(this,bn,new Map);this.div=Ot,mn(this,ir,Lt),mn(this,Bt,Kt),this.l10n=yn,this.page=_n,this.viewport=Cn,this.zIndex=0,this.l10n||(this.l10n=ct.NullL10n)}async render(Ot){const{annotations:Lt}=Ot,Kt=this.div;(0,tt.setLayerDimensions)(Kt,this.viewport);const yn=new Map,_n={data:null,layer:Kt,linkService:Ot.linkService,downloadManager:Ot.downloadManager,imageResourcesPath:Ot.imageResourcesPath||"",renderForms:Ot.renderForms!==!1,svgFactory:new tt.DOMSVGFactory,annotationStorage:Ot.annotationStorage||new et.AnnotationStorage,enableScripting:Ot.enableScripting===!0,hasJSActions:Ot.hasJSActions,fieldObjects:Ot.fieldObjects,parent:this,elements:null};for(const Cn of Lt){if(Cn.noHTML)continue;const Dn=Cn.annotationType===_e.AnnotationType.POPUP;if(Dn){const Bn=yn.get(Cn.id);if(!Bn)continue;_n.elements=Bn}else{const{width:Bn,height:gr}=yt(Cn.rect);if(Bn<=0||gr<=0)continue}_n.data=Cn;const Kn=gt.create(_n);if(!Kn.isRenderable)continue;if(!Dn&&Cn.popupRef){const Bn=yn.get(Cn.popupRef);Bn?Bn.push(Kn):yn.set(Cn.popupRef,[Kn])}Kn.annotationEditorType>0&&it(this,bn).set(Kn.data.id,Kn);const Gn=Kn.render();Cn.hidden&&(Gn.style.visibility="hidden"),en(this,jn,iu).call(this,Gn,Cn.id)}en(this,jn,Wo).call(this),await this.l10n.translate(Kt)}update({viewport:Ot}){const Lt=this.div;this.viewport=Ot,(0,tt.setLayerDimensions)(Lt,{rotation:Ot.rotation}),en(this,jn,Wo).call(this),Lt.hidden=!1}getEditableAnnotations(){return Array.from(it(this,bn).values())}getEditableAnnotation(Ot){return it(this,bn).get(Ot)}}ir=new WeakMap,Bt=new WeakMap,bn=new WeakMap,jn=new WeakSet,iu=function(Ot,Lt){var yn;const Kt=Ot.firstChild||Ot;Kt.id=`${_e.AnnotationPrefix}${Lt}`,this.div.append(Ot),(yn=it(this,ir))==null||yn.moveElementInDOM(this.div,Ot,Kt,!1)},Wo=function(){if(!it(this,Bt))return;const Ot=this.div;for(const[Lt,Kt]of it(this,Bt)){const yn=Ot.querySelector(`[data-annotation-id="${Lt}"]`);if(!yn)continue;const{firstChild:_n}=yn;_n?_n.nodeName==="CANVAS"?_n.replaceWith(Kt):_n.before(Kt):yn.append(Kt)}it(this,Bt).clear()},j.AnnotationLayer=vt},(_,j)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.ColorConverters=void 0;function $(et){return Math.floor(Math.max(0,Math.min(1,et))*255).toString(16).padStart(2,"0")}function _e(et){return Math.max(0,Math.min(255,255*et))}class tt{static CMYK_G([nt,ct,rt,ot]){return["G",1-Math.min(1,.3*nt+.59*rt+.11*ct+ot)]}static G_CMYK([nt]){return["CMYK",0,0,0,1-nt]}static G_RGB([nt]){return["RGB",nt,nt,nt]}static G_rgb([nt]){return nt=_e(nt),[nt,nt,nt]}static G_HTML([nt]){const ct=$(nt);return`#${ct}${ct}${ct}`}static RGB_G([nt,ct,rt]){return["G",.3*nt+.59*ct+.11*rt]}static RGB_rgb(nt){return nt.map(_e)}static RGB_HTML(nt){return`#${nt.map($).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([nt,ct,rt,ot]){return["RGB",1-Math.min(1,nt+ot),1-Math.min(1,rt+ot),1-Math.min(1,ct+ot)]}static CMYK_rgb([nt,ct,rt,ot]){return[_e(1-Math.min(1,nt+ot)),_e(1-Math.min(1,rt+ot)),_e(1-Math.min(1,ct+ot))]}static CMYK_HTML(nt){const ct=this.CMYK_RGB(nt).slice(1);return this.RGB_HTML(ct)}static RGB_CMYK([nt,ct,rt]){const ot=1-nt,st=1-ct,_t=1-rt,yt=Math.min(ot,st,_t);return["CMYK",ot,st,_t,yt]}}j.ColorConverters=tt},(_,j)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.NullL10n=void 0,j.getL10nFallback=_e;const $={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};$.print_progress_percent="{{progress}}%";function _e(nt,ct){switch(nt){case"find_match_count":nt=`find_match_count[${ct.total===1?"one":"other"}]`;break;case"find_match_count_limit":nt=`find_match_count_limit[${ct.limit===1?"one":"other"}]`;break}return $[nt]||""}function tt(nt,ct){return ct?nt.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(rt,ot)=>ot in ct?ct[ot]:"{{"+ot+"}}"):nt}const et={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(nt,ct=null,rt=_e(nt,ct)){return tt(rt,ct)},async translate(nt){}};j.NullL10n=et},(_,j,$)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.XfaLayer=void 0;var _e=$(25);class tt{static setupStorage(nt,ct,rt,ot,st){const _t=ot.getValue(ct,{value:null});switch(rt.name){case"textarea":if(_t.value!==null&&(nt.textContent=_t.value),st==="print")break;nt.addEventListener("input",yt=>{ot.setValue(ct,{value:yt.target.value})});break;case"input":if(rt.attributes.type==="radio"||rt.attributes.type==="checkbox"){if(_t.value===rt.attributes.xfaOn?nt.setAttribute("checked",!0):_t.value===rt.attributes.xfaOff&&nt.removeAttribute("checked"),st==="print")break;nt.addEventListener("change",yt=>{ot.setValue(ct,{value:yt.target.checked?yt.target.getAttribute("xfaOn"):yt.target.getAttribute("xfaOff")})})}else{if(_t.value!==null&&nt.setAttribute("value",_t.value),st==="print")break;nt.addEventListener("input",yt=>{ot.setValue(ct,{value:yt.target.value})})}break;case"select":if(_t.value!==null){nt.setAttribute("value",_t.value);for(const yt of rt.children)yt.attributes.value===_t.value?yt.attributes.selected=!0:yt.attributes.hasOwnProperty("selected")&&delete yt.attributes.selected}nt.addEventListener("input",yt=>{const gt=yt.target.options,pt=gt.selectedIndex===-1?"":gt[gt.selectedIndex].value;ot.setValue(ct,{value:pt})});break}}static setAttributes({html:nt,element:ct,storage:rt=null,intent:ot,linkService:st}){const{attributes:_t}=ct,yt=nt instanceof HTMLAnchorElement;_t.type==="radio"&&(_t.name=`${_t.name}-${ot}`);for(const[gt,pt]of Object.entries(_t))if(pt!=null)switch(gt){case"class":pt.length&&nt.setAttribute(gt,pt.join(" "));break;case"dataId":break;case"id":nt.setAttribute("data-element-id",pt);break;case"style":Object.assign(nt.style,pt);break;case"textContent":nt.textContent=pt;break;default:(!yt||gt!=="href"&&gt!=="newWindow")&&nt.setAttribute(gt,pt)}yt&&st.addLinkAttributes(nt,_t.href,_t.newWindow),rt&&_t.dataId&&this.setupStorage(nt,_t.dataId,ct,rt)}static render(nt){var kt;const ct=nt.annotationStorage,rt=nt.linkService,ot=nt.xfaHtml,st=nt.intent||"display",_t=document.createElement(ot.name);ot.attributes&&this.setAttributes({html:_t,element:ot,intent:st,linkService:rt});const yt=[[ot,-1,_t]],gt=nt.div;if(gt.append(_t),nt.viewport){const At=`matrix(${nt.viewport.transform.join(",")})`;gt.style.transform=At}st!=="richText"&&gt.setAttribute("class","xfaLayer xfaFont");const pt=[];for(;yt.length>0;){const[At,at,lt]=yt.at(-1);if(at+1===At.children.length){yt.pop();continue}const dt=At.children[++yt.at(-1)[1]];if(dt===null)continue;const{name:wt}=dt;if(wt==="#text"){const Et=document.createTextNode(dt.value);pt.push(Et),lt.append(Et);continue}const ut=(kt=dt==null?void 0:dt.attributes)!=null&&kt.xmlns?document.createElementNS(dt.attributes.xmlns,wt):document.createElement(wt);if(lt.append(ut),dt.attributes&&this.setAttributes({html:ut,element:dt,storage:ct,intent:st,linkService:rt}),dt.children&&dt.children.length>0)yt.push([dt,-1,ut]);else if(dt.value){const Et=document.createTextNode(dt.value);_e.XfaText.shouldBuildText(wt)&&pt.push(Et),ut.append(Et)}}for(const At of gt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))At.setAttribute("readOnly",!0);return{textDivs:pt}}static update(nt){const ct=`matrix(${nt.viewport.transform.join(",")})`;nt.div.style.transform=ct,nt.div.hidden=!1}}j.XfaLayer=tt},(_,j,$)=>{var ot,st,_t,yt,gt,pt,kt,At,at,lt,dt,wt,ut,Et,ft,au,su,ou,lu,Go,cu,Xo,uu,du,hu,fu,pu,ds,Yo,eo,to,ks,qo,no,jt,gu,Ko,mu,vu,Qo,ro,Cs;Object.defineProperty(j,"__esModule",{value:!0}),j.InkEditor=void 0;var _e=$(1),tt=$(4),et=$(29),nt=$(6),ct=$(5);const Rn=class Rn extends tt.AnnotationEditor{constructor(Rt){super({...Rt,name:"inkEditor"});pn(this,ft);pn(this,ot,0);pn(this,st,0);pn(this,_t,this.canvasPointermove.bind(this));pn(this,yt,this.canvasPointerleave.bind(this));pn(this,gt,this.canvasPointerup.bind(this));pn(this,pt,this.canvasPointerdown.bind(this));pn(this,kt,new Path2D);pn(this,At,!1);pn(this,at,!1);pn(this,lt,!1);pn(this,dt,null);pn(this,wt,0);pn(this,ut,0);pn(this,Et,null);this.color=Rt.color||null,this.thickness=Rt.thickness||null,this.opacity=Rt.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Rt){tt.AnnotationEditor.initialize(Rt,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Rt,zt){switch(Rt){case _e.AnnotationEditorParamsType.INK_THICKNESS:Rn._defaultThickness=zt;break;case _e.AnnotationEditorParamsType.INK_COLOR:Rn._defaultColor=zt;break;case _e.AnnotationEditorParamsType.INK_OPACITY:Rn._defaultOpacity=zt/100;break}}updateParams(Rt,zt){switch(Rt){case _e.AnnotationEditorParamsType.INK_THICKNESS:en(this,ft,au).call(this,zt);break;case _e.AnnotationEditorParamsType.INK_COLOR:en(this,ft,su).call(this,zt);break;case _e.AnnotationEditorParamsType.INK_OPACITY:en(this,ft,ou).call(this,zt);break}}static get defaultPropertiesToUpdate(){return[[_e.AnnotationEditorParamsType.INK_THICKNESS,Rn._defaultThickness],[_e.AnnotationEditorParamsType.INK_COLOR,Rn._defaultColor||tt.AnnotationEditor._defaultLineColor],[_e.AnnotationEditorParamsType.INK_OPACITY,Math.round(Rn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[_e.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Rn._defaultThickness],[_e.AnnotationEditorParamsType.INK_COLOR,this.color||Rn._defaultColor||tt.AnnotationEditor._defaultLineColor],[_e.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Rn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(en(this,ft,eo).call(this),en(this,ft,to).call(this)),this.isAttachedToDOM||(this.parent.add(this),en(this,ft,ks).call(this)),en(this,ft,Cs).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,it(this,dt).disconnect(),mn(this,dt,null),super.remove())}setParent(Rt){!this.parent&&Rt?this._uiManager.removeShouldRescale(this):this.parent&&Rt===null&&this._uiManager.addShouldRescale(this),super.setParent(Rt)}onScaleChanging(){const[Rt,zt]=this.parentDimensions,nn=this.width*Rt,hn=this.height*zt;this.setDimensions(nn,hn)}enableEditMode(){it(this,At)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",it(this,pt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",it(this,pt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){it(this,At)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),mn(this,At,!0),this.div.classList.add("disabled"),en(this,ft,Cs).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Rt){this._focusEventsAllowed&&(super.focusin(Rt),this.enableEditMode())}canvasPointerdown(Rt){Rt.button!==0||!this.isInEditMode()||it(this,At)||(this.setInForeground(),Rt.preventDefault(),Rt.type!=="mouse"&&this.div.focus(),en(this,ft,cu).call(this,Rt.offsetX,Rt.offsetY))}canvasPointermove(Rt){Rt.preventDefault(),en(this,ft,Xo).call(this,Rt.offsetX,Rt.offsetY)}canvasPointerup(Rt){Rt.preventDefault(),en(this,ft,Yo).call(this,Rt)}canvasPointerleave(Rt){en(this,ft,Yo).call(this,Rt)}get isResizable(){return!this.isEmpty()&&it(this,At)}render(){if(this.div)return this.div;let Rt,zt;this.width&&(Rt=this.x,zt=this.y),super.render(),tt.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(kn=>{var tn;return(tn=this.div)==null?void 0:tn.setAttribute("aria-label",kn)});const[nn,hn,wn,Tn]=en(this,ft,lu).call(this);if(this.setAt(nn,hn,0,0),this.setDims(wn,Tn),en(this,ft,eo).call(this),this.width){const[kn,tn]=this.parentDimensions;this.setAspectRatio(this.width*kn,this.height*tn),this.setAt(Rt*kn,zt*tn,this.width*kn,this.height*tn),mn(this,lt,!0),en(this,ft,ks).call(this),this.setDims(this.width*kn,this.height*tn),en(this,ft,ds).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return en(this,ft,to).call(this),this.div}setDimensions(Rt,zt){const nn=Math.round(Rt),hn=Math.round(zt);if(it(this,wt)===nn&&it(this,ut)===hn)return;mn(this,wt,nn),mn(this,ut,hn),this.canvas.style.visibility="hidden";const[wn,Tn]=this.parentDimensions;this.width=Rt/wn,this.height=zt/Tn,this.fixAndSetPosition(),it(this,At)&&en(this,ft,qo).call(this,Rt,zt),en(this,ft,ks).call(this),en(this,ft,ds).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Rt,zt,nn){var er,vr,Mr;if(Rt instanceof et.InkAnnotationElement)return null;const hn=super.deserialize(Rt,zt,nn);hn.thickness=Rt.thickness,hn.color=_e.Util.makeHexColor(...Rt.color),hn.opacity=Rt.opacity;const[wn,Tn]=hn.pageDimensions,kn=hn.width*wn,tn=hn.height*Tn,$n=hn.parentScale,In=Rt.thickness/2;mn(hn,At,!0),mn(hn,wt,Math.round(kn)),mn(hn,ut,Math.round(tn));const{paths:hr,rect:ar,rotation:br}=Rt;for(let{bezier:xn}of hr){xn=en(er=Rn,jt,mu).call(er,xn,ar,br);const an=[];hn.paths.push(an);let on=$n*(xn[0]-In),Vn=$n*(xn[1]-In);for(let ir=2,Bt=xn.length;ir<Bt;ir+=6){const bn=$n*(xn[ir]-In),jn=$n*(xn[ir+1]-In),qn=$n*(xn[ir+2]-In),Zn=$n*(xn[ir+3]-In),Hn=$n*(xn[ir+4]-In),Ot=$n*(xn[ir+5]-In);an.push([[on,Vn],[bn,jn],[qn,Zn],[Hn,Ot]]),on=Hn,Vn=Ot}const Yn=en(this,jt,gu).call(this,an);hn.bezierPath2D.push(Yn)}const Wn=en(vr=hn,ft,Qo).call(vr);return mn(hn,st,Math.max(tt.AnnotationEditor.MIN_SIZE,Wn[2]-Wn[0])),mn(hn,ot,Math.max(tt.AnnotationEditor.MIN_SIZE,Wn[3]-Wn[1])),en(Mr=hn,ft,qo).call(Mr,kn,tn),hn}serialize(){if(this.isEmpty())return null;const Rt=this.getRect(0,0),zt=tt.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:_e.AnnotationEditorType.INK,color:zt,thickness:this.thickness,opacity:this.opacity,paths:en(this,ft,vu).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Rt),pageIndex:this.pageIndex,rect:Rt,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};ot=new WeakMap,st=new WeakMap,_t=new WeakMap,yt=new WeakMap,gt=new WeakMap,pt=new WeakMap,kt=new WeakMap,At=new WeakMap,at=new WeakMap,lt=new WeakMap,dt=new WeakMap,wt=new WeakMap,ut=new WeakMap,Et=new WeakMap,ft=new WeakSet,au=function(Rt){const zt=this.thickness;this.addCommands({cmd:()=>{this.thickness=Rt,en(this,ft,Cs).call(this)},undo:()=>{this.thickness=zt,en(this,ft,Cs).call(this)},mustExec:!0,type:_e.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},su=function(Rt){const zt=this.color;this.addCommands({cmd:()=>{this.color=Rt,en(this,ft,ds).call(this)},undo:()=>{this.color=zt,en(this,ft,ds).call(this)},mustExec:!0,type:_e.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ou=function(Rt){Rt/=100;const zt=this.opacity;this.addCommands({cmd:()=>{this.opacity=Rt,en(this,ft,ds).call(this)},undo:()=>{this.opacity=zt,en(this,ft,ds).call(this)},mustExec:!0,type:_e.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},lu=function(){const{parentRotation:Rt,parentDimensions:[zt,nn]}=this;switch(Rt){case 90:return[0,nn,nn,zt];case 180:return[zt,nn,zt,nn];case 270:return[zt,0,nn,zt];default:return[0,0,zt,nn]}},Go=function(){const{ctx:Rt,color:zt,opacity:nn,thickness:hn,parentScale:wn,scaleFactor:Tn}=this;Rt.lineWidth=hn*wn/Tn,Rt.lineCap="round",Rt.lineJoin="round",Rt.miterLimit=10,Rt.strokeStyle=`${zt}${(0,ct.opacityToHex)(nn)}`},cu=function(Rt,zt){this.canvas.addEventListener("contextmenu",nt.noContextMenu),this.canvas.addEventListener("pointerleave",it(this,yt)),this.canvas.addEventListener("pointermove",it(this,_t)),this.canvas.addEventListener("pointerup",it(this,gt)),this.canvas.removeEventListener("pointerdown",it(this,pt)),this.isEditing=!0,it(this,lt)||(mn(this,lt,!0),en(this,ft,ks).call(this),this.thickness||(this.thickness=Rn._defaultThickness),this.color||(this.color=Rn._defaultColor||tt.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Rn._defaultOpacity)),this.currentPath.push([Rt,zt]),mn(this,at,!1),en(this,ft,Go).call(this),mn(this,Et,()=>{en(this,ft,hu).call(this),it(this,Et)&&window.requestAnimationFrame(it(this,Et))}),window.requestAnimationFrame(it(this,Et))},Xo=function(Rt,zt){const[nn,hn]=this.currentPath.at(-1);if(this.currentPath.length>1&&Rt===nn&&zt===hn)return;const wn=this.currentPath;let Tn=it(this,kt);if(wn.push([Rt,zt]),mn(this,at,!0),wn.length<=2){Tn.moveTo(...wn[0]),Tn.lineTo(Rt,zt);return}wn.length===3&&(mn(this,kt,Tn=new Path2D),Tn.moveTo(...wn[0])),en(this,ft,fu).call(this,Tn,...wn.at(-3),...wn.at(-2),Rt,zt)},uu=function(){if(this.currentPath.length===0)return;const Rt=this.currentPath.at(-1);it(this,kt).lineTo(...Rt)},du=function(Rt,zt){mn(this,Et,null),Rt=Math.min(Math.max(Rt,0),this.canvas.width),zt=Math.min(Math.max(zt,0),this.canvas.height),en(this,ft,Xo).call(this,Rt,zt),en(this,ft,uu).call(this);let nn;if(this.currentPath.length!==1)nn=en(this,ft,pu).call(this);else{const tn=[Rt,zt];nn=[[tn,tn.slice(),tn.slice(),tn]]}const hn=it(this,kt),wn=this.currentPath;this.currentPath=[],mn(this,kt,new Path2D);const Tn=()=>{this.allRawPaths.push(wn),this.paths.push(nn),this.bezierPath2D.push(hn),this.rebuild()},kn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(en(this,ft,eo).call(this),en(this,ft,to).call(this)),en(this,ft,Cs).call(this))};this.addCommands({cmd:Tn,undo:kn,mustExec:!0})},hu=function(){if(!it(this,at))return;mn(this,at,!1);const Rt=Math.ceil(this.thickness*this.parentScale),zt=this.currentPath.slice(-3),nn=zt.map(Tn=>Tn[0]),hn=zt.map(Tn=>Tn[1]);Math.min(...nn)-Rt,Math.max(...nn)+Rt,Math.min(...hn)-Rt,Math.max(...hn)+Rt;const{ctx:wn}=this;wn.save(),wn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Tn of this.bezierPath2D)wn.stroke(Tn);wn.stroke(it(this,kt)),wn.restore()},fu=function(Rt,zt,nn,hn,wn,Tn,kn){const tn=(zt+hn)/2,$n=(nn+wn)/2,In=(hn+Tn)/2,hr=(wn+kn)/2;Rt.bezierCurveTo(tn+2*(hn-tn)/3,$n+2*(wn-$n)/3,In+2*(hn-In)/3,hr+2*(wn-hr)/3,In,hr)},pu=function(){const Rt=this.currentPath;if(Rt.length<=2)return[[Rt[0],Rt[0],Rt.at(-1),Rt.at(-1)]];const zt=[];let nn,[hn,wn]=Rt[0];for(nn=1;nn<Rt.length-2;nn++){const[ar,br]=Rt[nn],[Wn,er]=Rt[nn+1],vr=(ar+Wn)/2,Mr=(br+er)/2,xn=[hn+2*(ar-hn)/3,wn+2*(br-wn)/3],an=[vr+2*(ar-vr)/3,Mr+2*(br-Mr)/3];zt.push([[hn,wn],xn,an,[vr,Mr]]),[hn,wn]=[vr,Mr]}const[Tn,kn]=Rt[nn],[tn,$n]=Rt[nn+1],In=[hn+2*(Tn-hn)/3,wn+2*(kn-wn)/3],hr=[tn+2*(Tn-tn)/3,$n+2*(kn-$n)/3];return zt.push([[hn,wn],In,hr,[tn,$n]]),zt},ds=function(){if(this.isEmpty()){en(this,ft,no).call(this);return}en(this,ft,Go).call(this);const{canvas:Rt,ctx:zt}=this;zt.setTransform(1,0,0,1,0,0),zt.clearRect(0,0,Rt.width,Rt.height),en(this,ft,no).call(this);for(const nn of this.bezierPath2D)zt.stroke(nn)},Yo=function(Rt){this.canvas.removeEventListener("pointerleave",it(this,yt)),this.canvas.removeEventListener("pointermove",it(this,_t)),this.canvas.removeEventListener("pointerup",it(this,gt)),this.canvas.addEventListener("pointerdown",it(this,pt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",nt.noContextMenu)},10),en(this,ft,du).call(this,Rt.offsetX,Rt.offsetY),this.addToAnnotationStorage(),this.setInBackground()},eo=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",tt.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Rt=>{var zt;return(zt=this.canvas)==null?void 0:zt.setAttribute("aria-label",Rt)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},to=function(){mn(this,dt,new ResizeObserver(Rt=>{const zt=Rt[0].contentRect;zt.width&&zt.height&&this.setDimensions(zt.width,zt.height)})),it(this,dt).observe(this.div)},ks=function(){if(!it(this,lt))return;const[Rt,zt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Rt),this.canvas.height=Math.ceil(this.height*zt),en(this,ft,no).call(this)},qo=function(Rt,zt){const nn=en(this,ft,ro).call(this),hn=(Rt-nn)/it(this,st),wn=(zt-nn)/it(this,ot);this.scaleFactor=Math.min(hn,wn)},no=function(){const Rt=en(this,ft,ro).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Rt,this.translationY*this.scaleFactor+Rt)},jt=new WeakSet,gu=function(Rt){const zt=new Path2D;for(let nn=0,hn=Rt.length;nn<hn;nn++){const[wn,Tn,kn,tn]=Rt[nn];nn===0&&zt.moveTo(...wn),zt.bezierCurveTo(Tn[0],Tn[1],kn[0],kn[1],tn[0],tn[1])}return zt},Ko=function(Rt,zt,nn){const[hn,wn,Tn,kn]=zt;switch(nn){case 0:for(let tn=0,$n=Rt.length;tn<$n;tn+=2)Rt[tn]+=hn,Rt[tn+1]=kn-Rt[tn+1];break;case 90:for(let tn=0,$n=Rt.length;tn<$n;tn+=2){const In=Rt[tn];Rt[tn]=Rt[tn+1]+hn,Rt[tn+1]=In+wn}break;case 180:for(let tn=0,$n=Rt.length;tn<$n;tn+=2)Rt[tn]=Tn-Rt[tn],Rt[tn+1]+=wn;break;case 270:for(let tn=0,$n=Rt.length;tn<$n;tn+=2){const In=Rt[tn];Rt[tn]=Tn-Rt[tn+1],Rt[tn+1]=kn-In}break;default:throw new Error("Invalid rotation")}return Rt},mu=function(Rt,zt,nn){const[hn,wn,Tn,kn]=zt;switch(nn){case 0:for(let tn=0,$n=Rt.length;tn<$n;tn+=2)Rt[tn]-=hn,Rt[tn+1]=kn-Rt[tn+1];break;case 90:for(let tn=0,$n=Rt.length;tn<$n;tn+=2){const In=Rt[tn];Rt[tn]=Rt[tn+1]-wn,Rt[tn+1]=In-hn}break;case 180:for(let tn=0,$n=Rt.length;tn<$n;tn+=2)Rt[tn]=Tn-Rt[tn],Rt[tn+1]-=wn;break;case 270:for(let tn=0,$n=Rt.length;tn<$n;tn+=2){const In=Rt[tn];Rt[tn]=kn-Rt[tn+1],Rt[tn+1]=Tn-In}break;default:throw new Error("Invalid rotation")}return Rt},vu=function(Rt,zt,nn,hn){var $n,In;const wn=[],Tn=this.thickness/2,kn=Rt*zt+Tn,tn=Rt*nn+Tn;for(const hr of this.paths){const ar=[],br=[];for(let Wn=0,er=hr.length;Wn<er;Wn++){const[vr,Mr,xn,an]=hr[Wn],on=Rt*vr[0]+kn,Vn=Rt*vr[1]+tn,Yn=Rt*Mr[0]+kn,ir=Rt*Mr[1]+tn,Bt=Rt*xn[0]+kn,bn=Rt*xn[1]+tn,jn=Rt*an[0]+kn,qn=Rt*an[1]+tn;Wn===0&&(ar.push(on,Vn),br.push(on,Vn)),ar.push(Yn,ir,Bt,bn,jn,qn),br.push(Yn,ir),Wn===er-1&&br.push(jn,qn)}wn.push({bezier:en($n=Rn,jt,Ko).call($n,ar,hn,this.rotation),points:en(In=Rn,jt,Ko).call(In,br,hn,this.rotation)})}return wn},Qo=function(){let Rt=1/0,zt=-1/0,nn=1/0,hn=-1/0;for(const wn of this.paths)for(const[Tn,kn,tn,$n]of wn){const In=_e.Util.bezierBoundingBox(...Tn,...kn,...tn,...$n);Rt=Math.min(Rt,In[0]),nn=Math.min(nn,In[1]),zt=Math.max(zt,In[2]),hn=Math.max(hn,In[3])}return[Rt,nn,zt,hn]},ro=function(){return it(this,At)?Math.ceil(this.thickness*this.parentScale):0},Cs=function(Rt=!1){if(this.isEmpty())return;if(!it(this,At)){en(this,ft,ds).call(this);return}const zt=en(this,ft,Qo).call(this),nn=en(this,ft,ro).call(this);mn(this,st,Math.max(tt.AnnotationEditor.MIN_SIZE,zt[2]-zt[0])),mn(this,ot,Math.max(tt.AnnotationEditor.MIN_SIZE,zt[3]-zt[1]));const hn=Math.ceil(nn+it(this,st)*this.scaleFactor),wn=Math.ceil(nn+it(this,ot)*this.scaleFactor),[Tn,kn]=this.parentDimensions;this.width=hn/Tn,this.height=wn/kn,this.setAspectRatio(hn,wn);const tn=this.translationX,$n=this.translationY;this.translationX=-zt[0],this.translationY=-zt[1],en(this,ft,ks).call(this),en(this,ft,ds).call(this),mn(this,wt,hn),mn(this,ut,wn),this.setDims(hn,wn);const In=Rt?nn/this.scaleFactor/2:0;this.translate(tn-this.translationX-In,$n-this.translationY-In)},pn(Rn,jt),Hr(Rn,"_defaultColor",null),Hr(Rn,"_defaultOpacity",1),Hr(Rn,"_defaultThickness",1),Hr(Rn,"_type","ink");let rt=Rn;j.InkEditor=rt},(_,j,$)=>{var rt,ot,st,_t,yt,gt,pt,kt,At,at,lt,Os,Ns,io,Zo,yu,_u,Jo,ao,Eu;Object.defineProperty(j,"__esModule",{value:!0}),j.StampEditor=void 0;var _e=$(1),tt=$(4),et=$(6),nt=$(29);const Ft=class Ft extends tt.AnnotationEditor{constructor(Yt){super({...Yt,name:"stampEditor"});pn(this,lt);pn(this,rt,null);pn(this,ot,null);pn(this,st,null);pn(this,_t,null);pn(this,yt,null);pn(this,gt,null);pn(this,pt,null);pn(this,kt,null);pn(this,At,!1);pn(this,at,!1);mn(this,_t,Yt.bitmapUrl),mn(this,yt,Yt.bitmapFile)}static initialize(Yt){tt.AnnotationEditor.initialize(Yt)}static get supportedTypes(){const Yt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,_e.shadow)(this,"supportedTypes",Yt.map(rn=>`image/${rn}`))}static get supportedTypesStr(){return(0,_e.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Yt){return this.supportedTypes.includes(Yt)}static paste(Yt,rn){rn.pasteEditor(_e.AnnotationEditorType.STAMP,{bitmapFile:Yt.getAsFile()})}remove(){var Yt,rn;it(this,ot)&&(mn(this,rt,null),this._uiManager.imageManager.deleteId(it(this,ot)),(Yt=it(this,gt))==null||Yt.remove(),mn(this,gt,null),(rn=it(this,pt))==null||rn.disconnect(),mn(this,pt,null)),super.remove()}rebuild(){if(!this.parent){it(this,ot)&&en(this,lt,io).call(this);return}super.rebuild(),this.div!==null&&(it(this,ot)&&en(this,lt,io).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(it(this,st)||it(this,rt)||it(this,_t)||it(this,yt))}get isResizable(){return!0}render(){if(this.div)return this.div;let Yt,rn;if(this.width&&(Yt=this.x,rn=this.y),super.render(),this.div.hidden=!0,it(this,rt)?en(this,lt,Zo).call(this):en(this,lt,io).call(this),this.width){const[Xt,Gt]=this.parentDimensions;this.setAt(Yt*Xt,rn*Gt,this.width*Xt,this.height*Gt)}return this.div}static deserialize(Yt,rn,Xt){if(Yt instanceof nt.StampAnnotationElement)return null;const Gt=super.deserialize(Yt,rn,Xt),{rect:Tt,bitmapUrl:Ht,bitmapId:Jt,isSvg:Mt,accessibilityData:mt}=Yt;Jt&&Xt.imageManager.isValidId(Jt)?mn(Gt,ot,Jt):mn(Gt,_t,Ht),mn(Gt,At,Mt);const[vt,Pt]=Gt.pageDimensions;return Gt.width=(Tt[2]-Tt[0])/vt,Gt.height=(Tt[3]-Tt[1])/Pt,mt&&(Gt.altTextData=mt),Gt}serialize(Yt=!1,rn=null){if(this.isEmpty())return null;const Xt={annotationType:_e.AnnotationEditorType.STAMP,bitmapId:it(this,ot),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:it(this,At),structTreeParentId:this._structTreeParentId};if(Yt)return Xt.bitmapUrl=en(this,lt,ao).call(this,!0),Xt.accessibilityData=this.altTextData,Xt;const{decorative:Gt,altText:Tt}=this.altTextData;if(!Gt&&Tt&&(Xt.accessibilityData={type:"Figure",alt:Tt}),rn===null)return Xt;rn.stamps||(rn.stamps=new Map);const Ht=it(this,At)?(Xt.rect[2]-Xt.rect[0])*(Xt.rect[3]-Xt.rect[1]):null;if(!rn.stamps.has(it(this,ot)))rn.stamps.set(it(this,ot),{area:Ht,serialized:Xt}),Xt.bitmap=en(this,lt,ao).call(this,!1);else if(it(this,At)){const Jt=rn.stamps.get(it(this,ot));Ht>Jt.area&&(Jt.area=Ht,Jt.serialized.bitmap.close(),Jt.serialized.bitmap=en(this,lt,ao).call(this,!1))}return Xt}};rt=new WeakMap,ot=new WeakMap,st=new WeakMap,_t=new WeakMap,yt=new WeakMap,gt=new WeakMap,pt=new WeakMap,kt=new WeakMap,At=new WeakMap,at=new WeakMap,lt=new WeakSet,Os=function(Yt,rn=!1){if(!Yt){this.remove();return}mn(this,rt,Yt.bitmap),rn||(mn(this,ot,Yt.id),mn(this,At,Yt.isSvg)),en(this,lt,Zo).call(this)},Ns=function(){mn(this,st,null),this._uiManager.enableWaiting(!1),it(this,gt)&&this.div.focus()},io=function(){if(it(this,ot)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(it(this,ot)).then(rn=>en(this,lt,Os).call(this,rn,!0)).finally(()=>en(this,lt,Ns).call(this));return}if(it(this,_t)){const rn=it(this,_t);mn(this,_t,null),this._uiManager.enableWaiting(!0),mn(this,st,this._uiManager.imageManager.getFromUrl(rn).then(Xt=>en(this,lt,Os).call(this,Xt)).finally(()=>en(this,lt,Ns).call(this)));return}if(it(this,yt)){const rn=it(this,yt);mn(this,yt,null),this._uiManager.enableWaiting(!0),mn(this,st,this._uiManager.imageManager.getFromFile(rn).then(Xt=>en(this,lt,Os).call(this,Xt)).finally(()=>en(this,lt,Ns).call(this)));return}const Yt=document.createElement("input");Yt.type="file",Yt.accept=Ft.supportedTypesStr,mn(this,st,new Promise(rn=>{Yt.addEventListener("change",async()=>{if(!Yt.files||Yt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Xt=await this._uiManager.imageManager.getFromFile(Yt.files[0]);en(this,lt,Os).call(this,Xt)}rn()}),Yt.addEventListener("cancel",()=>{this.remove(),rn()})}).finally(()=>en(this,lt,Ns).call(this))),Yt.click()},Zo=function(){const{div:Yt}=this;let{width:rn,height:Xt}=it(this,rt);const[Gt,Tt]=this.pageDimensions,Ht=.75;if(this.width)rn=this.width*Gt,Xt=this.height*Tt;else if(rn>Ht*Gt||Xt>Ht*Tt){const vt=Math.min(Ht*Gt/rn,Ht*Tt/Xt);rn*=vt,Xt*=vt}const[Jt,Mt]=this.parentDimensions;this.setDims(rn*Jt/Gt,Xt*Mt/Tt),this._uiManager.enableWaiting(!1);const mt=mn(this,gt,document.createElement("canvas"));Yt.append(mt),Yt.hidden=!1,en(this,lt,Jo).call(this,rn,Xt),en(this,lt,Eu).call(this),it(this,at)||(this.parent.addUndoableEditor(this),mn(this,at,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},yu=function(Yt,rn){var Ht;const[Xt,Gt]=this.parentDimensions;this.width=Yt/Xt,this.height=rn/Gt,this.setDims(Yt,rn),(Ht=this._initialOptions)!=null&&Ht.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,it(this,kt)!==null&&clearTimeout(it(this,kt)),mn(this,kt,setTimeout(()=>{mn(this,kt,null),en(this,lt,Jo).call(this,Yt,rn)},200))},_u=function(Yt,rn){const{width:Xt,height:Gt}=it(this,rt);let Tt=Xt,Ht=Gt,Jt=it(this,rt);for(;Tt>2*Yt||Ht>2*rn;){const Mt=Tt,mt=Ht;Tt>2*Yt&&(Tt=Tt>=16384?Math.floor(Tt/2)-1:Math.ceil(Tt/2)),Ht>2*rn&&(Ht=Ht>=16384?Math.floor(Ht/2)-1:Math.ceil(Ht/2));const vt=new OffscreenCanvas(Tt,Ht);vt.getContext("2d").drawImage(Jt,0,0,Mt,mt,0,0,Tt,Ht),Jt=vt.transferToImageBitmap()}return Jt},Jo=function(Yt,rn){Yt=Math.ceil(Yt),rn=Math.ceil(rn);const Xt=it(this,gt);if(!Xt||Xt.width===Yt&&Xt.height===rn)return;Xt.width=Yt,Xt.height=rn;const Gt=it(this,At)?it(this,rt):en(this,lt,_u).call(this,Yt,rn),Tt=Xt.getContext("2d");Tt.filter=this._uiManager.hcmFilter,Tt.drawImage(Gt,0,0,Gt.width,Gt.height,0,0,Yt,rn)},ao=function(Yt){if(Yt){if(it(this,At)){const Gt=this._uiManager.imageManager.getSvgUrl(it(this,ot));if(Gt)return Gt}const rn=document.createElement("canvas");return{width:rn.width,height:rn.height}=it(this,rt),rn.getContext("2d").drawImage(it(this,rt),0,0),rn.toDataURL()}if(it(this,At)){const[rn,Xt]=this.pageDimensions,Gt=Math.round(this.width*rn*et.PixelsPerInch.PDF_TO_CSS_UNITS),Tt=Math.round(this.height*Xt*et.PixelsPerInch.PDF_TO_CSS_UNITS),Ht=new OffscreenCanvas(Gt,Tt);return Ht.getContext("2d").drawImage(it(this,rt),0,0,it(this,rt).width,it(this,rt).height,0,0,Gt,Tt),Ht.transferToImageBitmap()}return structuredClone(it(this,rt))},Eu=function(){mn(this,pt,new ResizeObserver(Yt=>{const rn=Yt[0].contentRect;rn.width&&rn.height&&en(this,lt,yu).call(this,rn.width,rn.height)})),it(this,pt).observe(this.div)},Hr(Ft,"_type","stamp");let ct=Ft;j.StampEditor=ct}],__webpack_module_cache__={};function __w_pdfjs_require__(_){var j=__webpack_module_cache__[_];if(j!==void 0)return j.exports;var $=__webpack_module_cache__[_]={exports:{}};return __webpack_modules__[_]($,$.exports,__w_pdfjs_require__),$.exports}var __webpack_exports__={};return(()=>{var _=__webpack_exports__;Object.defineProperty(_,"__esModule",{value:!0}),Object.defineProperty(_,"AbortException",{enumerable:!0,get:function(){return j.AbortException}}),Object.defineProperty(_,"AnnotationEditorLayer",{enumerable:!0,get:function(){return et.AnnotationEditorLayer}}),Object.defineProperty(_,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return j.AnnotationEditorParamsType}}),Object.defineProperty(_,"AnnotationEditorType",{enumerable:!0,get:function(){return j.AnnotationEditorType}}),Object.defineProperty(_,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return nt.AnnotationEditorUIManager}}),Object.defineProperty(_,"AnnotationLayer",{enumerable:!0,get:function(){return ct.AnnotationLayer}}),Object.defineProperty(_,"AnnotationMode",{enumerable:!0,get:function(){return j.AnnotationMode}}),Object.defineProperty(_,"CMapCompressionType",{enumerable:!0,get:function(){return j.CMapCompressionType}}),Object.defineProperty(_,"DOMSVGFactory",{enumerable:!0,get:function(){return _e.DOMSVGFactory}}),Object.defineProperty(_,"FeatureTest",{enumerable:!0,get:function(){return j.FeatureTest}}),Object.defineProperty(_,"GlobalWorkerOptions",{enumerable:!0,get:function(){return rt.GlobalWorkerOptions}}),Object.defineProperty(_,"ImageKind",{enumerable:!0,get:function(){return j.ImageKind}}),Object.defineProperty(_,"InvalidPDFException",{enumerable:!0,get:function(){return j.InvalidPDFException}}),Object.defineProperty(_,"MissingPDFException",{enumerable:!0,get:function(){return j.MissingPDFException}}),Object.defineProperty(_,"OPS",{enumerable:!0,get:function(){return j.OPS}}),Object.defineProperty(_,"PDFDataRangeTransport",{enumerable:!0,get:function(){return $.PDFDataRangeTransport}}),Object.defineProperty(_,"PDFDateString",{enumerable:!0,get:function(){return _e.PDFDateString}}),Object.defineProperty(_,"PDFWorker",{enumerable:!0,get:function(){return $.PDFWorker}}),Object.defineProperty(_,"PasswordResponses",{enumerable:!0,get:function(){return j.PasswordResponses}}),Object.defineProperty(_,"PermissionFlag",{enumerable:!0,get:function(){return j.PermissionFlag}}),Object.defineProperty(_,"PixelsPerInch",{enumerable:!0,get:function(){return _e.PixelsPerInch}}),Object.defineProperty(_,"PromiseCapability",{enumerable:!0,get:function(){return j.PromiseCapability}}),Object.defineProperty(_,"RenderingCancelledException",{enumerable:!0,get:function(){return _e.RenderingCancelledException}}),Object.defineProperty(_,"SVGGraphics",{enumerable:!0,get:function(){return $.SVGGraphics}}),Object.defineProperty(_,"UnexpectedResponseException",{enumerable:!0,get:function(){return j.UnexpectedResponseException}}),Object.defineProperty(_,"Util",{enumerable:!0,get:function(){return j.Util}}),Object.defineProperty(_,"VerbosityLevel",{enumerable:!0,get:function(){return j.VerbosityLevel}}),Object.defineProperty(_,"XfaLayer",{enumerable:!0,get:function(){return ot.XfaLayer}}),Object.defineProperty(_,"build",{enumerable:!0,get:function(){return $.build}}),Object.defineProperty(_,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return j.createValidAbsoluteUrl}}),Object.defineProperty(_,"getDocument",{enumerable:!0,get:function(){return $.getDocument}}),Object.defineProperty(_,"getFilenameFromUrl",{enumerable:!0,get:function(){return _e.getFilenameFromUrl}}),Object.defineProperty(_,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return _e.getPdfFilenameFromUrl}}),Object.defineProperty(_,"getXfaPageViewport",{enumerable:!0,get:function(){return _e.getXfaPageViewport}}),Object.defineProperty(_,"isDataScheme",{enumerable:!0,get:function(){return _e.isDataScheme}}),Object.defineProperty(_,"isPdfFile",{enumerable:!0,get:function(){return _e.isPdfFile}}),Object.defineProperty(_,"loadScript",{enumerable:!0,get:function(){return _e.loadScript}}),Object.defineProperty(_,"noContextMenu",{enumerable:!0,get:function(){return _e.noContextMenu}}),Object.defineProperty(_,"normalizeUnicode",{enumerable:!0,get:function(){return j.normalizeUnicode}}),Object.defineProperty(_,"renderTextLayer",{enumerable:!0,get:function(){return tt.renderTextLayer}}),Object.defineProperty(_,"setLayerDimensions",{enumerable:!0,get:function(){return _e.setLayerDimensions}}),Object.defineProperty(_,"shadow",{enumerable:!0,get:function(){return j.shadow}}),Object.defineProperty(_,"updateTextLayer",{enumerable:!0,get:function(){return tt.updateTextLayer}}),Object.defineProperty(_,"version",{enumerable:!0,get:function(){return $.version}});var j=__w_pdfjs_require__(1),$=__w_pdfjs_require__(2),_e=__w_pdfjs_require__(6),tt=__w_pdfjs_require__(26),et=__w_pdfjs_require__(27),nt=__w_pdfjs_require__(5),ct=__w_pdfjs_require__(29),rt=__w_pdfjs_require__(14),ot=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function(_){var j=reactExports,$=pdfExports;function _e(ht){var Ct=Object.create(null);return ht&&Object.keys(ht).forEach(function(Ut){if(Ut!=="default"){var Vt=Object.getOwnPropertyDescriptor(ht,Ut);Object.defineProperty(Ct,Ut,Vt.get?Vt:{enumerable:!0,get:function(){return ht[Ut]}})}}),Ct.default=ht,Object.freeze(Ct)}var tt,et=_e(j),nt=_e($);_.AnnotationType=void 0,(tt=_.AnnotationType||(_.AnnotationType={}))[tt.Text=1]="Text",tt[tt.Link=2]="Link",tt[tt.FreeText=3]="FreeText",tt[tt.Line=4]="Line",tt[tt.Square=5]="Square",tt[tt.Circle=6]="Circle",tt[tt.Polygon=7]="Polygon",tt[tt.Polyline=8]="Polyline",tt[tt.Highlight=9]="Highlight",tt[tt.Underline=10]="Underline",tt[tt.Squiggly=11]="Squiggly",tt[tt.StrikeOut=12]="StrikeOut",tt[tt.Stamp=13]="Stamp",tt[tt.Caret=14]="Caret",tt[tt.Ink=15]="Ink",tt[tt.Popup=16]="Popup",tt[tt.FileAttachment=17]="FileAttachment";var ct=function(ht,Ct){return ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ut,Vt){Ut.__proto__=Vt}||function(Ut,Vt){for(var qt in Vt)Object.prototype.hasOwnProperty.call(Vt,qt)&&(Ut[qt]=Vt[qt])},ct(ht,Ct)};function rt(ht,Ct){if(typeof Ct!="function"&&Ct!==null)throw new TypeError("Class extends value "+String(Ct)+" is not a constructor or null");function Ut(){this.constructor=ht}ct(ht,Ct),ht.prototype=Ct===null?Object.create(Ct):(Ut.prototype=Ct.prototype,new Ut)}var ot,st=function(){return st=Object.assign||function(ht){for(var Ct,Ut=1,Vt=arguments.length;Ut<Vt;Ut++)for(var qt in Ct=arguments[Ut])Object.prototype.hasOwnProperty.call(Ct,qt)&&(ht[qt]=Ct[qt]);return ht},st.apply(this,arguments)};_.TextDirection=void 0,(ot=_.TextDirection||(_.TextDirection={})).RightToLeft="RTL",ot.LeftToRight="LTR";var _t,yt=et.createContext({currentTheme:"light",direction:_.TextDirection.LeftToRight,setCurrentTheme:function(){}}),gt=function(ht){var Ct=[];return Object.keys(ht).forEach(function(Ut){Ut&&ht[Ut]&&Ct.push(Ut)}),Ct.join(" ")},pt=typeof window<"u"?et.useLayoutEffect:et.useEffect,kt=function(ht){var Ct=et.useRef(null),Ut=ht.once,Vt=ht.threshold,qt=ht.onVisibilityChanged;return pt(function(){var Qt=Ct.current;if(Qt){var fn=new IntersectionObserver(function(sn){sn.forEach(function(Wt){var un=Wt.isIntersecting,ln=Wt.intersectionRatio;qt({isVisible:un,ratio:ln}),un&&Ut&&(fn.unobserve(Qt),fn.disconnect())})},{threshold:Vt||0});return fn.observe(Qt),function(){fn.unobserve(Qt),fn.disconnect()}}},[]),Ct},At=function(ht){var Ct=ht.children,Ut=ht.ignoreDirection,Vt=Ut!==void 0&&Ut,qt=ht.size,Qt=qt===void 0?24:qt,fn=et.useContext(yt).direction,sn=!Vt&&fn===_.TextDirection.RightToLeft,Wt="".concat(Qt||24,"px");return et.createElement("svg",{"aria-hidden":"true",className:gt({"rpv-core__icon":!0,"rpv-core__icon--rtl":sn}),focusable:"false",height:Wt,viewBox:"0 0 24 24",width:Wt},Ct)},at=function(){return et.createElement(At,{size:16},et.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},lt=function(ht){var Ct=ht.children,Ut=ht.testId,Vt=ht.onClick,qt=et.useContext(yt).direction===_.TextDirection.RightToLeft,Qt=Ut?{"data-testid":Ut}:{};return et.createElement("button",st({className:gt({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":qt}),type:"button",onClick:Vt},Qt),Ct)},dt=function(ht){var Ct=ht.size,Ut=Ct===void 0?"4rem":Ct,Vt=ht.testId,qt=et.useState(!1),Qt=qt[0],fn=qt[1],sn=Vt?{"data-testid":Vt}:{},Wt=kt({onVisibilityChanged:function(un){fn(un.isVisible)}});return et.createElement("div",st({},sn,{className:gt({"rpv-core__spinner":!0,"rpv-core__spinner--animating":Qt}),ref:Wt,style:{height:Ut,width:Ut}}))},wt=function(ht){var Ct=ht.ariaLabel,Ut=Ct===void 0?"":Ct,Vt=ht.autoFocus,qt=Vt!==void 0&&Vt,Qt=ht.placeholder,fn=Qt===void 0?"":Qt,sn=ht.testId,Wt=ht.type,un=Wt===void 0?"text":Wt,ln=ht.value,Ln=ln===void 0?"":ln,Fn=ht.onChange,Mn=ht.onKeyDown,Un=Mn===void 0?function(){}:Mn,zn=et.useContext(yt).direction,Nn=et.useRef(),kr=zn===_.TextDirection.RightToLeft,lr={ref:Nn,"data-testid":"","aria-label":Ut,className:gt({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":kr}),placeholder:fn,value:Ln,onChange:function(ur){return Fn(ur.target.value)},onKeyDown:Un};return sn&&(lr["data-testid"]=sn),pt(function(){if(qt){var ur=Nn.current;if(ur){var mr=window.scrollX,tr=window.scrollY;ur.focus(),window.scrollTo(mr,tr)}}},[]),un==="text"?et.createElement("input",st({type:"text"},lr)):et.createElement("input",st({type:"password"},lr))};(function(ht){ht[ht.ExitFullScreen=0]="ExitFullScreen",ht[ht.FullScreenChange=1]="FullScreenChange",ht[ht.FullScreenElement=2]="FullScreenElement",ht[ht.FullScreenEnabled=3]="FullScreenEnabled",ht[ht.RequestFullScreen=4]="RequestFullScreen"})(_t||(_t={}));var ut,Et={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},ft={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},St={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},xt=typeof window<"u",Dt=xt&&(_t.FullScreenEnabled in document&&Et||ft.FullScreenEnabled in document&&ft||St.FullScreenEnabled in document&&St)||Et,bt=function(){return xt&&Dt.FullScreenEnabled in document&&document[Dt.FullScreenEnabled]===!0},Ft=function(ht){return xt?ht[Dt.ExitFullScreen]():Promise.resolve({})},$t=function(){return xt?document[Dt.FullScreenElement]:null},gn=function(ht,Ct){var Ut=et.useRef(),Vt=function(){Ut.current&&clearTimeout(Ut.current)};return et.useEffect(function(){return function(){return Vt()}},[]),et.useCallback(function(){for(var qt=[],Qt=0;Qt<arguments.length;Qt++)qt[Qt]=arguments[Qt];Vt(),Ut.current=setTimeout(function(){ht.apply(void 0,qt)},Ct)},[ht,Ct])},Yt=function(){var ht=et.useRef(!1);return et.useEffect(function(){return ht.current=!0,function(){ht.current=!1}},[]),ht},rn=function(ht){var Ct=et.useRef(ht);return et.useEffect(function(){Ct.current=ht},[ht]),Ct.current};(function(ht){ht.NotRenderedYet="NotRenderedYet",ht.Rendering="Rendering",ht.Rendered="Rendered"})(ut||(ut={}));var Xt,Gt=-9999,Tt=function(ht){var Ct=ht.doc,Ut=Ct.numPages,Vt=Ct.loadingTask.docId,qt=et.useMemo(function(){return Array(Ut).fill(null).map(function(sn,Wt){return{pageIndex:Wt,renderStatus:ut.NotRenderedYet,visibility:Gt}})},[Vt]),Qt=et.useRef({currentRenderingPage:-1,startRange:0,endRange:Ut-1,visibilities:qt}),fn=function(sn,Wt){Qt.current.visibilities[sn].visibility=Wt};return{getHighestPriorityPage:function(){var sn=Qt.current.visibilities.slice(Qt.current.startRange,Qt.current.endRange+1).filter(function(Fn){return Fn.visibility>Gt});if(!sn.length)return-1;for(var Wt=sn[0].pageIndex,un=sn[sn.length-1].pageIndex,ln=sn.length,Ln=0;Ln<ln;Ln++){if(sn[Ln].renderStatus===ut.Rendering)return-1;if(sn[Ln].renderStatus===ut.NotRenderedYet)return sn[Ln].pageIndex}return un+1<Ut&&Qt.current.visibilities[un+1].renderStatus!==ut.Rendered?un+1:Wt-1>=0&&Qt.current.visibilities[Wt-1].renderStatus!==ut.Rendered?Wt-1:-1},isInRange:function(sn){return sn>=Qt.current.startRange&&sn<=Qt.current.endRange},markNotRendered:function(){for(var sn=0;sn<Ut;sn++)Qt.current.visibilities[sn].renderStatus=ut.NotRenderedYet},markRendered:function(sn){Qt.current.visibilities[sn].renderStatus=ut.Rendered},markRendering:function(sn){Qt.current.currentRenderingPage!==-1&&Qt.current.currentRenderingPage!==sn&&Qt.current.visibilities[Qt.current.currentRenderingPage].renderStatus===ut.Rendering&&(Qt.current.visibilities[Qt.current.currentRenderingPage].renderStatus=ut.NotRenderedYet),Qt.current.visibilities[sn].renderStatus=ut.Rendering,Qt.current.currentRenderingPage=sn},setOutOfRange:function(sn){fn(sn,Gt)},setRange:function(sn,Wt){Qt.current.startRange=sn,Qt.current.endRange=Wt;for(var un=0;un<Ut;un++)(un<sn||un>Wt)&&(Qt.current.visibilities[un].visibility=Gt,Qt.current.visibilities[un].renderStatus=ut.NotRenderedYet)},setVisibility:fn}},Ht={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},Jt=et.createContext({l10n:Ht,setL10n:function(){}}),Mt=0,mt=function(){return Mt++},vt=function(ht,Ct,Ut){var Vt=function(qt){var Qt=Ct.current;if(Qt){var fn=qt.target;if(fn instanceof Element&&fn.shadowRoot){var sn=qt.composedPath();sn.length>0&&!Qt.contains(sn[0])&&Ut()}else Qt.contains(fn)||Ut()}};et.useEffect(function(){if(ht){var qt={capture:!0};return document.addEventListener("click",Vt,qt),function(){document.removeEventListener("click",Vt,qt)}}},[])},Pt=function(ht){var Ct=function(Ut){Ut.key==="Escape"&&ht()};et.useEffect(function(){return document.addEventListener("keyup",Ct),function(){document.removeEventListener("keyup",Ct)}},[])},It=function(ht){var Ct=ht.ariaControlsSuffix,Ut=ht.children,Vt=ht.closeOnClickOutside,qt=ht.closeOnEscape,Qt=ht.onToggle,fn=et.useRef(),sn=et.useContext(yt).direction===_.TextDirection.RightToLeft;return et.useEffect(function(){var Wt=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=Wt}},[]),Pt(function(){fn.current&&qt&&Qt()}),vt(Vt,fn,Qt),pt(function(){var Wt=fn.current;if(Wt){var un=.75*document.body.clientHeight;Wt.getBoundingClientRect().height>=un&&(Wt.style.overflow="auto",Wt.style.maxHeight="".concat(un,"px"))}},[]),et.createElement("div",{"aria-modal":"true",className:gt({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":sn}),id:"rpv-core__modal-body-".concat(Ct),ref:fn,role:"dialog",tabIndex:-1},Ut)},jt=function(ht){var Ct=ht.children;return et.createElement("div",{className:"rpv-core__modal-overlay"},Ct)};_.ToggleStatus=void 0,(Xt=_.ToggleStatus||(_.ToggleStatus={})).Close="Close",Xt.Open="Open",Xt.Toggle="Toggle";var Nt,Zt=function(ht){var Ct=et.useState(ht),Ut=Ct[0],Vt=Ct[1];return{opened:Ut,toggle:function(qt){switch(qt){case _.ToggleStatus.Close:Vt(!1);break;case _.ToggleStatus.Open:Vt(!0);break;case _.ToggleStatus.Toggle:default:Vt(function(Qt){return!Qt})}}}},vn=function(ht){var Ct=ht.content,Ut=ht.isOpened,Vt=Ut!==void 0&&Ut,qt=ht.target,Qt=Zt(Vt),fn=Qt.opened,sn=Qt.toggle;return et.createElement(et.Fragment,null,qt&&qt(sn,fn),fn&&Ct(sn))};_.Position=void 0,(Nt=_.Position||(_.Position={})).TopLeft="TOP_LEFT",Nt.TopCenter="TOP_CENTER",Nt.TopRight="TOP_RIGHT",Nt.RightTop="RIGHT_TOP",Nt.RightCenter="RIGHT_CENTER",Nt.RightBottom="RIGHT_BOTTOM",Nt.BottomLeft="BOTTOM_LEFT",Nt.BottomCenter="BOTTOM_CENTER",Nt.BottomRight="BOTTOM_RIGHT",Nt.LeftTop="LEFT_TOP",Nt.LeftCenter="LEFT_CENTER",Nt.LeftBottom="LEFT_BOTTOM";var En,Sn,An,Pn,Rn,cn,dn,Rt,zt=function(ht,Ct,Ut,Vt,qt){pt(function(){var Qt=Ct.current,fn=ht.current,sn=Ut.current;if(fn&&Qt&&sn){var Wt=sn.getBoundingClientRect(),un=function(Fn,Mn,Un,zn){var Nn=Mn.getBoundingClientRect(),kr=Fn.getBoundingClientRect(),lr=kr.height,ur=kr.width,mr=0,tr=0;switch(Un){case _.Position.TopLeft:mr=Nn.top-lr,tr=Nn.left;break;case _.Position.TopCenter:mr=Nn.top-lr,tr=Nn.left+Nn.width/2-ur/2;break;case _.Position.TopRight:mr=Nn.top-lr,tr=Nn.left+Nn.width-ur;break;case _.Position.RightTop:mr=Nn.top,tr=Nn.left+Nn.width;break;case _.Position.RightCenter:mr=Nn.top+Nn.height/2-lr/2,tr=Nn.left+Nn.width;break;case _.Position.RightBottom:mr=Nn.top+Nn.height-lr,tr=Nn.left+Nn.width;break;case _.Position.BottomLeft:mr=Nn.top+Nn.height,tr=Nn.left;break;case _.Position.BottomCenter:mr=Nn.top+Nn.height,tr=Nn.left+Nn.width/2-ur/2;break;case _.Position.BottomRight:mr=Nn.top+Nn.height,tr=Nn.left+Nn.width-ur;break;case _.Position.LeftTop:mr=Nn.top,tr=Nn.left-ur;break;case _.Position.LeftCenter:mr=Nn.top+Nn.height/2-lr/2,tr=Nn.left-ur;break;case _.Position.LeftBottom:mr=Nn.top+Nn.height-lr,tr=Nn.left-ur}return{left:tr+(zn.left||0),top:mr+(zn.top||0)}}(fn,Qt,Vt,qt),ln=un.top,Ln=un.left;fn.style.top="".concat(ln-Wt.top,"px"),fn.style.left="".concat(Ln-Wt.left,"px")}},[])},nn=function(ht){var Ct,Ut=ht.customClassName,Vt=ht.position;return et.createElement("div",{className:gt((Ct={"rpv-core__arrow":!0,"rpv-core__arrow--tl":Vt===_.Position.TopLeft,"rpv-core__arrow--tc":Vt===_.Position.TopCenter,"rpv-core__arrow--tr":Vt===_.Position.TopRight,"rpv-core__arrow--rt":Vt===_.Position.RightTop,"rpv-core__arrow--rc":Vt===_.Position.RightCenter,"rpv-core__arrow--rb":Vt===_.Position.RightBottom,"rpv-core__arrow--bl":Vt===_.Position.BottomLeft,"rpv-core__arrow--bc":Vt===_.Position.BottomCenter,"rpv-core__arrow--br":Vt===_.Position.BottomRight,"rpv-core__arrow--lt":Vt===_.Position.LeftTop,"rpv-core__arrow--lc":Vt===_.Position.LeftCenter,"rpv-core__arrow--lb":Vt===_.Position.LeftBottom},Ct["".concat(Ut)]=Ut!=="",Ct))})},hn=function(ht){var Ct=ht.ariaControlsSuffix,Ut=ht.children,Vt=ht.closeOnClickOutside,qt=ht.offset,Qt=ht.position,fn=ht.targetRef,sn=ht.onClose,Wt=et.useRef(),un=et.useRef(),ln=et.useRef(),Ln=et.useContext(yt).direction===_.TextDirection.RightToLeft;vt(Vt,Wt,sn),zt(Wt,fn,ln,Qt,qt),pt(function(){var Mn=un.current;if(Mn){var Un=.75*document.body.clientHeight;Mn.getBoundingClientRect().height>=Un&&(Mn.style.overflow="auto",Mn.style.maxHeight="".concat(Un,"px"))}},[]);var Fn="rpv-core__popover-body-inner-".concat(Ct);return et.createElement(et.Fragment,null,et.createElement("div",{ref:ln,style:{left:0,position:"absolute",top:0}}),et.createElement("div",{"aria-describedby":Fn,className:gt({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":Ln}),id:"rpv-core__popover-body-".concat(Ct),ref:Wt,role:"dialog",tabIndex:-1},et.createElement(nn,{customClassName:"rpv-core__popover-body-arrow",position:Qt}),et.createElement("div",{id:Fn,ref:un},Ut)))},wn=function(ht){var Ct=ht.closeOnEscape,Ut=ht.onClose,Vt=et.useRef();return Pt(function(){Vt.current&&Ct&&Ut()}),et.createElement("div",{className:"rpv-core__popover-overlay",ref:Vt})},Tn=function(ht){var Ct=ht.ariaControlsSuffix,Ut=ht.children,Vt=ht.contentRef,qt=ht.offset,Qt=ht.position,fn=ht.targetRef,sn=et.useRef(),Wt=et.useContext(yt).direction===_.TextDirection.RightToLeft;return zt(Vt,fn,sn,Qt,qt),et.createElement(et.Fragment,null,et.createElement("div",{ref:sn,style:{left:0,position:"absolute",top:0}}),et.createElement("div",{className:gt({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":Wt}),id:"rpv-core__tooltip-body-".concat(Ct),ref:Vt,role:"tooltip"},et.createElement(nn,{customClassName:"rpv-core__tooltip-body-arrow",position:Qt}),et.createElement("div",{className:"rpv-core__tooltip-body-content"},Ut)))};_.FullScreenMode=void 0,(En=_.FullScreenMode||(_.FullScreenMode={})).Normal="Normal",En.Entering="Entering",En.Entered="Entered",En.EnteredCompletely="EnteredCompletely",En.Exitting="Exitting",En.Exited="Exited",_.LayerRenderStatus=void 0,(Sn=_.LayerRenderStatus||(_.LayerRenderStatus={}))[Sn.PreRender=0]="PreRender",Sn[Sn.DidRender=1]="DidRender",_.PageMode=void 0,(An=_.PageMode||(_.PageMode={})).Attachments="UseAttachments",An.Bookmarks="UseOutlines",An.ContentGroup="UseOC",An.Default="UserNone",An.FullScreen="FullScreen",An.Thumbnails="UseThumbs",_.PasswordStatus=void 0,(Pn=_.PasswordStatus||(_.PasswordStatus={})).RequiredPassword="RequiredPassword",Pn.WrongPassword="WrongPassword",_.RotateDirection=void 0,(Rn=_.RotateDirection||(_.RotateDirection={})).Backward="Backward",Rn.Forward="Forward",_.ScrollMode=void 0,(cn=_.ScrollMode||(_.ScrollMode={})).Page="Page",cn.Horizontal="Horizontal",cn.Vertical="Vertical",cn.Wrapped="Wrapped",_.SpecialZoomLevel=void 0,(dn=_.SpecialZoomLevel||(_.SpecialZoomLevel={})).ActualSize="ActualSize",dn.PageFit="PageFit",dn.PageWidth="PageWidth",_.ViewMode=void 0,(Rt=_.ViewMode||(_.ViewMode={})).DualPage="DualPage",Rt.DualPageWithCover="DualPageWithCover",Rt.SinglePage="SinglePage";var kn,tn=function(ht,Ct){return ht.reduce(function(Ut,Vt,qt){return qt%Ct?Ut[Ut.length-1].push(Vt):Ut.push([Vt]),Ut},[])},$n=function(ht,Ct){switch(Ct[1].name){case"XYZ":return{bottomOffset:function(Ut,Vt){return Ct[3]===null?Vt:Ct[3]},leftOffset:function(Ut,Vt){return Ct[2]===null?0:Ct[2]},pageIndex:ht,scaleTo:Ct[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:ht,scaleTo:_.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:Ct[2],leftOffset:0,pageIndex:ht,scaleTo:_.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:ht,scaleTo:1}}},In=new Map,hr=new Map,ar=function(ht,Ct){return"".concat(ht.loadingTask.docId,"___").concat(Ct.num,"R").concat(Ct.gen===0?"":Ct.gen)},br=function(ht,Ct,Ut){In.set(ar(ht,Ct),Ut)},Wn=function(ht,Ct){if(!ht)return Promise.reject("The document is not loaded yet");var Ut="".concat(ht.loadingTask.docId,"___").concat(Ct),Vt=hr.get(Ut);return Vt?Promise.resolve(Vt):new Promise(function(qt,Qt){ht.getPage(Ct+1).then(function(fn){hr.set(Ut,fn),fn.ref&&br(ht,fn.ref,Ct),qt(fn)})})},er=function(ht,Ct){return new Promise(function(Ut){new Promise(function(Vt){typeof Ct=="string"?ht.getDestination(Ct).then(function(qt){Vt(qt)}):Vt(Ct)}).then(function(Vt){if(typeof Vt[0]=="object"&&Vt[0]!==null){var qt=Vt[0],Qt=function(sn,Wt){var un=ar(sn,Wt);return In.has(un)?In.get(un):null}(ht,qt);Qt===null?ht.getPageIndex(qt).then(function(sn){br(ht,qt,sn),er(ht,Ct).then(function(Wt){return Ut(Wt)})}):Ut($n(Qt,Vt))}else{var fn=$n(Vt[0],Vt);Ut(fn)}})})};(function(ht){ht[ht.Solid=1]="Solid",ht[ht.Dashed=2]="Dashed",ht[ht.Beveled=3]="Beveled",ht[ht.Inset=4]="Inset",ht[ht.Underline=5]="Underline"})(kn||(kn={}));var vr,Mr=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),xn=function(ht,Ct,Ut,Vt){var qt=parseInt(ht,10);return qt>=Ct&&qt<=Ut?qt:Vt},an=function(ht){return ht.contentsObj?ht.contentsObj.str:ht.contents||""},on=function(ht){return ht.titleObj?ht.titleObj.str:ht.title||""},Vn=function(ht){var Ct=ht.annotation,Ut=et.useContext(yt).direction,Vt=on(Ct),qt=an(Ct),Qt=Ut===_.TextDirection.RightToLeft,fn=et.useRef(),sn="";if(Ct.modificationDate){var Wt=function(un){var ln=Mr.exec(un);if(!ln)return null;var Ln=parseInt(ln[1],10),Fn=xn(ln[2],1,12,1)-1,Mn=xn(ln[3],1,31,1),Un=xn(ln[4],0,23,0),zn=xn(ln[5],0,59,0),Nn=xn(ln[6],0,59,0),kr=ln[7]||"Z",lr=xn(ln[8],0,23,0),ur=xn(ln[9],0,59,0);switch(kr){case"-":Un+=lr,zn+=ur;break;case"+":Un-=lr,zn-=ur}return new Date(Date.UTC(Ln,Fn,Mn,Un,zn,Nn))}(Ct.modificationDate);sn=Wt?"".concat(Wt.toLocaleDateString(),", ").concat(Wt.toLocaleTimeString()):""}return et.useLayoutEffect(function(){if(fn.current){var un=document.querySelector('[data-annotation-id="'.concat(Ct.id,'"]'));if(un){var ln=un;return ln.style.zIndex+=1,function(){ln.style.zIndex="".concat(parseInt(ln.style.zIndex,10)-1)}}}},[]),et.createElement("div",{ref:fn,className:gt({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":Qt}),style:{top:Ct.annotationType===_.AnnotationType.Popup?"":"100%"}},Vt&&et.createElement(et.Fragment,null,et.createElement("div",{className:gt({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!Qt,"rpv-core__annotation-popup-title--rtl":Qt})},Vt),et.createElement("div",{className:"rpv-core__annotation-popup-date"},sn)),qt&&et.createElement("div",{className:"rpv-core__annotation-popup-content"},qt.split(`
`).map(function(un,ln){return et.createElement(et.Fragment,{key:ln},un,et.createElement("br",null))})))};(function(ht){ht.Click="Click",ht.Hover="Hover"})(vr||(vr={}));var Yn,ir=function(ht){var Ct,Ut=ht.annotation,Vt=ht.children,qt=ht.ignoreBorder,Qt=ht.hasPopup,fn=ht.isRenderable,sn=ht.page,Wt=ht.viewport,un=Ut.rect,ln=function(){var fr=Zt(!1),Lr=fr.opened,Fr=fr.toggle,Dr=et.useState(vr.Hover),Ir=Dr[0],jr=Dr[1];return{opened:Lr,closeOnHover:function(){Ir===vr.Hover&&Fr(_.ToggleStatus.Close)},openOnHover:function(){Ir===vr.Hover&&Fr(_.ToggleStatus.Open)},toggleOnClick:function(){switch(Ir){case vr.Click:Lr&&jr(vr.Hover),Fr(_.ToggleStatus.Toggle);break;case vr.Hover:jr(vr.Click),Fr(_.ToggleStatus.Open)}}}}(),Ln=ln.closeOnHover,Fn=ln.opened,Mn=ln.openOnHover,Un=ln.toggleOnClick,zn=(Ct=[un[0],sn.view[3]+sn.view[1]-un[1],un[2],sn.view[3]+sn.view[1]-un[3]],[Math.min(Ct[0],Ct[2]),Math.min(Ct[1],Ct[3]),Math.max(Ct[0],Ct[2]),Math.max(Ct[1],Ct[3])]),Nn=un[2]-un[0],kr=un[3]-un[1],lr={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!qt&&Ut.borderStyle.width>0){switch(Ut.borderStyle.style){case kn.Dashed:lr.borderStyle="dashed";break;case kn.Solid:lr.borderStyle="solid";break;case kn.Underline:lr=Object.assign({borderBottomStyle:"solid"},lr);case kn.Beveled:case kn.Inset:}var ur=Ut.borderStyle.width;lr.borderWidth="".concat(ur,"px"),Ut.borderStyle.style!==kn.Underline&&(Nn-=2*ur,kr-=2*ur);var mr=Ut.borderStyle,tr=mr.horizontalCornerRadius,yr=mr.verticalCornerRadius;(tr>0||yr>0)&&(lr.borderRadius="".concat(tr,"px / ").concat(yr,"px")),Ut.color?lr.borderColor="rgb(".concat(0|Ut.color[0],", ").concat(0|Ut.color[1],", ").concat(0|Ut.color[2],")"):lr.borderWidth="0"}return et.createElement(et.Fragment,null,fn&&Vt({popup:{opened:Fn,closeOnHover:Ln,openOnHover:Mn,toggleOnClick:Un},slot:{attrs:{style:Object.assign({height:"".concat(kr,"px"),left:"".concat(zn[0],"px"),top:"".concat(zn[1],"px"),transform:"matrix(".concat(Wt.transform.join(","),")"),transformOrigin:"-".concat(zn[0],"px -").concat(zn[1],"px"),width:"".concat(Nn,"px")},lr)},children:et.createElement(et.Fragment,null,Qt&&Fn&&et.createElement(Vn,{annotation:Ut}))}}))},Bt=function(ht){var Ct=ht.annotation,Ut=ht.page,Vt=ht.viewport,qt=Ct.hasPopup===!1,Qt=on(Ct),fn=an(Ct),sn=!!(Ct.hasPopup||Qt||fn);return et.createElement(ir,{annotation:Ct,hasPopup:qt,ignoreBorder:!0,isRenderable:sn,page:Ut,viewport:Vt},function(Wt){return et.createElement("div",st({},Wt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":Ct.id,onClick:Wt.popup.toggleOnClick,onMouseEnter:Wt.popup.openOnHover,onMouseLeave:Wt.popup.closeOnHover}),Wt.slot.children)})},bn=function(ht){var Ct=ht.annotation,Ut=ht.page,Vt=ht.viewport,qt=Ct.hasPopup===!1,Qt=on(Ct),fn=an(Ct),sn=!!(Ct.hasPopup||Qt||fn),Wt=Ct.rect,un=Wt[2]-Wt[0],ln=Wt[3]-Wt[1],Ln=Ct.borderStyle.width;return et.createElement(ir,{annotation:Ct,hasPopup:qt,ignoreBorder:!0,isRenderable:sn,page:Ut,viewport:Vt},function(Fn){return et.createElement("div",st({},Fn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":Ct.id,onClick:Fn.popup.toggleOnClick,onMouseEnter:Fn.popup.openOnHover,onMouseLeave:Fn.popup.closeOnHover}),et.createElement("svg",{height:"".concat(ln,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(un," ").concat(ln),width:"".concat(un,"px")},et.createElement("circle",{cy:ln/2,fill:"none",rx:un/2-Ln/2,ry:ln/2-Ln/2,stroke:"transparent",strokeWidth:Ln||1})),Fn.slot.children)})},jn=function(ht){var Ct=ht.annotation,Ut=ht.page,Vt=ht.viewport,qt=on(Ct),Qt=an(Ct),fn=!(Ct.hasPopup!==!1||!qt&&!Qt),sn=function(){var Wt,un,ln,Ln,Fn=Ct.file;Fn&&(Wt=Fn.filename,un=Fn.content,ln=typeof un=="string"?"":URL.createObjectURL(new Blob([un],{type:""})),(Ln=document.createElement("a")).style.display="none",Ln.href=ln||Wt,Ln.setAttribute("download",function(Mn){var Un=Mn.split("/").pop();return Un?Un.split("#")[0].split("?")[0]:Mn}(Wt)),document.body.appendChild(Ln),Ln.click(),document.body.removeChild(Ln),ln&&URL.revokeObjectURL(ln))};return et.createElement(ir,{annotation:Ct,hasPopup:fn,ignoreBorder:!0,isRenderable:!0,page:Ut,viewport:Vt},function(Wt){return et.createElement("div",st({},Wt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":Ct.id,onClick:Wt.popup.toggleOnClick,onDoubleClick:sn,onMouseEnter:Wt.popup.openOnHover,onMouseLeave:Wt.popup.closeOnHover}),Wt.slot.children)})},qn=function(ht){var Ct=ht.annotation,Ut=ht.page,Vt=ht.viewport,qt=Ct.hasPopup===!1,Qt=on(Ct),fn=an(Ct),sn=!!(Ct.hasPopup||Qt||fn);return et.createElement(ir,{annotation:Ct,hasPopup:qt,ignoreBorder:!0,isRenderable:sn,page:Ut,viewport:Vt},function(Wt){return et.createElement("div",st({},Wt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":Ct.id,onClick:Wt.popup.toggleOnClick,onMouseEnter:Wt.popup.openOnHover,onMouseLeave:Wt.popup.closeOnHover}),Wt.slot.children)})},Zn=function(ht){var Ct=ht.annotation,Ut=ht.page,Vt=ht.viewport,qt=on(Ct),Qt=an(Ct),fn=!(!qt&&!Qt),sn=!Ct.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(Ct.parentType)!==-1;return pt(function(){if(Ct.parentId){var Wt=document.querySelector('[data-annotation-id="'.concat(Ct.parentId,'"]')),un=document.querySelector('[data-annotation-id="'.concat(Ct.id,'"]'));if(Wt&&un){var ln=parseFloat(Wt.style.left),Ln=parseFloat(Wt.style.top)+parseFloat(Wt.style.height);un.style.left="".concat(ln,"px"),un.style.top="".concat(Ln,"px"),un.style.transformOrigin="-".concat(ln,"px -").concat(Ln,"px")}}},[]),et.createElement(ir,{annotation:Ct,hasPopup:sn,ignoreBorder:!1,isRenderable:fn,page:Ut,viewport:Vt},function(Wt){return et.createElement("div",st({},Wt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":Ct.id}),et.createElement(Vn,{annotation:Ct}))})},Hn=function(ht){var Ct=ht.annotation,Ut=ht.childAnnotation,Vt=ht.page,qt=ht.viewport,Qt=Ct.hasPopup===!1,fn=on(Ct),sn=an(Ct),Wt=!!(Ct.hasPopup||fn||sn);if(Ct.quadPoints&&Ct.quadPoints.length>0){var un=Ct.quadPoints.map(function(ln){return Object.assign({},Ct,{rect:[ln[2].x,ln[2].y,ln[1].x,ln[1].y],quadPoints:[]})});return et.createElement(et.Fragment,null,un.map(function(ln,Ln){return et.createElement(Hn,{key:Ln,annotation:ln,childAnnotation:Ut,page:Vt,viewport:qt})}))}return et.createElement(ir,{annotation:Ct,hasPopup:Qt,ignoreBorder:!0,isRenderable:Wt,page:Vt,viewport:qt},function(ln){return et.createElement(et.Fragment,null,et.createElement("div",st({},ln.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":Ct.id,onClick:ln.popup.toggleOnClick,onMouseEnter:ln.popup.openOnHover,onMouseLeave:ln.popup.closeOnHover}),ln.slot.children),Ut&&Ut.annotationType===_.AnnotationType.Popup&&ln.popup.opened&&et.createElement(Zn,{annotation:Ut,page:Vt,viewport:qt}))})},Ot=function(ht){var Ct=ht.annotation,Ut=ht.page,Vt=ht.viewport,qt=Ct.hasPopup===!1,Qt=on(Ct),fn=an(Ct),sn=!!(Ct.hasPopup||Qt||fn),Wt=Ct.rect,un=Wt[2]-Wt[0],ln=Wt[3]-Wt[1],Ln=Ct.borderStyle.width;return et.createElement(ir,{annotation:Ct,hasPopup:qt,ignoreBorder:!0,isRenderable:sn,page:Ut,viewport:Vt},function(Fn){return et.createElement("div",st({},Fn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":Ct.id,onClick:Fn.popup.toggleOnClick,onMouseEnter:Fn.popup.openOnHover,onMouseLeave:Fn.popup.closeOnHover}),Ct.inkLists&&Ct.inkLists.length&&et.createElement("svg",{height:"".concat(ln,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(un," ").concat(ln),width:"".concat(un,"px")},Ct.inkLists.map(function(Mn,Un){return et.createElement("polyline",{key:Un,fill:"none",stroke:"transparent",strokeWidth:Ln||1,points:Mn.map(function(zn){return"".concat(zn.x-Wt[0],",").concat(Wt[3]-zn.y)}).join(" ")})})),Fn.slot.children)})},Lt=function(ht){var Ct=ht.annotation,Ut=ht.page,Vt=ht.viewport,qt=Ct.hasPopup===!1,Qt=on(Ct),fn=an(Ct),sn=!!(Ct.hasPopup||Qt||fn),Wt=Ct.rect,un=Wt[2]-Wt[0],ln=Wt[3]-Wt[1],Ln=Ct.borderStyle.width;return et.createElement(ir,{annotation:Ct,hasPopup:qt,ignoreBorder:!0,isRenderable:sn,page:Ut,viewport:Vt},function(Fn){return et.createElement("div",st({},Fn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":Ct.id,onClick:Fn.popup.toggleOnClick,onMouseEnter:Fn.popup.openOnHover,onMouseLeave:Fn.popup.closeOnHover}),et.createElement("svg",{height:"".concat(ln,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(un," ").concat(ln),width:"".concat(un,"px")},et.createElement("line",{stroke:"transparent",strokeWidth:Ln||1,x1:Wt[2]-Ct.lineCoordinates[0],x2:Wt[2]-Ct.lineCoordinates[2],y1:Wt[3]-Ct.lineCoordinates[1],y2:Wt[3]-Ct.lineCoordinates[3]})),Fn.slot.children)})},Kt=/^([^\w]*)(javascript|data|vbscript)/im,yn=/&#(\w+)(^\w|;)?/g,_n=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Cn=/^([^:]+):/gm,Dn=function(ht,Ct){var Ut,Vt=(Ut=ht||"",Ut.replace(yn,function(sn,Wt){return String.fromCharCode(Wt)})).replace(_n,"").trim();if(!Vt)return Ct;var qt=Vt[0];if(qt==="."||qt==="/")return Vt;var Qt=Vt.match(Cn);if(!Qt)return Vt;var fn=Qt[0];return Kt.test(fn)?Ct:Vt},Kn=function(ht){var Ct,Ut=ht.annotation,Vt=ht.annotationContainerRef,qt=ht.doc,Qt=ht.outlines,fn=ht.page,sn=ht.pageIndex,Wt=ht.scale,un=ht.viewport,ln=ht.onExecuteNamedAction,Ln=ht.onJumpFromLinkAnnotation,Fn=ht.onJumpToDest,Mn=et.useRef(),Un=Qt&&Qt.length&&Ut.dest&&typeof Ut.dest=="string"?(Ct=Qt.find(function(lr){return lr.dest===Ut.dest}))===null||Ct===void 0?void 0:Ct.title:"",zn=!!(Ut.url||Ut.dest||Ut.action||Ut.unsafeUrl),Nn={};if(Ut.url||Ut.unsafeUrl){var kr=Dn(Ut.url||Ut.unsafeUrl,"");kr?Nn={"data-target":"external",href:kr,rel:"noopener noreferrer nofollow",target:Ut.newWindow?"_blank":"",title:kr}:zn=!1}else Nn={href:"","data-annotation-link":Ut.id,onClick:function(lr){lr.preventDefault(),Ut.action?ln(Ut.action):er(qt,Ut.dest).then(function(ur){var mr=Mn.current,tr=Vt.current;if(mr&&tr){var yr=mr.getBoundingClientRect();tr.style.setProperty("height","100%"),tr.style.setProperty("width","100%");var fr=tr.getBoundingClientRect();tr.style.removeProperty("height"),tr.style.removeProperty("width");var Lr=(yr.left-fr.left)/Wt,Fr=(fr.bottom-yr.bottom+yr.height)/Wt;Ln({bottomOffset:Fr,label:Un,leftOffset:Lr,pageIndex:sn})}Fn(ur)})}};return Un&&(Nn=Object.assign({},Nn,{title:Un,"aria-label":Un})),et.createElement(ir,{annotation:Ut,hasPopup:!1,ignoreBorder:!1,isRenderable:zn,page:fn,viewport:un},function(lr){return et.createElement("div",st({},lr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":Ut.id,"data-testid":"core__annotation--link-".concat(Ut.id)}),et.createElement("a",st({ref:Mn},Nn)))})},Gn=function(ht){var Ct=ht.annotation,Ut=ht.page,Vt=ht.viewport,qt=Ct.hasPopup===!1,Qt=on(Ct),fn=an(Ct),sn=!!(Ct.hasPopup||Qt||fn),Wt=Ct.rect,un=Wt[2]-Wt[0],ln=Wt[3]-Wt[1],Ln=Ct.borderStyle.width;return et.createElement(ir,{annotation:Ct,hasPopup:qt,ignoreBorder:!0,isRenderable:sn,page:Ut,viewport:Vt},function(Fn){return et.createElement("div",st({},Fn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":Ct.id,onClick:Fn.popup.toggleOnClick,onMouseEnter:Fn.popup.openOnHover,onMouseLeave:Fn.popup.closeOnHover}),Ct.vertices&&Ct.vertices.length&&et.createElement("svg",{height:"".concat(ln,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(un," ").concat(ln),width:"".concat(un,"px")},et.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:Ln||1,points:Ct.vertices.map(function(Mn){return"".concat(Mn.x-Wt[0],",").concat(Wt[3]-Mn.y)}).join(" ")})),Fn.slot.children)})},Bn=function(ht){var Ct=ht.annotation,Ut=ht.page,Vt=ht.viewport,qt=Ct.hasPopup===!1,Qt=on(Ct),fn=an(Ct),sn=!!(Ct.hasPopup||Qt||fn),Wt=Ct.rect,un=Wt[2]-Wt[0],ln=Wt[3]-Wt[1],Ln=Ct.borderStyle.width;return et.createElement(ir,{annotation:Ct,hasPopup:qt,ignoreBorder:!0,isRenderable:sn,page:Ut,viewport:Vt},function(Fn){return et.createElement("div",st({},Fn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":Ct.id,onClick:Fn.popup.toggleOnClick,onMouseEnter:Fn.popup.openOnHover,onMouseLeave:Fn.popup.closeOnHover}),Ct.vertices&&Ct.vertices.length&&et.createElement("svg",{height:"".concat(ln,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(un," ").concat(ln),width:"".concat(un,"px")},et.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:Ln||1,points:Ct.vertices.map(function(Mn){return"".concat(Mn.x-Wt[0],",").concat(Wt[3]-Mn.y)}).join(" ")})),Fn.slot.children)})},gr=function(ht){var Ct=ht.annotation,Ut=ht.page,Vt=ht.viewport,qt=Ct.hasPopup===!1,Qt=on(Ct),fn=an(Ct),sn=!!(Ct.hasPopup||Qt||fn),Wt=Ct.rect,un=Wt[2]-Wt[0],ln=Wt[3]-Wt[1],Ln=Ct.borderStyle.width;return et.createElement(ir,{annotation:Ct,hasPopup:qt,ignoreBorder:!0,isRenderable:sn,page:Ut,viewport:Vt},function(Fn){return et.createElement("div",st({},Fn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":Ct.id,onClick:Fn.popup.toggleOnClick,onMouseEnter:Fn.popup.openOnHover,onMouseLeave:Fn.popup.closeOnHover}),et.createElement("svg",{height:"".concat(ln,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(un," ").concat(ln),width:"".concat(un,"px")},et.createElement("rect",{height:ln-Ln,fill:"none",stroke:"transparent",strokeWidth:Ln||1,x:Ln/2,y:Ln/2,width:un-Ln})),Fn.slot.children)})},Xn=function(ht){var Ct=ht.annotation,Ut=ht.page,Vt=ht.viewport,qt=Ct.hasPopup===!1,Qt=on(Ct),fn=an(Ct),sn=!!(Ct.hasPopup||Qt||fn);return et.createElement(ir,{annotation:Ct,hasPopup:qt,ignoreBorder:!0,isRenderable:sn,page:Ut,viewport:Vt},function(Wt){return et.createElement("div",st({},Wt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":Ct.id,onClick:Wt.popup.toggleOnClick,onMouseEnter:Wt.popup.openOnHover,onMouseLeave:Wt.popup.closeOnHover}),Wt.slot.children)})},Jn=function(ht){var Ct=ht.annotation,Ut=ht.page,Vt=ht.viewport,qt=Ct.hasPopup===!1,Qt=on(Ct),fn=an(Ct),sn=!!(Ct.hasPopup||Qt||fn);return et.createElement(ir,{annotation:Ct,hasPopup:qt,ignoreBorder:!0,isRenderable:sn,page:Ut,viewport:Vt},function(Wt){return et.createElement("div",st({},Wt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":Ct.id,onClick:Wt.popup.toggleOnClick,onMouseEnter:Wt.popup.openOnHover,onMouseLeave:Wt.popup.closeOnHover}),Wt.slot.children)})},cr=function(ht){var Ct=ht.annotation,Ut=ht.page,Vt=ht.viewport,qt=Ct.hasPopup===!1,Qt=on(Ct),fn=an(Ct),sn=!!(Ct.hasPopup||Qt||fn);return et.createElement(ir,{annotation:Ct,hasPopup:qt,ignoreBorder:!0,isRenderable:sn,page:Ut,viewport:Vt},function(Wt){return et.createElement("div",st({},Wt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":Ct.id,onClick:Wt.popup.toggleOnClick,onMouseEnter:Wt.popup.openOnHover,onMouseLeave:Wt.popup.closeOnHover}),Wt.slot.children)})},Er=function(){return et.createElement(At,{size:16},et.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),et.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),et.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),et.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},Pr=function(){return et.createElement(At,{size:16},et.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),et.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),et.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),et.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),et.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),et.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),et.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),et.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),et.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),et.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Nr=function(){return et.createElement(At,{size:16},et.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),et.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},na=function(){return et.createElement(At,{size:16},et.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),et.createElement("path",{d:"M6 4.5L6 0.5"}),et.createElement("path",{d:"M18 4.5L18 0.5"}),et.createElement("path",{d:"M10 4.5L10 0.5"}),et.createElement("path",{d:"M14 4.5L14 0.5"}))},Yr=function(){return et.createElement(At,{size:16},et.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),et.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),et.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},as=function(){return et.createElement(At,{size:16},et.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},os=function(ht){var Ct=ht.annotation,Ut=ht.childAnnotation,Vt=ht.page,qt=ht.viewport,Qt=Ct.hasPopup===!1,fn=on(Ct),sn=an(Ct),Wt=!!(Ct.hasPopup||fn||sn),un=Ct.name?Ct.name.toLowerCase():"";return et.createElement(ir,{annotation:Ct,hasPopup:Qt,ignoreBorder:!1,isRenderable:Wt,page:Vt,viewport:qt},function(ln){return et.createElement(et.Fragment,null,et.createElement("div",st({},ln.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":Ct.id,onClick:ln.popup.toggleOnClick,onMouseEnter:ln.popup.openOnHover,onMouseLeave:ln.popup.closeOnHover}),un&&et.createElement("div",{className:"rpv-core__annotation-text-icon"},un==="check"&&et.createElement(at,null),un==="comment"&&et.createElement(Er,null),un==="help"&&et.createElement(Pr,null),un==="insert"&&et.createElement(as,null),un==="key"&&et.createElement(Nr,null),un==="note"&&et.createElement(na,null),(un==="newparagraph"||un==="paragraph")&&et.createElement(Yr,null)),ln.slot.children),Ut&&Ut.annotationType===_.AnnotationType.Popup&&ln.popup.opened&&et.createElement(Zn,{annotation:Ut,page:Vt,viewport:qt}))})},ls=function(ht){var Ct=ht.annotation,Ut=ht.page,Vt=ht.viewport,qt=Ct.hasPopup===!1,Qt=on(Ct),fn=an(Ct),sn=!!(Ct.hasPopup||Qt||fn);return et.createElement(ir,{annotation:Ct,hasPopup:qt,ignoreBorder:!0,isRenderable:sn,page:Ut,viewport:Vt},function(Wt){return et.createElement("div",st({},Wt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":Ct.id,onClick:Wt.popup.toggleOnClick,onMouseEnter:Wt.popup.openOnHover,onMouseLeave:Wt.popup.closeOnHover}),Wt.slot.children)})},js=function(ht){var Ct=ht.annotations,Ut=ht.doc,Vt=ht.outlines,qt=ht.page,Qt=ht.pageIndex,fn=ht.plugins,sn=ht.rotation,Wt=ht.scale,un=ht.onExecuteNamedAction,ln=ht.onJumpFromLinkAnnotation,Ln=ht.onJumpToDest,Fn=et.useRef(),Mn=qt.getViewport({rotation:sn,scale:Wt}).clone({dontFlip:!0}),Un=Ct.filter(function(zn){return!zn.parentId});return pt(function(){var zn=Fn.current;zn&&fn.forEach(function(Nn){Nn.onAnnotationLayerRender&&Nn.onAnnotationLayerRender({annotations:Un,container:zn,pageIndex:Qt,rotation:sn,scale:Wt})})},[]),et.createElement("div",{ref:Fn,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(Qt)},Un.map(function(zn){var Nn=Ct.find(function(kr){return kr.parentId===zn.id});switch(zn.annotationType){case _.AnnotationType.Caret:return et.createElement(Bt,{key:zn.id,annotation:zn,page:qt,viewport:Mn});case _.AnnotationType.Circle:return et.createElement(bn,{key:zn.id,annotation:zn,page:qt,viewport:Mn});case _.AnnotationType.FileAttachment:return et.createElement(jn,{key:zn.id,annotation:zn,page:qt,viewport:Mn});case _.AnnotationType.FreeText:return et.createElement(qn,{key:zn.id,annotation:zn,page:qt,viewport:Mn});case _.AnnotationType.Highlight:return et.createElement(Hn,{key:zn.id,annotation:zn,childAnnotation:Nn,page:qt,viewport:Mn});case _.AnnotationType.Ink:return et.createElement(Ot,{key:zn.id,annotation:zn,page:qt,viewport:Mn});case _.AnnotationType.Line:return et.createElement(Lt,{key:zn.id,annotation:zn,page:qt,viewport:Mn});case _.AnnotationType.Link:return et.createElement(Kn,{key:zn.id,annotation:zn,annotationContainerRef:Fn,doc:Ut,outlines:Vt,page:qt,pageIndex:Qt,scale:Wt,viewport:Mn,onExecuteNamedAction:un,onJumpFromLinkAnnotation:ln,onJumpToDest:Ln});case _.AnnotationType.Polygon:return et.createElement(Gn,{key:zn.id,annotation:zn,page:qt,viewport:Mn});case _.AnnotationType.Polyline:return et.createElement(Bn,{key:zn.id,annotation:zn,page:qt,viewport:Mn});case _.AnnotationType.Popup:return et.createElement(Zn,{key:zn.id,annotation:zn,page:qt,viewport:Mn});case _.AnnotationType.Square:return et.createElement(gr,{key:zn.id,annotation:zn,page:qt,viewport:Mn});case _.AnnotationType.Squiggly:return et.createElement(Xn,{key:zn.id,annotation:zn,page:qt,viewport:Mn});case _.AnnotationType.Stamp:return et.createElement(Jn,{key:zn.id,annotation:zn,page:qt,viewport:Mn});case _.AnnotationType.StrikeOut:return et.createElement(cr,{key:zn.id,annotation:zn,page:qt,viewport:Mn});case _.AnnotationType.Text:return et.createElement(os,{key:zn.id,annotation:zn,childAnnotation:Nn,page:qt,viewport:Mn});case _.AnnotationType.Underline:return et.createElement(ls,{key:zn.id,annotation:zn,page:qt,viewport:Mn});default:return et.createElement(et.Fragment,{key:zn.id})}}))},Su=function(ht){var Ct=ht.page,Ut=ht.renderAnnotations,Vt=Yt(),qt=et.useState({loading:!0,annotations:[]}),Qt=qt[0],fn=qt[1];return et.useEffect(function(){Ct.getAnnotations({intent:"display"}).then(function(sn){Vt.current&&fn({loading:!1,annotations:sn})})},[]),Qt.loading?et.createElement(et.Fragment,null):Ut(Qt.annotations)},wu=function(ht){var Ct=ht.doc,Ut=ht.outlines,Vt=ht.page,qt=ht.pageIndex,Qt=ht.plugins,fn=ht.rotation,sn=ht.scale,Wt=ht.onExecuteNamedAction,un=ht.onJumpFromLinkAnnotation,ln=ht.onJumpToDest;return et.createElement(Su,{page:Vt,renderAnnotations:function(Ln){return et.createElement(js,{annotations:Ln,doc:Ct,outlines:Ut,page:Vt,pageIndex:qt,plugins:Qt,rotation:fn,scale:sn,onExecuteNamedAction:Wt,onJumpFromLinkAnnotation:un,onJumpToDest:ln})}})},$s=function(ht,Ct){var Ut=ht%Ct;return Ut===0?ht:Math.floor(ht-Ut)},bu=function(ht){var Ct=ht.canvasLayerRef,Ut=ht.height,Vt=ht.page,qt=ht.pageIndex,Qt=ht.plugins,fn=ht.rotation,sn=ht.scale,Wt=ht.width,un=ht.onRenderCanvasCompleted,ln=et.useRef();return pt(function(){var Ln=ln.current;Ln&&Ln.cancel();var Fn=Ct.current;Fn.removeAttribute("data-testid"),Qt.forEach(function(fr){fr.onCanvasLayerRender&&fr.onCanvasLayerRender({ele:Fn,pageIndex:qt,rotation:fn,scale:sn,status:_.LayerRenderStatus.PreRender})});var Mn=Vt.getViewport({rotation:fn,scale:sn}),Un=window.devicePixelRatio||1,zn=Math.sqrt(16777216/(Mn.width*Mn.height)),Nn=Un>zn;Nn?Fn.style.transform="scale(1, 1)":Fn.style.removeProperty("transform");var kr=Math.min(zn,Un),lr=function(fr,Lr){var Fr,Dr;if(Math.floor(fr)===fr)return[fr,1];var Ir=1/fr;if(Ir>Lr)return[1,Lr];if(Math.floor(Ir)===Ir)return[1,Ir];for(var jr=fr>1?Ir:fr,Jr=0,Gr=1,_i=1,qr=1;;){var Qr=Jr+_i,Zr=Gr+qr;if(Zr>Lr)break;jr<=Qr/Zr?(_i=(Fr=[Qr,Zr])[0],qr=Fr[1]):(Jr=(Dr=[Qr,Zr])[0],Gr=Dr[1])}return jr<(Jr/Gr+_i/qr)/2?jr===fr?[Jr,Gr]:[Gr,Jr]:jr===fr?[_i,qr]:[qr,_i]}(kr,8),ur=lr[0],mr=lr[1];Fn.width=$s(Mn.width*kr,ur),Fn.height=$s(Mn.height*kr,ur),Fn.style.width="".concat($s(Mn.width,mr),"px"),Fn.style.height="".concat($s(Mn.height,mr),"px"),Fn.hidden=!0;var tr=Fn.getContext("2d",{alpha:!1}),yr=Nn||Un!==1?[kr,0,0,kr,0,0]:null;return ln.current=Vt.render({canvasContext:tr,transform:yr,viewport:Mn}),ln.current.promise.then(function(){Fn.hidden=!1,Fn.setAttribute("data-testid","core__canvas-layer-".concat(qt)),Qt.forEach(function(fr){fr.onCanvasLayerRender&&fr.onCanvasLayerRender({ele:Fn,pageIndex:qt,rotation:fn,scale:sn,status:_.LayerRenderStatus.DidRender})}),un()},function(){un()}),function(){Fn&&(Fn.width=0,Fn.height=0)}},[]),et.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(Ut,"px"),width:"".concat(Wt,"px")}},et.createElement("canvas",{ref:Ct}))},Au=function(ht){var Ct=ht.height,Ut=ht.page,Vt=ht.rotation,qt=ht.scale,Qt=ht.width,fn=et.useRef();return pt(function(){var sn=fn.current,Wt=Ut.getViewport({rotation:Vt,scale:qt});Ut.getOperatorList().then(function(un){(function(){var ln=fn.current;ln&&(ln.innerHTML="")})(),new nt.SVGGraphics(Ut.commonObjs,Ut.objs).getSVG(un,Wt).then(function(ln){ln.style.height="".concat(Ct,"px"),ln.style.width="".concat(Qt,"px"),sn.appendChild(ln)})})},[]),et.createElement("div",{className:"rpv-core__svg-layer",ref:fn})},xu=function(ht){var Ct=ht.containerRef,Ut=ht.page,Vt=ht.pageIndex,qt=ht.plugins,Qt=ht.rotation,fn=ht.scale,sn=ht.onRenderTextCompleted,Wt=et.useRef(),un=function(){var ln=Ct.current;ln&&([].slice.call(ln.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(Ln){return ln.removeChild(Ln)}),[].slice.call(ln.querySelectorAll('br[role="presentation"]')).forEach(function(Ln){return ln.removeChild(Ln)}))};return pt(function(){var ln=Wt.current;ln&&ln.cancel();var Ln=Ct.current;if(Ln){Ln.removeAttribute("data-testid");var Fn=Ut.getViewport({rotation:Qt,scale:fn});return qt.forEach(function(Mn){Mn.onTextLayerRender&&Mn.onTextLayerRender({ele:Ln,pageIndex:Vt,scale:fn,status:_.LayerRenderStatus.PreRender})}),Ut.getTextContent().then(function(Mn){un(),Wt.current=nt.renderTextLayer({container:Ln,textContent:Mn,textContentSource:Mn,viewport:Fn}),Wt.current.promise.then(function(){Ln.setAttribute("data-testid","core__text-layer-".concat(Vt)),[].slice.call(Ln.children).forEach(function(Un){Un.classList.contains("rpv-core__text-layer-text--not")||Un.classList.add("rpv-core__text-layer-text")}),qt.forEach(function(Un){Un.onTextLayerRender&&Un.onTextLayerRender({ele:Ln,pageIndex:Vt,scale:fn,status:_.LayerRenderStatus.DidRender})}),sn()},function(){Ln.removeAttribute("data-testid"),sn()})}),function(){var Mn;un(),(Mn=Wt.current)===null||Mn===void 0||Mn.cancel()}}},[]),et.createElement("div",{className:"rpv-core__text-layer",ref:Ct})},ku=function(ht){var Ct=ht.doc,Ut=ht.measureRef,Vt=ht.outlines,qt=ht.pageIndex,Qt=ht.pageRotation,fn=ht.pageSize,sn=ht.plugins,Wt=ht.renderPage,un=ht.renderQueueKey,ln=ht.rotation,Ln=ht.scale,Fn=ht.shouldRender,Mn=ht.viewMode,Un=ht.onExecuteNamedAction,zn=ht.onJumpFromLinkAnnotation,Nn=ht.onJumpToDest,kr=ht.onRenderCompleted,lr=ht.onRotatePage,ur=Yt(),mr=et.useState(null),tr=mr[0],yr=mr[1],fr=et.useState(!1),Lr=fr[0],Fr=fr[1],Dr=et.useState(!1),Ir=Dr[0],jr=Dr[1],Jr=et.useRef(),Gr=et.useRef(),_i=Math.abs(ln+Qt)%180==0,qr=fn.pageWidth*Ln,Qr=fn.pageHeight*Ln,Zr=_i?qr:Qr,Kr=_i?Qr:qr,es=(fn.rotation+ln+Qt)%360,cs=et.useRef(0),ss=Wt||function(ba){return et.createElement(et.Fragment,null,ba.canvasLayer.children,ba.textLayer.children,ba.annotationLayer.children)};return et.useEffect(function(){yr(null),Fr(!1),jr(!1)},[Qt,ln,Ln]),et.useEffect(function(){Fn&&ur.current&&!tr&&Wn(Ct,qt).then(function(ba){ur.current&&(cs.current=un,yr(ba))})},[Fn,tr]),et.useEffect(function(){Lr&&Ir&&(un!==cs.current?(yr(null),Fr(!1),jr(!1)):kr(qt))},[Lr,Ir]),et.createElement("div",{className:gt({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":Mn===_.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":Mn===_.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":Mn===_.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(qt),ref:Ut,style:{height:"".concat(Kr,"px"),width:"".concat(Zr,"px")}},tr?et.createElement(et.Fragment,null,ss({annotationLayer:{attrs:{},children:et.createElement(wu,{doc:Ct,outlines:Vt,page:tr,pageIndex:qt,plugins:sn,rotation:es,scale:Ln,onExecuteNamedAction:Un,onJumpFromLinkAnnotation:zn,onJumpToDest:Nn})},canvasLayer:{attrs:{},children:et.createElement(bu,{canvasLayerRef:Jr,height:Kr,page:tr,pageIndex:qt,plugins:sn,rotation:es,scale:Ln,width:Zr,onRenderCanvasCompleted:function(){ur.current&&Fr(!0)}})},canvasLayerRendered:Lr,doc:Ct,height:Kr,pageIndex:qt,rotation:es,scale:Ln,svgLayer:{attrs:{},children:et.createElement(Au,{height:Kr,page:tr,rotation:es,scale:Ln,width:Zr})},textLayer:{attrs:{},children:et.createElement(xu,{containerRef:Gr,page:tr,pageIndex:qt,plugins:sn,rotation:es,scale:Ln,onRenderTextCompleted:function(){ur.current&&jr(!0)}})},textLayerRendered:Ir,width:Zr,markRendered:kr,onRotatePage:function(ba){return lr(qt,ba)}}),sn.map(function(ba,ts){return ba.renderPageLayer?et.createElement(et.Fragment,{key:ts},ba.renderPageLayer({canvasLayerRef:Jr,canvasLayerRendered:Lr,doc:Ct,height:Kr,pageIndex:qt,rotation:es,scale:Ln,textLayerRef:Gr,textLayerRendered:Ir,width:Zr})):et.createElement(et.Fragment,{key:ts})})):et.createElement(dt,{testId:"core__page-layer-loading-".concat(qt)}))},Cu=function(ht,Ct){var Ut=Ct.rect;return ht.height!==Ut.height||ht.width!==Ut.width?Ut:ht};(function(ht){ht.Horizontal="Horizontal",ht.Vertical="Vertical",ht.Both="Both"})(Yn||(Yn={}));var Pu=function(ht){return 1-Math.pow(1-ht,4)},zs=1e-4,yl={left:0,top:0},_l={capture:!1,passive:!0},Ru=function(ht){var Ct=ht.elementRef,Ut=ht.enableSmoothScroll,Vt=ht.isRtl,qt=ht.scrollDirection,Qt=ht.onSmoothScroll,fn=et.useState(yl),sn=fn[0],Wt=fn[1],un=et.useState(Ct.current),ln=un[0],Ln=un[1],Fn=Vt?-1:1,Mn=et.useRef(qt);Mn.current=qt;var Un=et.useRef(yl),zn=et.useRef(!0),Nn=et.useCallback(function(){zn.current=!0,Ut&&Wt(Un.current),Qt(!1)},[]),kr=et.useCallback(function(){if(ln){switch(Mn.current){case Yn.Horizontal:Un.current={left:Fn*ln.scrollLeft,top:0};break;case Yn.Both:Un.current={left:Fn*ln.scrollLeft,top:ln.scrollTop};break;case Yn.Vertical:default:Un.current={left:0,top:ln.scrollTop}}Ut&&!zn.current||Wt(Un.current)}},[ln]);pt(function(){Ln(Ct.current)}),pt(function(){if(ln)return ln.addEventListener("scroll",kr,_l),function(){ln.removeEventListener("scroll",kr,_l)}},[ln]);var lr=et.useCallback(function(ur,mr){var tr=Ct.current;if(!tr)return Promise.resolve();var yr={left:0,top:0};switch(Mn.current){case Yn.Horizontal:yr.left=Fn*ur.left;break;case Yn.Both:yr.left=Fn*ur.left,yr.top=ur.top;break;case Yn.Vertical:default:yr.top=ur.top}return mr?(zn.current=!1,Qt(!0),new Promise(function(fr,Lr){(function(Fr,Dr,Ir,jr,Jr,Gr){Jr===void 0&&(Jr=function(ts){return ts}),Gr===void 0&&(Gr=function(){});var _i=0,qr=0,Qr=!1;switch(Dr){case Yn.Horizontal:qr=Fr.scrollLeft,_i=0;case Yn.Both:qr=Fr.scrollLeft,_i=Fr.scrollTop;break;case Yn.Vertical:default:qr=0,_i=Fr.scrollTop}var Zr=function(){Qr||(Qr=!0,Fr.scrollLeft=Ir.left,Fr.scrollTop=Ir.top,Gr())};if(Math.abs(_i-Ir.top)<=zs&&Dr===Yn.Vertical)Zr();else if(Math.abs(qr-Ir.left)<=zs&&Dr===Yn.Horizontal)Zr();else{var Kr,es=-1,cs=qr-Ir.left,ss=_i-Ir.top,ba=function(ts){es===-1&&(es=ts);var us=ts-es,pr=Math.min(us/jr,1),dr=Jr(pr),nr={left:qr-cs*dr,top:_i-ss*dr};switch(Dr){case Yn.Horizontal:Fr.scrollLeft=nr.left;break;case Yn.Both:Fr.scrollLeft=nr.left,Fr.scrollTop=nr.top;break;case Yn.Vertical:default:Fr.scrollTop=nr.top}Math.abs(nr.top-Ir.top)<=zs&&Math.abs(nr.left-Ir.left)<=zs&&!Qr&&(window.cancelAnimationFrame(Kr),Zr()),us<jr?Kr=window.requestAnimationFrame(ba):window.cancelAnimationFrame(Kr)};Kr=window.requestAnimationFrame(ba)}})(tr,Mn.current,yr,400,Pu,function(){Nn(),fr()})})):new Promise(function(fr,Lr){switch(Mn.current){case Yn.Horizontal:tr.scrollLeft=yr.left;break;case Yn.Both:tr.scrollLeft=yr.left,tr.scrollTop=yr.top;break;case Yn.Vertical:default:tr.scrollTop=yr.top}fr()})},[Ct]);return{scrollOffset:sn,scrollTo:lr}},Ps=function(ht,Ct,Ut){return Math.max(ht,Math.min(Ut,Ct))},Tu=function(ht,Ct){if(Ct!==_.ViewMode.DualPageWithCover)return 0;if(!function(qt){var Qt=qt.length;if(Qt===1)return!1;for(var fn=1;fn<Qt;fn++)if(qt[fn].height!==qt[0].height||qt[fn].width!==qt[0].width)return!0;return!1}(ht))return 2*ht[0].width;var Ut=tn(ht.slice(1),2).map(function(qt){return qt.length===2?qt[0].width+qt[1].width:qt[0].width}),Vt=[ht[0].width].concat(Ut);return Math.max.apply(Math,Vt)},Mu={left:0,top:0},Fu={left:0,top:0},so={left:0,top:0},Lu={left:0,top:0},Du={height:0,width:0},El={left:0,top:0},Sl="data-virtual-index",Iu=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],Ou=function(ht){var Ct=ht.enableSmoothScroll,Ut=ht.isRtl,Vt=ht.numberOfItems,qt=ht.parentRef,Qt=ht.setRenderRange,fn=ht.sizes,sn=ht.scrollMode,Wt=ht.viewMode,un=et.useState(!1),ln=un[0],Ln=un[1],Fn=et.useCallback(function(pr){return Ln(pr)},[]),Mn=et.useRef(sn);Mn.current=sn;var Un=et.useRef(Wt);Un.current=Wt;var zn=sn===_.ScrollMode.Wrapped||Wt===_.ViewMode.DualPageWithCover||Wt===_.ViewMode.DualPage?Yn.Both:sn===_.ScrollMode.Horizontal?Yn.Horizontal:Yn.Vertical,Nn=Ru({elementRef:qt,enableSmoothScroll:Ct,isRtl:Ut,scrollDirection:zn,onSmoothScroll:Fn}),kr=Nn.scrollOffset,lr=Nn.scrollTo,ur=function(pr){var dr=pr.elementRef,nr=et.useState(dr.current),sr=nr[0],rr=nr[1],_r=et.useRef(!1),Sr=et.useReducer(Cu,{height:0,width:0}),or=Sr[0],Qn=Sr[1];return pt(function(){dr.current!==sr&&rr(dr.current)}),pt(function(){if(sr&&!_r.current){_r.current=!0;var Ar=sr.getBoundingClientRect(),Cr=Ar.height,Vr=Ar.width;Qn({rect:{height:Cr,width:Vr}})}},[sr]),et.useEffect(function(){if(sr){var Ar=new ResizeObserver(function(Cr,Vr){Cr.forEach(function(Br){if(Br.target===sr){var xa=Br.contentRect,ns=xa.height,xr=xa.width;Qn({rect:{height:ns,width:xr}})}})});return Ar.observe(sr),function(){Ar.unobserve(sr)}}},[sr]),or}({elementRef:qt}),mr=et.useRef({scrollOffset:El,measurements:[]});mr.current.scrollOffset=kr;var tr=et.useMemo(function(){return Array(Vt).fill(-1)},[]),yr=et.useState(tr),fr=yr[0],Lr=yr[1],Fr=et.useMemo(function(){var pr=new IntersectionObserver(function(dr){dr.forEach(function(nr){var sr=nr.isIntersecting?nr.intersectionRatio:-1,rr=nr.target.getAttribute(Sl);if(rr){var _r=parseInt(rr,10);0<=_r&&_r<Vt&&Lr(function(Sr){return Sr[_r]=sr,function(or,Qn,Ar){for(var Cr,Vr=0,Br=Qn.length;Vr<Br;Vr++)!Cr&&Vr in Qn||(Cr||(Cr=Array.prototype.slice.call(Qn,0,Vr)),Cr[Vr]=Qn[Vr]);return or.concat(Cr||Array.prototype.slice.call(Qn))}([],Sr)})}})},{threshold:Iu});return pr},[]),Dr=et.useMemo(function(){return sn===_.ScrollMode.Page&&Wt===_.ViewMode.SinglePage?function(pr,dr,nr){for(var sr=[],rr=0;rr<pr;rr++){var _r={height:Math.max(dr.height,nr[rr].height),width:Math.max(dr.width,nr[rr].width)},Sr=rr===0?Lu:sr[rr-1].end,or={left:Sr.left+_r.width,top:Sr.top+_r.height};sr[rr]={index:rr,start:Sr,size:_r,end:or,visibility:-1}}return sr}(Vt,ur,fn):Wt===_.ViewMode.DualPageWithCover?function(pr,dr,nr,sr){for(var rr=[],_r=0,Sr=0,or=so,Qn=0;Qn<pr;Qn++){var Ar=Qn===0?{height:sr===_.ScrollMode.Page?Math.max(dr.height,nr[Qn].height):nr[Qn].height,width:sr===_.ScrollMode.Page?Math.max(dr.width,nr[Qn].width):nr[Qn].width}:{height:sr===_.ScrollMode.Page?Math.max(dr.height,nr[Qn].height):nr[Qn].height,width:Math.max(dr.width/2,nr[Qn].width)};sr===_.ScrollMode.Page?or=Qn===0?so:{left:Qn%2==0?Ar.width:0,top:Math.floor((Qn-1)/2)*Ar.height+rr[0].end.top}:Qn===0?(or=so,_r=nr[0].height,Sr=0):Qn%2==1?(or={left:0,top:_r+=Sr},Sr=Qn===pr-1?nr[Qn].height:Math.max(nr[Qn].height,nr[Qn+1].height)):or={left:rr[Qn-1].end.left,top:_r};var Cr={left:or.left+Ar.width,top:or.top+Ar.height};rr[Qn]={index:Qn,start:or,size:Ar,end:Cr,visibility:-1}}return rr}(Vt,ur,fn,sn):Wt===_.ViewMode.DualPage?function(pr,dr,nr,sr){for(var rr=[],_r=0,Sr=0,or=Fu,Qn=0;Qn<pr;Qn++){var Ar={height:sr===_.ScrollMode.Page?Math.max(dr.height,nr[Qn].height):nr[Qn].height,width:Math.max(dr.width/2,nr[Qn].width)};sr===_.ScrollMode.Page?or={left:Qn%2==0?0:Ar.width,top:Math.floor(Qn/2)*Ar.height}:Qn%2==0?(or={left:0,top:_r+=Sr},Sr=Qn===pr-1?nr[Qn].height:Math.max(nr[Qn].height,nr[Qn+1].height)):or={left:rr[Qn-1].end.left,top:_r};var Cr={left:or.left+Ar.width,top:or.top+Ar.height};rr[Qn]={index:Qn,start:or,size:Ar,end:Cr,visibility:-1}}return rr}(Vt,ur,fn,sn):function(pr,dr,nr,sr){for(var rr=[],_r=0,Sr={left:0,top:0},or=0,Qn=Mu,Ar=0;Ar<pr;Ar++){var Cr=nr[Ar];if(Ar===0)_r=Cr.width,Sr={left:0,top:0},or=Cr.height;else switch(sr){case _.ScrollMode.Wrapped:(_r+=Cr.width)<dr.width?(Qn={left:rr[Ar-1].end.left,top:Sr.top},or=Math.max(or,Cr.height)):(_r=Cr.width,Sr={left:(Qn={left:Sr.left,top:Sr.top+or}).left,top:Qn.top},or=Cr.height);break;case _.ScrollMode.Horizontal:case _.ScrollMode.Vertical:default:Qn=rr[Ar-1].end}var Vr={left:Qn.left+Cr.width,top:Qn.top+Cr.height};rr[Ar]={index:Ar,start:Qn,size:Cr,end:Vr,visibility:-1}}return rr}(Vt,ur,fn,sn)},[sn,fn,Wt,ur]),Ir=Dr[Vt-1]?{height:Dr[Vt-1].end.top,width:Dr[Vt-1].end.left}:Du;mr.current.measurements=Dr;var jr=et.useMemo(function(){var pr=function(Ar,Cr,Vr,Br){var xa=0;switch(Ar){case Yn.Horizontal:xa=Br.left;break;case Yn.Vertical:default:xa=Br.top}var ns=Cr.length-1,xr=function(zr,hs,Ss,Us){for(;zr<=hs;){var vs=(zr+hs)/2|0,Rs=Us(vs);if(Rs<Ss)zr=vs+1;else{if(!(Rs>Ss))return vs;hs=vs-1}}return zr>0?zr-1:0}(0,ns,xa,function(zr){switch(Ar){case Yn.Horizontal:return Cr[zr].start.left;case Yn.Both:case Yn.Vertical:default:return Cr[zr].start.top}});if(Ar===Yn.Both)for(var $a=Cr[xr].start.top;xr-1>=0&&Cr[xr-1].start.top===$a&&Cr[xr-1].start.left>=Br.left;)xr--;for(var Wr=xr;Wr<=ns;){var Xr={top:Cr[Wr].start.top-Br.top,left:Cr[Wr].start.left-Br.left},ga={height:Vr.height-Xr.top,width:Vr.width-Xr.left};if(Ar===Yn.Horizontal&&ga.width<0||Ar===Yn.Vertical&&ga.height<0||Ar===Yn.Both&&(ga.width<0||ga.height<0))break;Wr++}return{start:xr,end:Wr}}(zn,Dr,ur,kr),dr=pr.start,nr=pr.end,sr=fr.slice(Ps(0,Vt,dr),Ps(0,Vt,nr)),rr=dr+sr.reduce(function(Ar,Cr,Vr,Br){return Cr>Br[Ar]?Vr:Ar},0),_r=rr=Ps(0,Vt-1,rr),Sr=Qt({endPage:nr,numPages:Vt,startPage:dr}),or=Sr.startPage,Qn=Sr.endPage;switch(or=Math.max(or,0),Qn=Math.min(Qn,Vt-1),Wt){case _.ViewMode.DualPageWithCover:rr>0&&(_r=rr%2==1?rr:rr-1),or=or===0?0:or%2==1?or:or-1,Vt-(Qn=Qn%2==1?Qn-1:Qn)<=2&&(Qn=Vt-1);break;case _.ViewMode.DualPage:_r=rr%2==0?rr:rr-1,or=or%2==0?or:or-1,Qn=Qn%2==1?Qn:Qn-1;break;case _.ViewMode.SinglePage:default:_r=rr}return{startPage:or,endPage:Qn,maxVisbilityIndex:_r}},[Dr,ur,kr,Wt,fr]),Jr=jr.startPage,Gr=jr.endPage,_i=jr.maxVisbilityIndex,qr=et.useMemo(function(){for(var pr=[],dr=function(sr){var rr=Dr[sr],_r=st(st({},rr),{visibility:fr[sr]!==void 0?fr[sr]:-1,measureRef:function(Sr){Sr&&(Sr.setAttribute(Sl,"".concat(sr)),Fr.observe(Sr))}});pr.push(_r)},nr=Jr;nr<=Gr;nr++)dr(nr);return pr},[Jr,Gr,fr,Dr]),Qr=et.useCallback(function(pr,dr){var nr=mr.current.measurements[Ps(0,Vt-1,pr)],sr=Mn.current===_.ScrollMode.Page?El:dr;return nr?lr({left:sr.left+nr.start.left,top:sr.top+nr.start.top},Ct):Promise.resolve()},[lr,Ct]),Zr=et.useCallback(function(pr,dr){var nr=mr.current.measurements,sr=nr[pr].start,rr=nr.find(function(Sr){return Sr.start.top-sr.top>1e-12});if(!rr)return Promise.resolve();var _r=rr.index;switch(Un.current){case _.ViewMode.DualPage:_r=_r%2==0?_r:_r+1;break;case _.ViewMode.DualPageWithCover:_r=_r%2==1?_r:_r+1}return Qr(_r,dr)},[]),Kr=et.useCallback(function(pr,dr){for(var nr=mr.current.measurements,sr=nr[pr].start,rr=pr,_r=!1,Sr=Vt-1;Sr>=0;Sr--)if(sr.top-nr[Sr].start.top>1e-12){_r=!0,rr=nr[Sr].index;break}if(!_r)return Promise.resolve();switch(Un.current){case _.ViewMode.DualPage:rr=rr%2==0?rr:rr-1;break;case _.ViewMode.DualPageWithCover:rr=rr%2==0?rr-1:rr}return rr===pr&&(rr=pr-1),Qr(rr,dr)},[]),es=et.useCallback(function(pr,dr){if(Un.current===_.ViewMode.DualPageWithCover||Un.current===_.ViewMode.DualPage)return Zr(pr,dr);switch(Mn.current){case _.ScrollMode.Wrapped:return Zr(pr,dr);case _.ScrollMode.Horizontal:case _.ScrollMode.Vertical:default:return Qr(pr+1,dr)}},[]),cs=et.useCallback(function(pr,dr){if(Un.current===_.ViewMode.DualPageWithCover||Un.current===_.ViewMode.DualPage)return Kr(pr,dr);switch(Mn.current){case _.ScrollMode.Wrapped:return Kr(pr,dr);case _.ScrollMode.Horizontal:case _.ScrollMode.Vertical:default:return Qr(pr-1,dr)}},[]),ss=et.useCallback(function(){return function(pr,dr){switch(dr){case _.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(pr.width,"px")};case _.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(pr.height,"px"),width:"100%"}}}(Ir,Mn.current)},[Ir]),ba=et.useCallback(function(pr){return function(dr,nr,sr){return sr!==_.ScrollMode.Page?{}:{height:"".concat(nr.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(dr.start.top,"px)")}}(pr,ur,Mn.current)},[ur]),ts=et.useCallback(function(pr){return function(dr,nr,sr,rr,_r){var Sr,or,Qn,Ar,Cr,Vr,Br,xa=nr?"right":"left",ns=nr?-1:1,xr=sr.length,$a=dr.start.left*ns,Wr=dr.size,Xr=Wr.height,ga=Wr.width;if(rr===_.ViewMode.DualPageWithCover){var zr=_r===_.ScrollMode.Page?0:dr.start.top;return dr.index===0||xr%2==0&&dr.index===xr-1?((Sr={height:"".concat(Xr,"px"),minWidth:"".concat(Tu(sr,rr),"px"),width:"100%"})[xa]=0,Sr.position="absolute",Sr.top=0,Sr.transform="translate(".concat($a,"px, ").concat(zr,"px)"),Sr):((or={height:"".concat(Xr,"px"),width:"".concat(ga,"px")})[xa]=0,or.position="absolute",or.top=0,or.transform="translate(".concat($a,"px, ").concat(zr,"px)"),or)}if(rr===_.ViewMode.DualPage)return(Qn={height:"".concat(Xr,"px"),width:"".concat(ga,"px")})[xa]=0,Qn.position="absolute",Qn.top=0,Qn.transform="translate(".concat($a,"px, ").concat(_r===_.ScrollMode.Page?0:dr.start.top,"px)"),Qn;switch(_r){case _.ScrollMode.Horizontal:return(Ar={height:"100%",width:"".concat(ga,"px")})[xa]=0,Ar.position="absolute",Ar.top=0,Ar.transform="translateX(".concat($a,"px)"),Ar;case _.ScrollMode.Page:return(Cr={height:"".concat(Xr,"px"),width:"".concat(ga,"px")})[xa]=0,Cr.position="absolute",Cr.top=0,Cr;case _.ScrollMode.Wrapped:return(Vr={height:"".concat(Xr,"px"),width:"".concat(ga,"px")})[xa]=0,Vr.position="absolute",Vr.top=0,Vr.transform="translate(".concat($a,"px, ").concat(dr.start.top,"px)"),Vr;case _.ScrollMode.Vertical:default:return(Br={height:"".concat(Xr,"px"),width:"100%"})[xa]=0,Br.position="absolute",Br.top=0,Br.transform="translateY(".concat(dr.start.top,"px)"),Br}}(pr,Ut,fn,Un.current,Mn.current)},[Ut,fn]),us=et.useCallback(function(pr,dr){var nr=mr.current,sr=nr.measurements,rr=nr.scrollOffset,_r=sr[Ps(0,Vt-1,dr)];if(_r){var Sr=Mn.current===_.ScrollMode.Page?{left:_r.start.left,top:_r.start.top}:{left:rr.left*pr,top:rr.top*pr};return lr(Sr,!1)}return Promise.resolve()},[]);return et.useEffect(function(){return function(){Fr.disconnect()}},[]),{boundingClientRect:ur,isSmoothScrolling:ln,startPage:Jr,endPage:Gr,maxVisbilityIndex:_i,virtualItems:qr,getContainerStyles:ss,getItemContainerStyles:ba,getItemStyles:ts,scrollToItem:Qr,scrollToNextItem:es,scrollToPreviousItem:cs,zoom:us}},oo=function(ht,Ct,Ut,Vt,qt,Qt){var fn=Ut;switch(!0){case(qt===_.ViewMode.DualPageWithCover&&Qt>=3):case(qt===_.ViewMode.DualPage&&Qt>=3):fn=2*Ut;break;default:fn=Ut}switch(Vt){case _.SpecialZoomLevel.ActualSize:return 1;case _.SpecialZoomLevel.PageFit:return Math.min((ht.clientWidth-17)/fn,(ht.clientHeight-16)/Ct);case _.SpecialZoomLevel.PageWidth:return(ht.clientWidth-17)/fn}},Nu=function(ht){var Ct,Ut,Vt=ht.getCurrentPage,qt=(Ct=50,Ut=et.useRef([]),et.useEffect(function(){return function(){Ut.current=[]}},[]),{push:function(un){var ln=Ut.current;ln.length+1>Ct&&ln.shift(),ln.push(un),Ut.current=ln},map:function(un){return Ut.current.map(function(ln){return un(ln)})},pop:function(){var un=Ut.current;if(un.length===0)return null;var ln=un.pop();return Ut.current=un,ln}}),Qt=function(un){var ln=et.useRef([]);return et.useEffect(function(){return function(){ln.current=[]}},[]),{dequeue:function(){var Ln=ln.current;if(Ln.length===0)return null;var Fn=Ln.shift();return ln.current=Ln,Fn||null},enqueue:function(Ln){var Fn=ln.current;Fn.length+1>un&&Fn.pop(),ln.current=[Ln].concat(Fn)},map:function(Ln){return ln.current.map(function(Fn){return Ln(Fn)})}}}(50),fn=function(){var un=Qt.dequeue();return un&&qt.push(un),un&&un.pageIndex===Vt()?fn():un},sn=function(){var un=qt.pop();return un&&Qt.enqueue(un),un&&un.pageIndex===Vt()?sn():un},Wt=et.useCallback(function(un){qt.push(un)},[]);return{getNextDestination:fn,getPreviousDestination:sn,markVisitedDestination:Wt}},Al=function(ht){var Ct=[];return ht.map(function(Ut){Ct=Ct.concat(Ut).concat(function(Vt){var qt=[];return Vt.items&&Vt.items.length>0&&(qt=qt.concat(Al(Vt.items))),qt}(Ut))}),Ct},xl={capture:!1,passive:!0},ju={height:0,width:0},lo={height:0,width:0},$u=function(ht){var Ct=ht.getCurrentPage,Ut=ht.getCurrentScrollMode,Vt=ht.jumpToPage,qt=ht.targetRef,Qt=et.useState(_.FullScreenMode.Normal),fn=Qt[0],sn=Qt[1],Wt=function(){var fr=et.useState(ju),Lr=fr[0],Fr=fr[1],Dr=gn(function(){Fr({height:window.innerHeight,width:window.innerWidth})},100);return pt(function(){return window.addEventListener("resize",Dr,xl),function(){window.removeEventListener("resize",Dr,xl)}},[]),Lr}(),un=et.useState(lo),ln=un[0],Ln=un[1],Fn=et.useRef(lo),Mn=et.useRef(Ct()),Un=et.useRef(lo),zn=et.useState(qt.current),Nn=zn[0],kr=zn[1],lr=et.useRef();pt(function(){qt.current!==Nn&&kr(qt.current)},[]),pt(function(){if(Nn){var fr=new ResizeObserver(function(Lr){Lr.forEach(function(Fr){var Dr=Fr.target.getBoundingClientRect(),Ir=Dr.height,jr=Dr.width;Ln({height:Ir,width:jr})})});return fr.observe(Nn),function(){fr.unobserve(Nn),fr.disconnect()}}},[Nn]);var ur=et.useCallback(function(fr){var Lr=$t();return Lr&&Lr!==fr?(sn(_.FullScreenMode.Normal),Ft(Lr)):Promise.resolve()},[]),mr=et.useCallback(function(fr){fr&&bt()&&(kr(fr),ur(fr).then(function(){lr.current=fr,sn(_.FullScreenMode.Entering),function(Lr){xt&&Lr[Dt.RequestFullScreen]()}(fr)}))},[]),tr=et.useCallback(function(){$t()&&(sn(_.FullScreenMode.Exitting),Ft(document))},[]),yr=et.useCallback(function(){Nn&&$t()!==Nn&&sn(_.FullScreenMode.Exitting)},[Nn]);return et.useEffect(function(){switch(fn){case _.FullScreenMode.Entering:lr.current&&(lr.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),Mn.current=Ct(),Fn.current={height:window.innerHeight,width:window.innerWidth};break;case _.FullScreenMode.Entered:Ut()===_.ScrollMode.Page?Vt(Mn.current).then(function(){sn(_.FullScreenMode.EnteredCompletely)}):sn(_.FullScreenMode.EnteredCompletely);break;case _.FullScreenMode.Exitting:lr.current&&(lr.current.style.backgroundColor="",lr.current=null),Mn.current=Ct();break;case _.FullScreenMode.Exited:sn(_.FullScreenMode.Normal),Ut()===_.ScrollMode.Page&&Vt(Mn.current)}},[fn]),et.useEffect(function(){if(fn!==_.FullScreenMode.Normal)return fn===_.FullScreenMode.Entering&&Wt.height===ln.height&&Wt.width===ln.width&&Wt.height>0&&Wt.width>0&&(Un.current.height===0||Wt.height==Un.current.height)?(Un.current={height:window.innerHeight,width:window.innerWidth},void sn(_.FullScreenMode.Entered)):void(fn===_.FullScreenMode.Exitting&&Fn.current.height===Wt.height&&Fn.current.width===Wt.width&&Wt.height>0&&Wt.width>0&&sn(_.FullScreenMode.Exited))},[fn,Wt,ln]),et.useEffect(function(){var fr;return fr=yr,xt&&document.addEventListener(Dt.FullScreenChange,fr),function(){(function(Lr){xt&&document.removeEventListener(Dt.FullScreenChange,Lr)})(yr)}},[Nn]),{enterFullScreenMode:mr,exitFullScreenMode:tr,fullScreenMode:fn}},zu={buildPageStyles:function(){return{}},transformSize:function(ht){return ht.size}},Es={left:0,top:0},Bu=function(ht){var Ct=ht.currentFile,Ut=ht.defaultScale,Vt=ht.doc,qt=ht.enableSmoothScroll,Qt=ht.initialPage,fn=ht.initialRotation,sn=ht.initialScale,Wt=ht.pageLayout,un=ht.pageSizes,ln=ht.plugins,Ln=ht.renderPage,Fn=ht.scrollMode,Mn=ht.setRenderRange,Un=ht.viewMode,zn=ht.viewerState,Nn=ht.onDocumentLoad,kr=ht.onOpenFile,lr=ht.onPageChange,ur=ht.onRotate,mr=ht.onRotatePage,tr=ht.onZoom,yr=Vt.numPages,fr=Vt.loadingTask.docId,Lr=et.useContext(Jt).l10n,Fr=et.useContext(yt),Dr=Fr.direction===_.TextDirection.RightToLeft,Ir=et.useRef(),jr=et.useRef(),Jr=et.useState(Qt),Gr=Jr[0],_i=Jr[1],qr=et.useRef(null),Qr=Nu({getCurrentPage:function(){return xr.current.pageIndex}}),Zr=et.useState(fn),Kr=Zr[0],es=Zr[1],cs=rn(Kr),ss=et.useState(!1),ba=ss[0],ts=ss[1],us=et.useState(new Map),pr=us[0],dr=us[1],nr=et.useState(Fn),sr=nr[0],rr=nr[1],_r=rn(sr),Sr=et.useState(Un),or=Sr[0],Qn=Sr[1],Ar=rn(or),Cr=function(On){var wr=Yt(),Rr=et.useState([]),$r=Rr[0],Or=Rr[1];return et.useEffect(function(){On.getOutline().then(function(Tr){if(wr.current&&Tr!==null){var _a=Al(Tr);Or(_a)}})},[]),$r}(Vt),Vr=et.useState(sn),Br=Vr[0],xa=Vr[1],ns=rn(Br),xr=et.useRef(zn),$a=et.useRef(typeof Ut=="string"?Ut:null),Wr=et.useRef(-1),Xr=et.useRef(-1),ga=et.useRef(Qt),zr=$u({getCurrentPage:function(){return xr.current.pageIndex},getCurrentScrollMode:function(){return xr.current.scrollMode},jumpToPage:function(On){return ps(On)},targetRef:jr}),hs=et.useState(-1),Ss=hs[0],Us=hs[1],vs=et.useState(0),Rs=vs[0],Xu=vs[1],rs=Tt({doc:Vt});et.useEffect(function(){return function(){In.clear(),hr.clear()}},[fr]);var Tl=et.useMemo(function(){return Object.assign({},zu,Wt)},[]),Yu=et.useMemo(function(){return Array(yr).fill(0).map(function(On,wr){var Rr=[un[wr].pageHeight,un[wr].pageWidth],$r=Math.abs(Kr)%180==0?{height:Rr[0],width:Rr[1]}:{height:Rr[1],width:Rr[0]},Or={height:$r.height*Br,width:$r.width*Br};return Tl.transformSize({numPages:yr,pageIndex:wr,size:Or})})},[Kr,Br]),Ur=Ou({enableSmoothScroll:qt,isRtl:Dr,numberOfItems:yr,parentRef:jr,scrollMode:sr,setRenderRange:Mn,sizes:Yu,viewMode:or}),qu=gn(function(){!$a.current||xr.current.fullScreenMode!==_.FullScreenMode.Normal||Qt>0&&ga.current===Qt||ys($a.current)},200);(function(On){var wr=On.targetRef,Rr=On.onResize;pt(function(){var $r=new ResizeObserver(function(Tr){Tr.forEach(function(_a){Rr(_a.target)})}),Or=wr.current;if(Or)return $r.observe(Or),function(){$r.unobserve(Or)}},[])})({targetRef:jr,onResize:qu});var fs=function(On){var wr=On;ln.forEach(function(Rr){Rr.onViewerStateChange&&(wr=Rr.onViewerStateChange(wr))}),xr.current=wr},Ku=function(){return jr.current},Qu=function(){return xr.current},Zu=et.useCallback(function(On){Qr.markVisitedDestination(On)},[]),ho=et.useCallback(function(On){var wr=On.pageIndex,Rr=On.bottomOffset,$r=On.leftOffset,Or=On.scaleTo,Tr=jr.current,_a=xr.current;return Tr&&_a?new Promise(function(gs,yo){Wn(Vt,wr).then(function(Hs){var ms=Hs.getViewport({scale:1}),Vs=0,$l=(typeof Rr=="function"?Rr(ms.width,ms.height):Rr)||0,Ws=(typeof $r=="function"?$r(ms.width,ms.height):$r)||0,ws=_a.scale;switch(Or){case _.SpecialZoomLevel.PageFit:Vs=0,Ws=0,ys(_.SpecialZoomLevel.PageFit);break;case _.SpecialZoomLevel.PageWidth:ws=oo(Tr,un[wr].pageHeight,un[wr].pageWidth,_.SpecialZoomLevel.PageWidth,Un,yr),Vs=(ms.height-$l)*ws,Ws*=ws,ys(ws);break;default:Vs=(ms.height-$l)*ws,Ws*=ws}switch(_a.scrollMode){case _.ScrollMode.Horizontal:Ur.scrollToItem(wr,{left:Ws,top:0}).then(function(){gs()});break;case _.ScrollMode.Vertical:default:Ur.scrollToItem(wr,{left:0,top:Vs}).then(function(){gs()})}})}):Promise.resolve()},[]),Ml=et.useCallback(function(On){return Qr.markVisitedDestination(On),ho(On)},[]),Ju=et.useCallback(function(){var On=Qr.getNextDestination();return On?ho(On):Promise.resolve()},[]),_d=et.useCallback(function(){var On=Qr.getPreviousDestination();return On?ho(On):Promise.resolve()},[]),_h=et.useCallback(function(){return Ur.scrollToNextItem(xr.current.pageIndex,Es)},[]),ps=et.useCallback(function(On){return 0<=On&&On<yr?Ur.scrollToItem(On,Es):Promise.resolve()},[]),_f=et.useCallback(function(){return Ur.scrollToPreviousItem(xr.current.pageIndex,Es)},[]),Fl=et.useCallback(function(On){var wr,Rr;(wr=On.name,Rr=wr.split(/\./).pop(),Rr?Rr.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function($r){var Or=new FileReader;Or.readAsArrayBuffer(On),Or.onload=function(){var Tr=new Uint8Array(Or.result);$r(Tr)}}).then(function($r){kr(On.name,$r)})},[kr]),Ll=et.useCallback(function(On){var wr=On===_.RotateDirection.Backward?-90:90,Rr=xr.current.rotation,$r=Rr===360||Rr===-360?wr:Rr+wr;rs.markNotRendered(),es($r),fs(st(st({},xr.current),{rotation:$r})),ur({direction:On,doc:Vt,rotation:$r})},[]),fo=et.useCallback(function(On,wr){var Rr=wr===_.RotateDirection.Backward?-90:90,$r=xr.current.pagesRotation,Or=($r.has(On)?$r.get(On):fn)+Rr,Tr=$r.set(On,Or);dr(Tr),ts(function(_a){return!_a}),fs(st(st({},xr.current),{pagesRotation:Tr,rotatedPage:On})),mr({direction:wr,doc:Vt,pageIndex:On,rotation:Or}),rs.markRendering(On),Us(On)},[]),Dl=et.useCallback(function(On){fs(st(st({},xr.current),{scrollMode:On})),rr(On)},[]),Il=et.useCallback(function(On){fs(st(st({},xr.current),{viewMode:On})),Qn(On)},[]),ys=et.useCallback(function(On){var wr=jr.current,Rr=xr.current.pageIndex;if(!(Rr<0||Rr>=yr)){var $r=un[Rr].pageHeight,Or=un[Rr].pageWidth,Tr=wr?typeof On=="string"?oo(wr,$r,Or,On,xr.current.viewMode,yr):On:1;$a.current=typeof On=="string"?On:null,Tr!==xr.current.scale&&(Xu(function(_a){return _a+1}),rs.markNotRendered(),xa(Tr),tr({doc:Vt,scale:Tr}),fs(st(st({},xr.current),{scale:Tr})))}},[]),ep=et.useCallback(function(On){zr.enterFullScreenMode(On)},[]),tp=et.useCallback(function(){zr.exitFullScreenMode()},[]);et.useEffect(function(){fs(st(st({},xr.current),{fullScreenMode:zr.fullScreenMode}))},[zr.fullScreenMode]),et.useEffect(function(){var On={enterFullScreenMode:ep,exitFullScreenMode:tp,getPagesContainer:Ku,getViewerState:Qu,jumpToDestination:Ml,jumpToNextDestination:Ju,jumpToPreviousDestination:_d,jumpToNextPage:_h,jumpToPreviousPage:_f,jumpToPage:ps,openFile:Fl,rotate:Ll,rotatePage:fo,setViewerState:fs,switchScrollMode:Dl,switchViewMode:Il,zoom:ys};return ln.forEach(function(wr){wr.install&&wr.install(On)}),function(){ln.forEach(function(wr){wr.uninstall&&wr.uninstall(On)})}},[fr]),et.useEffect(function(){Nn({doc:Vt,file:Ct}),ln.forEach(function(On){On.onDocumentLoad&&On.onDocumentLoad({doc:Vt,file:Ct})})},[fr]);var po,go,mo,Ol=Ur.boundingClientRect;po=function(){Qt&&ps(Qt)},go=Ol.height>0&&Ol.width>0,mo=et.useRef(!1),pt(function(){go&&!mo.current&&(mo.current=!0,po())},[po,go]),pt(function(){var On=xr.current.pageIndex;On>-1&&_r!==sr&&Ur.scrollToItem(On,Es).then(function(){zr.fullScreenMode===_.FullScreenMode.EnteredCompletely&&(qt||rs.markNotRendered(),Wr.current=-1)})},[sr]),pt(function(){var On=xr.current.pageIndex;On>-1&&cs!==Kr&&Ur.scrollToItem(On,Es)},[Kr]),pt(function(){ns!=0&&ns!=xr.current.scale&&Ur.zoom(xr.current.scale/ns,xr.current.pageIndex).then(function(){zr.fullScreenMode===_.FullScreenMode.EnteredCompletely&&(Xr.current=-1)})},[Br]),pt(function(){if(Ar!==xr.current.viewMode){var On=Ur.startPage,wr=Ur.endPage,Rr=Ur.virtualItems;rs.markNotRendered(),rs.setRange(On,wr);for(var $r=function(Tr){var _a=Rr.find(function(gs){return gs.index===Tr});_a&&rs.setVisibility(Tr,_a.visibility)},Or=On;Or<=wr;Or++)$r(Or);vo()}},[or]),pt(function(){var On=xr.current.pageIndex;On>-1&&Ar!==or&&Ur.scrollToItem(On,Es)},[or]),pt(function(){var On=xr.current.pageIndex;On>0&&On===Qt&&ga.current===Qt&&$a.current&&(ga.current=-1,ys($a.current))},[Gr]),et.useEffect(function(){Ur.isSmoothScrolling||qr.current!==null&&qr.current===Gr||(qr.current=Gr,lr({currentPage:Gr,doc:Vt}))},[Gr,Ur.isSmoothScrolling]),et.useEffect(function(){zr.fullScreenMode===_.FullScreenMode.Entering&&xr.current.scrollMode===_.ScrollMode.Page&&(Wr.current=xr.current.pageIndex),zr.fullScreenMode===_.FullScreenMode.EnteredCompletely&&xr.current.scrollMode===_.ScrollMode.Page&&qt&&(Wr.current=-1),zr.fullScreenMode===_.FullScreenMode.EnteredCompletely&&$a.current&&(Xr.current=xr.current.pageIndex,ys($a.current))},[zr.fullScreenMode]),et.useEffect(function(){if(zr.fullScreenMode!==_.FullScreenMode.Entering&&zr.fullScreenMode!==_.FullScreenMode.Exitting&&!Ur.isSmoothScrolling){var On=Ur.startPage,wr=Ur.endPage,Rr=Ur.maxVisbilityIndex,$r=Ur.virtualItems,Or=Rr,Tr=zr.fullScreenMode===_.FullScreenMode.Entered||zr.fullScreenMode===_.FullScreenMode.EnteredCompletely;if(!(Tr&&Or!==Wr.current&&Wr.current>-1||Tr&&Or!==Xr.current&&Xr.current>-1)){_i(Or),fs(st(st({},xr.current),{pageIndex:Or})),rs.setRange(On,wr);for(var _a=function(yo){var Hs=$r.find(function(ms){return ms.index===yo});Hs&&rs.setVisibility(yo,Hs.visibility)},gs=On;gs<=wr;gs++)_a(gs);vo()}}},[Ur.startPage,Ur.endPage,Ur.isSmoothScrolling,Ur.maxVisbilityIndex,zr.fullScreenMode,ba,Kr,Br]);var np=et.useCallback(function(On){rs.markRendered(On),vo()},[Rs]),vo=function(){var On=rs.getHighestPriorityPage();On>-1&&rs.isInRange(On)&&(rs.markRendering(On),Us(On))},rp=function(On){var wr=Gr-1,Rr=Gr+1;switch(On){case"FirstPage":ps(0);break;case"LastPage":ps(yr-1);break;case"NextPage":Rr<yr&&ps(Rr);break;case"PrevPage":wr>=0&&ps(wr)}},ip=et.useCallback(function(){var On=Ur.virtualItems,wr=[];switch(or){case _.ViewMode.DualPage:wr=tn(On,2);break;case _.ViewMode.DualPageWithCover:On.length&&(wr=On[0].index===0?[[On[0]]].concat(tn(On.slice(1),2)):tn(On,2));break;case _.ViewMode.SinglePage:default:wr=tn(On,1)}var Rr=Lr&&Lr.core?Lr.core.pageLabel:"Page {{pageIndex}}",$r={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:Ir,style:{height:"100%"}},children:et.createElement(et.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:gt({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":sr===_.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":Dr,"rpv-core__inner-pages--single":sr===_.ScrollMode.Page,"rpv-core__inner-pages--vertical":sr===_.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":sr===_.ScrollMode.Wrapped}),ref:jr,style:{height:"100%",position:"relative"}},children:et.createElement("div",{"data-testid":"core__inner-current-page-".concat(Gr),style:Object.assign({"--scale-factor":Br},Ur.getContainerStyles())},wr.map(function(Or){return et.createElement("div",{className:gt({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":sr===_.ScrollMode.Page}),style:Ur.getItemContainerStyles(Or[0]),key:"".concat(Or[0].index,"-").concat(or)},Or.map(function(Tr){var _a=or===_.ViewMode.DualPageWithCover&&(Tr.index===0||yr%2==0&&Tr.index===yr-1);return et.createElement("div",{"aria-label":Rr.replace("{{pageIndex}}","".concat(Tr.index+1)),className:gt({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":or===_.ViewMode.DualPage&&Tr.index%2==0,"rpv-core__inner-page--dual-odd":or===_.ViewMode.DualPage&&Tr.index%2==1,"rpv-core__inner-page--dual-cover":_a,"rpv-core__inner-page--dual-cover-even":or===_.ViewMode.DualPageWithCover&&!_a&&Tr.index%2==0,"rpv-core__inner-page--dual-cover-odd":or===_.ViewMode.DualPageWithCover&&!_a&&Tr.index%2==1,"rpv-core__inner-page--single":or===_.ViewMode.SinglePage&&sr===_.ScrollMode.Page}),role:"region",key:"".concat(Tr.index,"-").concat(or),style:Object.assign({},Ur.getItemStyles(Tr),Tl.buildPageStyles({numPages:yr,pageIndex:Tr.index,scrollMode:sr,viewMode:or}))},et.createElement(ku,{doc:Vt,measureRef:Tr.measureRef,outlines:Cr,pageIndex:Tr.index,pageRotation:pr.has(Tr.index)?pr.get(Tr.index):0,pageSize:un[Tr.index],plugins:ln,renderPage:Ln,renderQueueKey:Rs,rotation:Kr,scale:Br,shouldRender:Ss===Tr.index,viewMode:or,onExecuteNamedAction:rp,onJumpFromLinkAnnotation:Zu,onJumpToDest:Ml,onRenderCompleted:np,onRotatePage:fo}))}))}))}};return ln.forEach(function(Or){Or.renderViewer&&($r=Or.renderViewer({containerRef:Ir,doc:Vt,pagesContainerRef:jr,pagesRotation:pr,pageSizes:un,rotation:Kr,slot:$r,themeContext:Fr,jumpToPage:ps,openFile:Fl,rotate:Ll,rotatePage:fo,switchScrollMode:Dl,switchViewMode:Il,zoom:ys}))}),$r},[ln,Ur]),Nl=et.useCallback(function(On){return et.createElement("div",st({},On.attrs,{style:On.attrs&&On.attrs.style?On.attrs.style:{}}),On.children,On.subSlot&&Nl(On.subSlot))},[]);return Nl(ip())},Cl=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Uu=function(ht){var Ct=ht.defaultScale,Ut=ht.doc,Vt=ht.render,qt=ht.scrollMode,Qt=ht.viewMode,fn=et.useRef(),sn=et.useState({pageSizes:[],scale:0}),Wt=sn[0],un=sn[1];return et.useLayoutEffect(function(){var ln=Array(Ut.numPages).fill(0).map(function(Ln,Fn){return new Promise(function(Mn,Un){Wn(Ut,Fn).then(function(zn){var Nn=zn.getViewport({scale:1});Mn({pageHeight:Nn.height,pageWidth:Nn.width,rotation:Nn.rotation})})})});Promise.all(ln).then(function(Ln){var Fn=fn.current;if(Fn&&Ln.length!==0){var Mn=Ln[0].pageWidth,Un=Ln[0].pageHeight,zn=Fn.parentElement,Nn=(zn.clientWidth-45)/Mn,kr=(zn.clientHeight-45)/Un,lr=Nn;switch(qt){case _.ScrollMode.Horizontal:lr=Math.min(Nn,kr);break;case _.ScrollMode.Vertical:default:lr=Nn}var ur,mr,tr=Ct?typeof Ct=="string"?oo(zn,Un,Mn,Ct,Qt,Ut.numPages):Ct:(ur=lr,(mr=Cl.findIndex(function(yr){return yr>=ur}))===-1||mr===0?ur:Cl[mr-1]);un({pageSizes:Ln,scale:tr})}})},[Ut.loadingTask.docId]),Wt.pageSizes.length===0||Wt.scale===0?et.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:fn},et.createElement(dt,null)):Vt(Wt.pageSizes,Wt.scale)},Bs=function(){},co=function(ht){function Ct(Ut,Vt){var qt=ht.call(this)||this;return qt.verifyPassword=Ut,qt.passwordStatus=Vt,qt}return rt(Ct,ht),Ct}(Bs),Hu=function(ht){var Ct=ht.passwordStatus,Ut=ht.renderProtectedView,Vt=ht.verifyPassword,qt=ht.onDocumentAskPassword,Qt=et.useContext(Jt).l10n,fn=et.useState(""),sn=fn[0],Wt=fn[1],un=et.useContext(yt).direction===_.TextDirection.RightToLeft,ln=function(){return Vt(sn)};return et.useEffect(function(){qt&&qt({verifyPassword:Vt})},[]),Ut?Ut({passwordStatus:Ct,verifyPassword:Vt}):et.createElement("div",{className:"rpv-core__asking-password-wrapper"},et.createElement("div",{className:gt({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":un})},et.createElement("div",{className:"rpv-core__asking-password-message"},Ct===_.PasswordStatus.RequiredPassword&&Qt.core.askingPassword.requirePasswordToOpen,Ct===_.PasswordStatus.WrongPassword&&Qt.core.wrongPassword.tryAgain),et.createElement("div",{className:"rpv-core__asking-password-body"},et.createElement("div",{className:gt({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!un,"rpv-core__asking-password-input--rtl":un})},et.createElement(wt,{testId:"core__asking-password-input",type:"password",value:sn,onChange:Wt,onKeyDown:function(Ln){Ln.key==="Enter"&&ln()}})),et.createElement(lt,{onClick:ln},Qt.core.askingPassword.submit))))},Pl=function(ht){function Ct(Ut){var Vt=ht.call(this)||this;return Vt.doc=Ut,Vt}return rt(Ct,ht),Ct}(Bs),Rl=function(ht){function Ct(Ut){var Vt=ht.call(this)||this;return Vt.error=Ut,Vt}return rt(Ct,ht),Ct}(Bs),uo=function(ht){function Ct(Ut){var Vt=ht.call(this)||this;return Vt.percentages=Ut,Vt}return rt(Ct,ht),Ct}(Bs),Vu=function(ht){var Ct=ht.characterMap,Ut=ht.file,Vt=ht.httpHeaders,qt=ht.render,Qt=ht.renderError,fn=ht.renderLoader,sn=ht.renderProtectedView,Wt=ht.transformGetDocumentParams,un=ht.withCredentials,ln=ht.onDocumentAskPassword,Ln=et.useContext(yt).direction===_.TextDirection.RightToLeft,Fn=et.useState(new uo(0)),Mn=Fn[0],Un=Fn[1],zn=et.useRef(""),Nn=Yt();return et.useEffect(function(){zn.current="",Un(new uo(0));var kr=new nt.PDFWorker({name:"PDFWorker_".concat(Date.now())}),lr=Object.assign({httpHeaders:Vt,withCredentials:un,worker:kr},typeof Ut=="string"?{url:Ut}:{data:Ut},Ct?{cMapUrl:Ct.url,cMapPacked:Ct.isCompressed}:{}),ur=Wt?Wt(lr):lr,mr=nt.getDocument(ur);return mr.onPassword=function(tr,yr){switch(yr){case nt.PasswordResponses.NEED_PASSWORD:Nn.current&&Un(new co(tr,_.PasswordStatus.RequiredPassword));break;case nt.PasswordResponses.INCORRECT_PASSWORD:Nn.current&&Un(new co(tr,_.PasswordStatus.WrongPassword))}},mr.onProgress=function(tr){var yr=tr.total>0?Math.min(100,100*tr.loaded/tr.total):100;Nn.current&&zn.current===""&&Un(new uo(yr))},mr.promise.then(function(tr){zn.current=tr.loadingTask.docId,Nn.current&&Un(new Pl(tr))},function(tr){return Nn.current&&!kr.destroyed&&Un(new Rl({message:tr.message||"Cannot load document",name:tr.name}))}),function(){mr.destroy(),kr.destroy()}},[Ut]),Mn instanceof co?et.createElement(Hu,{passwordStatus:Mn.passwordStatus,renderProtectedView:sn,verifyPassword:Mn.verifyPassword,onDocumentAskPassword:ln}):Mn instanceof Pl?qt(Mn.doc):Mn instanceof Rl?Qt?Qt(Mn.error):et.createElement("div",{className:gt({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":Ln})},et.createElement("div",{className:"rpv-core__doc-error-text"},Mn.error.message)):et.createElement("div",{"data-testid":"core__doc-loading",className:gt({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":Ln})},fn?fn(Mn.percentages):et.createElement(dt,null))},Wu=function(ht,Ct){var Ut=et.useMemo(function(){return ht==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":ht},[]),Vt=et.useState(Ut),qt=Vt[0],Qt=Vt[1],fn=rn(qt);return et.useEffect(function(){if(ht==="auto"){var sn=window.matchMedia("(prefers-color-scheme: dark)"),Wt=function(un){Qt(un.matches?"dark":"light")};return sn.addEventListener("change",Wt),function(){return sn.removeEventListener("change",Wt)}}},[]),et.useEffect(function(){qt!==fn&&Ct&&Ct(qt)},[qt]),et.useEffect(function(){ht!==qt&&Qt(ht)},[ht]),{currentTheme:qt,setCurrentTheme:Qt}},Gu=function(ht){return{startPage:ht.startPage-3,endPage:ht.endPage+3}};_.Button=function(ht){var Ct=ht.children,Ut=ht.testId,Vt=ht.onClick,qt=et.useContext(yt).direction===_.TextDirection.RightToLeft,Qt=Ut?{"data-testid":Ut}:{};return et.createElement("button",st({className:gt({"rpv-core__button":!0,"rpv-core__button--rtl":qt}),type:"button",onClick:Vt},Qt),Ct)},_.Icon=At,_.LazyRender=function(ht){var Ct=ht.attrs,Ut=ht.children,Vt=ht.testId,qt=et.useState(!1),Qt=qt[0],fn=qt[1],sn=Vt?st(st({},Ct),{"data-testid":Vt}):Ct,Wt=kt({once:!0,onVisibilityChanged:function(un){un.isVisible&&fn(!0)}});return et.createElement("div",st({ref:Wt},sn),Qt&&Ut)},_.LocalizationContext=Jt,_.Menu=function(ht){var Ct=ht.children,Ut=et.useRef(),Vt=et.useRef([]),qt=et.useContext(yt).direction===_.TextDirection.RightToLeft,Qt=function(sn){if(Ut.current)switch(sn.key){case"Tab":sn.preventDefault();break;case"ArrowDown":sn.preventDefault(),fn(function(Wt,un){return un+1});break;case"ArrowUp":sn.preventDefault(),fn(function(Wt,un){return un-1});break;case"End":sn.preventDefault(),fn(function(Wt,un){return Wt.length-1});break;case"Home":sn.preventDefault(),fn(function(Wt,un){return 0})}},fn=function(sn){if(Ut.current){var Wt=Vt.current,un=Wt.findIndex(function(Ln){return Ln.getAttribute("tabindex")==="0"}),ln=Math.min(Wt.length-1,Math.max(0,sn(Wt,un)));un>=0&&un<=Wt.length-1&&Wt[un].setAttribute("tabindex","-1"),Wt[ln].setAttribute("tabindex","0"),Wt[ln].focus()}};return pt(function(){var sn=Ut.current;if(sn){var Wt=function(un){var ln=[];return un.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(Ln){if(Ln instanceof HTMLElement){var Fn=Ln.parentElement;(Fn===un||window.getComputedStyle(Fn).display!=="none")&&ln.push(Ln)}}),ln}(sn);Vt.current=Wt}},[]),pt(function(){return document.addEventListener("keydown",Qt),function(){document.removeEventListener("keydown",Qt)}},[]),et.createElement("div",{ref:Ut,"aria-orientation":"vertical",className:gt({"rpv-core__menu":!0,"rpv-core__menu--rtl":qt}),role:"menu",tabIndex:0},Ct)},_.MenuDivider=function(){return et.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},_.MenuItem=function(ht){var Ct=ht.checked,Ut=Ct!==void 0&&Ct,Vt=ht.children,qt=ht.icon,Qt=qt===void 0?null:qt,fn=ht.isDisabled,sn=fn!==void 0&&fn,Wt=ht.testId,un=ht.onClick,ln=et.useContext(yt).direction===_.TextDirection.RightToLeft,Ln=Wt?{"data-testid":Wt}:{};return et.createElement("button",st({className:gt({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":sn,"rpv-core__menu-item--ltr":!ln,"rpv-core__menu-item--rtl":ln}),role:"menuitem",tabIndex:-1,type:"button",onClick:un},Ln),et.createElement("div",{className:gt({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!ln,"rpv-core__menu-item-icon--rtl":ln})},Qt),et.createElement("div",{className:gt({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!ln,"rpv-core__menu-item-label--rtl":ln})},Vt),et.createElement("div",{className:gt({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!ln,"rpv-core__menu-item-check--rtl":ln})},Ut&&et.createElement(at,null)))},_.MinimalButton=function(ht){var Ct=ht.ariaLabel,Ut=Ct===void 0?"":Ct,Vt=ht.ariaKeyShortcuts,qt=Vt===void 0?"":Vt,Qt=ht.children,fn=ht.isDisabled,sn=fn!==void 0&&fn,Wt=ht.isSelected,un=Wt!==void 0&&Wt,ln=ht.testId,Ln=ht.onClick,Fn=et.useContext(yt).direction===_.TextDirection.RightToLeft,Mn=ln?{"data-testid":ln}:{};return et.createElement("button",st({"aria-label":Ut},qt&&{"aria-keyshortcuts":qt},sn&&{"aria-disabled":!0},{className:gt({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":sn,"rpv-core__minimal-button--rtl":Fn,"rpv-core__minimal-button--selected":un}),type:"button",onClick:Ln},Mn),Qt)},_.Modal=function(ht){var Ct=ht.ariaControlsSuffix,Ut=ht.closeOnClickOutside,Vt=ht.closeOnEscape,qt=ht.content,Qt=ht.isOpened,fn=Qt!==void 0&&Qt,sn=ht.target,Wt=Ct||"".concat(mt());return et.createElement(vn,{target:sn?function(un,ln){return et.createElement("div",{"aria-expanded":ln?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(Wt)},sn(un,ln))}:null,content:function(un){return et.createElement(jt,null,et.createElement(It,{ariaControlsSuffix:Wt,closeOnClickOutside:Ut,closeOnEscape:Vt,onToggle:un},qt(un)))},isOpened:fn})},_.Popover=function(ht){var Ct=ht.ariaHasPopup,Ut=Ct===void 0?"dialog":Ct,Vt=ht.ariaControlsSuffix,qt=ht.closeOnClickOutside,Qt=ht.closeOnEscape,fn=ht.content,sn=ht.lockScroll,Wt=sn===void 0||sn,un=ht.offset,ln=ht.position,Ln=ht.target,Fn=Zt(!1),Mn=Fn.opened,Un=Fn.toggle,zn=et.useRef(),Nn=et.useMemo(function(){return Vt||"".concat(mt())},[]);return et.createElement("div",{ref:zn,"aria-expanded":Mn?"true":"false","aria-haspopup":Ut,"aria-controls":"rpv-core__popver-body-".concat(Nn)},Ln(Un,Mn),Mn&&et.createElement(et.Fragment,null,Wt&&et.createElement(wn,{closeOnEscape:Qt,onClose:Un}),et.createElement(hn,{ariaControlsSuffix:Nn,closeOnClickOutside:qt,offset:un,position:ln,targetRef:zn,onClose:Un},fn(Un))))},_.PrimaryButton=lt,_.ProgressBar=function(ht){var Ct=ht.progress,Ut=et.useContext(yt).direction===_.TextDirection.RightToLeft;return et.createElement("div",{className:gt({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":Ut})},et.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(Ct,"%")}},Ct,"%"))},_.Separator=function(){return et.createElement("div",{className:"rpv-core__separator"})},_.Spinner=dt,_.Splitter=function(ht){var Ct=ht.constrain,Ut=et.useContext(yt).direction===_.TextDirection.RightToLeft,Vt=et.useRef(),qt=et.useRef(),Qt=et.useRef(),fn=et.useRef(0),sn=et.useRef(0),Wt=et.useRef(0),un=et.useRef(0),ln={capture:!0},Ln=function(Mn){var Un=Vt.current,zn=qt.current,Nn=Qt.current;if(Un&&zn&&Nn){var kr=un.current,lr=Mn.clientX-fn.current,ur=Wt.current+(Ut?-lr:lr),mr=Un.parentElement.getBoundingClientRect().width,tr=100*ur/mr;if(Un.classList.add("rpv-core__splitter--resizing"),Ct){var yr=mr-ur-kr;if(!Ct({firstHalfPercentage:tr,firstHalfSize:ur,secondHalfPercentage:100*yr/mr,secondHalfSize:yr}))return}zn.style.width="".concat(tr,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),zn.classList.add("rpv-core__splitter-sibling--resizing"),Nn.classList.add("rpv-core__splitter-sibling--resizing")}},Fn=function(Mn){var Un=Vt.current,zn=qt.current,Nn=Qt.current;Un&&zn&&Nn&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),Un.classList.remove("rpv-core__splitter--resizing"),zn.classList.remove("rpv-core__splitter-sibling--resizing"),Nn.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",Ln,ln),document.removeEventListener("mouseup",Fn,ln))};return et.useEffect(function(){var Mn=Vt.current;Mn&&(un.current=Mn.getBoundingClientRect().width,qt.current=Mn.previousElementSibling,Qt.current=Mn.nextElementSibling)},[]),et.createElement("div",{ref:Vt,className:"rpv-core__splitter",onMouseDown:function(Mn){var Un=qt.current;Un&&(fn.current=Mn.clientX,sn.current=Mn.clientY,Wt.current=Un.getBoundingClientRect().width,document.addEventListener("mousemove",Ln,ln),document.addEventListener("mouseup",Fn,ln))}})},_.TextBox=wt,_.ThemeContext=yt,_.Tooltip=function(ht){var Ct=ht.ariaControlsSuffix,Ut=ht.content,Vt=ht.offset,qt=ht.position,Qt=ht.target,fn=Zt(!1),sn=fn.opened,Wt=fn.toggle,un=et.useRef(),ln=et.useRef(),Ln=et.useMemo(function(){return Ct||"".concat(mt())},[]);Pt(function(){un.current&&document.activeElement&&un.current.contains(document.activeElement)&&Mn()});var Fn=function(){Wt(_.ToggleStatus.Open)},Mn=function(){Wt(_.ToggleStatus.Close)};return et.createElement(et.Fragment,null,et.createElement("div",{ref:un,"aria-describedby":"rpv-core__tooltip-body-".concat(Ln),onBlur:function(Un){Un.relatedTarget instanceof HTMLElement&&Un.currentTarget.parentElement&&Un.currentTarget.parentElement.contains(Un.relatedTarget)?ln.current&&(ln.current.style.display="none"):Mn()},onFocus:Fn,onMouseEnter:Fn,onMouseLeave:Mn},Qt),sn&&et.createElement(Tn,{ariaControlsSuffix:Ln,contentRef:ln,offset:Vt,position:qt,targetRef:un},Ut()))},_.Viewer=function(ht){var Ct=ht.characterMap,Ut=ht.defaultScale,Vt=ht.enableSmoothScroll,qt=Vt===void 0||Vt,Qt=ht.fileUrl,fn=ht.httpHeaders,sn=fn===void 0?{}:fn,Wt=ht.initialPage,un=Wt===void 0?0:Wt,ln=ht.pageLayout,Ln=ht.initialRotation,Fn=Ln===void 0?0:Ln,Mn=ht.localization,Un=ht.plugins,zn=Un===void 0?[]:Un,Nn=ht.renderError,kr=ht.renderLoader,lr=ht.renderPage,ur=ht.renderProtectedView,mr=ht.scrollMode,tr=mr===void 0?_.ScrollMode.Vertical:mr,yr=ht.setRenderRange,fr=yr===void 0?Gu:yr,Lr=ht.transformGetDocumentParams,Fr=ht.theme,Dr=Fr===void 0?{direction:_.TextDirection.LeftToRight,theme:"light"}:Fr,Ir=ht.viewMode,jr=Ir===void 0?_.ViewMode.SinglePage:Ir,Jr=ht.withCredentials,Gr=Jr!==void 0&&Jr,_i=ht.onDocumentAskPassword,qr=ht.onDocumentLoad,Qr=qr===void 0?function(){}:qr,Zr=ht.onPageChange,Kr=Zr===void 0?function(){}:Zr,es=ht.onRotate,cs=es===void 0?function(){}:es,ss=ht.onRotatePage,ba=ss===void 0?function(){}:ss,ts=ht.onSwitchTheme,us=ts===void 0?function(){}:ts,pr=ht.onZoom,dr=pr===void 0?function(){}:pr,nr=et.useState({data:Qt,name:typeof Qt=="string"?Qt:"",shouldLoad:!1}),sr=nr[0],rr=nr[1],_r=function(Wr,Xr){rr({data:Xr,name:Wr,shouldLoad:!0})},Sr=et.useState(!1),or=Sr[0],Qn=Sr[1],Ar=rn(sr);et.useEffect(function(){var Wr,Xr,ga,zr;Wr=Ar.data,zr=typeof(Xr=Qt),(ga=typeof Wr)=="string"&&zr==="string"&&Wr===Xr||ga==="object"&&zr==="object"&&Wr.length===Xr.length&&Wr.every(function(hs,Ss){return hs===Xr[Ss]})||rr({data:Qt,name:typeof Qt=="string"?Qt:"",shouldLoad:or})},[Qt,or]);var Cr=kt({onVisibilityChanged:function(Wr){Qn(Wr.isVisible),Wr.isVisible&&rr(function(Xr){return Object.assign({},Xr,{shouldLoad:!0})})}}),Vr=typeof Dr=="string"?{direction:_.TextDirection.LeftToRight,theme:Dr}:Dr,Br=et.useState(Mn||Ht),xa=Br[0],ns=Br[1],xr={l10n:xa,setL10n:ns},$a=Object.assign({},{direction:Vr.direction},Wu(Vr.theme||"light",us));return et.useEffect(function(){Mn&&ns(Mn)},[Mn]),et.createElement(Jt.Provider,{value:xr},et.createElement(yt.Provider,{value:$a},et.createElement("div",{ref:Cr,className:"rpv-core__viewer rpv-core__viewer--".concat($a.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},sr.shouldLoad&&et.createElement(Vu,{characterMap:Ct,file:sr.data,httpHeaders:sn,render:function(Wr){return et.createElement(Uu,{defaultScale:Ut,doc:Wr,render:function(Xr,ga){return et.createElement(Bu,{currentFile:{data:sr.data,name:sr.name},defaultScale:Ut,doc:Wr,enableSmoothScroll:qt,initialPage:un,initialRotation:Fn,initialScale:ga,pageLayout:ln,pageSizes:Xr,plugins:zn,renderPage:lr,scrollMode:tr,setRenderRange:fr,viewMode:jr,viewerState:{file:sr,fullScreenMode:_.FullScreenMode.Normal,pageIndex:-1,pageHeight:Xr[0].pageHeight,pageWidth:Xr[0].pageWidth,pagesRotation:new Map,rotation:Fn,scale:ga,scrollMode:tr,viewMode:jr},onDocumentLoad:Qr,onOpenFile:_r,onPageChange:Kr,onRotate:cs,onRotatePage:ba,onZoom:dr})},scrollMode:tr,viewMode:jr})},renderError:Nn,renderLoader:kr,renderProtectedView:ur,transformGetDocumentParams:Lr,withCredentials:Gr,onDocumentAskPassword:_i}))))},_.Worker=function(ht){var Ct=ht.children,Ut=ht.workerUrl;return nt.GlobalWorkerOptions.workerSrc=Ut,et.createElement(et.Fragment,null,Ct)},_.chunk=tn,_.classNames=gt,_.createStore=function(ht){var Ct=ht||{},Ut={},Vt=function(Qt,fn){var sn;Ct=st(st({},Ct),((sn={})[Qt]=fn,sn)),(Ut[Qt]||[]).forEach(function(Wt){return Wt(Ct[Qt])})},qt=function(Qt){return Ct[Qt]};return{subscribe:function(Qt,fn){Ut[Qt]=(Ut[Qt]||[]).concat(fn)},unsubscribe:function(Qt,fn){Ut[Qt]=(Ut[Qt]||[]).filter(function(sn){return sn!==fn})},update:function(Qt,fn){Vt(Qt,fn)},updateCurrentValue:function(Qt,fn){var sn=qt(Qt);sn!==void 0&&Vt(Qt,fn(sn))},get:function(Qt){return qt(Qt)}}},_.getDestination=er,_.getPage=Wn,_.isFullScreenEnabled=bt,_.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},_.useDebounceCallback=gn,_.useIntersectionObserver=kt,_.useIsMounted=Yt,_.useIsomorphicLayoutEffect=pt,_.usePrevious=rn,_.useRenderQueue=Tt})(core_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$2.exports=core_min;var libExports$2=lib$2.exports,lib$1={exports:{}},zoom_min={},e$1=libExports$2;function t$1(_){var j=Object.create(null);return _&&Object.keys(_).forEach(function($){if($!=="default"){var _e=Object.getOwnPropertyDescriptor(_,$);Object.defineProperty(j,$,_e.get?_e:{enumerable:!0,get:function(){return _[$]}})}}),j.default=_,Object.freeze(j)}var n$1=t$1(reactExports),o$1=function(){return n$1.createElement(e$1.Icon,{ignoreDirection:!0,size:16},n$1.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10
            M10.5,5.499v10`}))},r$1=function(){return n$1.createElement(e$1.Icon,{ignoreDirection:!0,size:16},n$1.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10`}))},c$1=function(){return c$1=Object.assign||function(_){for(var j,$=1,_e=arguments.length;$<_e;$++)for(var tt in j=arguments[$])Object.prototype.hasOwnProperty.call(j,tt)&&(_[tt]=j[tt]);return _},c$1.apply(this,arguments)},a$1=function(_){var j=n$1.useState(_.get("scale")||0),$=j[0],_e=j[1],tt=function(et){_e(et)};return n$1.useEffect(function(){return _.subscribe("scale",tt),function(){_.unsubscribe("scale",tt)}},[]),{scale:$}},u$1=function(_){var j=_.children,$=_.store;return(j||function(_e){return n$1.createElement(n$1.Fragment,null,"".concat(Math.round(100*_e.scale),"%"))})({scale:a$1($).scale})},l$1={passive:!1},i$1=null,s=function(_){var j=_.pagesContainerRef,$=_.store,_e=e$1.useDebounceCallback(function(et){var nt=$.get("zoom");nt&&nt(et)},40),tt=function(et){if(et.ctrlKey){et.preventDefault();var nt=et.target.getBoundingClientRect(),ct=1-et.deltaY/100,rt=et.clientX-nt.left,ot=et.clientY-nt.top,st=$.get("scale"),_t=(i$1||(i$1=document.createElementNS("http://www.w3.org/2000/svg","svg"))).createSVGMatrix().translate(rt,ot).scale(ct).translate(-rt,-ot).scale(st);_e(_t.a)}};return e$1.useIsomorphicLayoutEffect(function(){var et=j.current;if(et)return et.addEventListener("wheel",tt,l$1),function(){et.removeEventListener("wheel",tt)}},[]),n$1.createElement(n$1.Fragment,null)},m=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],f$1=function(_){return m.find(function(j){return j>_})||_},v=function(_){var j=m.findIndex(function($){return $>=_});return j===-1||j===0?_:m[j-1]},p=function(_){var j=_.containerRef,$=_.store,_e=function(tt){if(!tt.shiftKey&&!tt.altKey&&(e$1.isMac()?tt.metaKey:tt.ctrlKey)){var et=j.current;if(et&&document.activeElement&&et.contains(document.activeElement)){var nt=$.get("zoom");if(nt){var ct=$.get("scale")||1,rt=1;switch(tt.key){case"-":rt=v(ct);break;case"=":rt=f$1(ct);break;case"0":rt=1;break;default:rt=ct}rt!==ct&&(tt.preventDefault(),nt(rt))}}}};return n$1.useEffect(function(){if(j.current)return document.addEventListener("keydown",_e),function(){document.removeEventListener("keydown",_e)}},[j.current]),n$1.createElement(n$1.Fragment,null)},z=[.5,.75,1,1.25,1.5,2,3,4],E={left:0,top:8},d$1=function(_){var j=_.levels,$=j===void 0?z:j,_e=_.scale,tt=_.onZoom,et=n$1.useContext(e$1.LocalizationContext).l10n,nt=n$1.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft,ct=et&&et.zoom?et.zoom.zoomDocument:"Zoom document";return n$1.createElement(e$1.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:e$1.Position.BottomCenter,target:function(rt){return n$1.createElement(e$1.MinimalButton,{ariaLabel:ct,testId:"zoom__popover-target",onClick:function(){rt()}},n$1.createElement("span",{className:"rpv-zoom__popover-target"},n$1.createElement("span",{"data-testid":"zoom__popover-target-scale",className:e$1.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!nt,"rpv-zoom__popover-target-scale--rtl":nt})},Math.round(100*_e),"%"),n$1.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(rt){return n$1.createElement(e$1.Menu,null,Object.keys(e$1.SpecialZoomLevel).map(function(ot){var st=ot;return n$1.createElement(e$1.MenuItem,{key:st,onClick:function(){rt(),tt(st)}},function(_t){switch(_t){case e$1.SpecialZoomLevel.ActualSize:return et&&et.zoom?et.zoom.actualSize:"Actual size";case e$1.SpecialZoomLevel.PageFit:return et&&et.zoom?et.zoom.pageFit:"Page fit";case e$1.SpecialZoomLevel.PageWidth:return et&&et.zoom?et.zoom.pageWidth:"Page width"}}(st))}),n$1.createElement(e$1.MenuDivider,null),$.map(function(ot){return n$1.createElement(e$1.MenuItem,{key:ot,onClick:function(){rt(),tt(ot)}},"".concat(Math.round(100*ot),"%"))}))},offset:E,closeOnClickOutside:!0,closeOnEscape:!0})},g=function(_){var j=_.children,$=_.levels,_e=_.store;return(j||function(tt){return n$1.createElement(d$1,{levels:$,scale:tt.scale,onZoom:tt.onZoom})})({scale:a$1(_e).scale,onZoom:function(tt){var et=_e.get("zoom");et&&et(tt)}})},C={left:0,top:8},h=function(_){var j=_.enableShortcuts,$=_.onClick,_e=n$1.useContext(e$1.LocalizationContext).l10n,tt=_e&&_e.zoom?_e.zoom.zoomIn:"Zoom in",et=j?e$1.isMac()?"Meta+=":"Ctrl+=":"";return n$1.createElement(e$1.Tooltip,{ariaControlsSuffix:"zoom-in",position:e$1.Position.BottomCenter,target:n$1.createElement(e$1.MinimalButton,{ariaKeyShortcuts:et,ariaLabel:tt,testId:"zoom__in-button",onClick:$},n$1.createElement(o$1,null)),content:function(){return tt},offset:C})},b=function(_){var j=_.children,$=_.enableShortcuts,_e=_.store,tt=a$1(_e).scale;return(j||h)({enableShortcuts:$,onClick:function(){var et=_e.get("zoom");et&&et(f$1(tt))}})},k=function(_){var j=_.onClick,$=n$1.useContext(e$1.LocalizationContext).l10n,_e=$&&$.zoom?$.zoom.zoomIn:"Zoom in";return n$1.createElement(e$1.MenuItem,{icon:n$1.createElement(o$1,null),testId:"zoom__in-menu",onClick:j},_e)},S={left:0,top:8},M=function(_){var j=_.enableShortcuts,$=_.onClick,_e=n$1.useContext(e$1.LocalizationContext).l10n,tt=_e&&_e.zoom?_e.zoom.zoomOut:"Zoom out",et=j?e$1.isMac()?"Meta+-":"Ctrl+-":"";return n$1.createElement(e$1.Tooltip,{ariaControlsSuffix:"zoom-out",position:e$1.Position.BottomCenter,target:n$1.createElement(e$1.MinimalButton,{ariaKeyShortcuts:et,ariaLabel:tt,testId:"zoom__out-button",onClick:$},n$1.createElement(r$1,null)),content:function(){return tt},offset:S})},I=function(_){var j=_.children,$=_.enableShortcuts,_e=_.store,tt=a$1(_e).scale;return(j||M)({enableShortcuts:$,onClick:function(){var et=_e.get("zoom");et&&et(v(tt))}})},Z=function(_){var j=_.onClick,$=n$1.useContext(e$1.LocalizationContext).l10n,_e=$&&$.zoom?$.zoom.zoomOut:"Zoom out";return n$1.createElement(e$1.MenuItem,{icon:n$1.createElement(r$1,null),testId:"zoom__out-menu",onClick:j},_e)};zoom_min.ZoomInIcon=o$1,zoom_min.ZoomOutIcon=r$1,zoom_min.zoomPlugin=function(_){var j=n$1.useMemo(function(){return Object.assign({},{enableShortcuts:!0},_)},[]),$=n$1.useMemo(function(){return e$1.createStore({})},[]),_e=function(nt){return n$1.createElement(b,c$1({enableShortcuts:j.enableShortcuts},nt,{store:$}))},tt=function(nt){return n$1.createElement(I,c$1({enableShortcuts:j.enableShortcuts},nt,{store:$}))},et=function(nt){return n$1.createElement(g,c$1({},nt,{store:$}))};return{renderViewer:function(nt){var ct=nt.slot;if(!j.enableShortcuts)return ct;var rt={children:n$1.createElement(n$1.Fragment,null,n$1.createElement(p,{containerRef:nt.containerRef,store:$}),n$1.createElement(s,{pagesContainerRef:nt.pagesContainerRef,store:$}),ct.children)};return c$1(c$1({},ct),rt)},install:function(nt){$.update("zoom",nt.zoom)},onViewerStateChange:function(nt){return $.update("scale",nt.scale),nt},zoomTo:function(nt){var ct=$.get("zoom");ct&&ct(nt)},CurrentScale:function(nt){return n$1.createElement(u$1,c$1({},nt,{store:$}))},ZoomIn:_e,ZoomInButton:function(){return n$1.createElement(_e,null,function(nt){return n$1.createElement(h,c$1({},nt))})},ZoomInMenuItem:function(nt){return n$1.createElement(_e,null,function(ct){return n$1.createElement(k,{onClick:function(){ct.onClick(),nt.onClick()}})})},ZoomOut:tt,ZoomOutButton:function(){return n$1.createElement(tt,null,function(nt){return n$1.createElement(M,c$1({},nt))})},ZoomOutMenuItem:function(nt){return n$1.createElement(tt,null,function(ct){return n$1.createElement(Z,{onClick:function(){ct.onClick(),nt.onClick()}})})},Zoom:et,ZoomPopover:function(nt){return n$1.createElement(et,null,function(ct){return n$1.createElement(d$1,c$1({levels:nt==null?void 0:nt.levels},ct))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$1.exports=zoom_min;var libExports$1=lib$1.exports,lib={exports:{}},getFile_min={},e=libExports$2;function t(_){var j=Object.create(null);return _&&Object.keys(_).forEach(function($){if($!=="default"){var _e=Object.getOwnPropertyDescriptor(_,$);Object.defineProperty(j,$,_e.get?_e:{enumerable:!0,get:function(){return _[$]}})}}),j.default=_,Object.freeze(j)}var n=t(reactExports),o=function(){return n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),n.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},r=function(){return r=Object.assign||function(_){for(var j,$=1,_e=arguments.length;$<_e;$++)for(var tt in j=arguments[$])Object.prototype.hasOwnProperty.call(j,tt)&&(_[tt]=j[tt]);return _},r.apply(this,arguments)},i={left:0,top:8},a=function(_){var j=_.onClick,$=n.useContext(e.LocalizationContext).l10n,_e=$&&$.download?$.download.download:"Download";return n.createElement(e.Tooltip,{ariaControlsSuffix:"get-file",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaLabel:_e,testId:"get-file__download-button",onClick:j},n.createElement(o,null)),content:function(){return _e},offset:i})},c=function(_,j){var $=document.createElement("a");$.style.display="none",$.href=_,$.setAttribute("download",j),document.body.appendChild($),$.click(),document.body.removeChild($)},l=function(_,j,$){var _e=URL.createObjectURL(new Blob([_],{type:$}));c(_e,j),_e&&URL.revokeObjectURL(_e)},u=function(_,j){_.getData().then(function($){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?l($,j,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?c("data:application/pdf;base64,".concat(function(_e){return btoa(Array(_e.length).fill("").map(function(tt,et){return String.fromCharCode(_e[et])}).join(""))}($)),j):l($,j,"application/pdf")})},f=function(_){var j=_.children,$=_.fileNameGenerator,_e=_.store,tt=n.useState(_e.get("file")),et=tt[0],nt=tt[1],ct=n.useState(_e.get("doc")),rt=ct[0],ot=ct[1],st=function(yt){ot(yt)},_t=function(yt){nt(yt)};return n.useEffect(function(){return _e.subscribe("doc",st),_e.subscribe("file",_t),function(){_e.subscribe("doc",st),_e.unsubscribe("file",_t)}},[]),(j||function(yt){return n.createElement(a,{onClick:yt.onClick})})({onClick:function(){rt&&et&&u(rt,$(et))}})},d=function(_){var j=_.onClick,$=n.useContext(e.LocalizationContext).l10n,_e=$&&$.download?$.download.download:"Download";return n.createElement(e.MenuItem,{icon:n.createElement(o,null),testId:"get-file__download-menu",onClick:j},_e)};getFile_min.DownloadIcon=o,getFile_min.getFilePlugin=function(_){var j=n.useMemo(function(){return e.createStore({})},[]),$=function(tt){return tt.name?(et=tt.name,(nt=et.split("/").pop())?nt.split("#")[0].split("?")[0]:et):"document.pdf";var et,nt},_e=function(tt){return n.createElement(f,r({},tt,{fileNameGenerator:_&&_.fileNameGenerator||$,store:j}))};return{onDocumentLoad:function(tt){j.update("doc",tt.doc),j.update("file",tt.file)},Download:_e,DownloadButton:function(){return n.createElement(_e,null,function(tt){return n.createElement(a,r({},tt))})},DownloadMenuItem:function(tt){return n.createElement(_e,null,function(et){return n.createElement(d,{onClick:function(){et.onClick(),tt.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib.exports=getFile_min;var libExports=lib.exports;function Dashboard({onLogout:_}){const[j,$]=reactExports.useState([]),[_e,tt]=reactExports.useState(null),[et,nt]=reactExports.useState(null),ct=libExports$1.zoomPlugin(),{ZoomInButton:rt,ZoomOutButton:ot}=ct,st=libExports.getFilePlugin(),{DownloadButton:_t}=st,yt=()=>{$([]),tt(null),_()},gt=async pt=>{try{if(!(await fetch(`/api/documents/${pt}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}})).ok)throw new Error("Failed to delete");$(At=>At.filter(at=>at.id!==pt))}catch(kt){console.error("Delete error:",kt),alert("Could not delete document.")}};return reactExports.useEffect(()=>{(async()=>{try{const kt=await fetch("/api/documents",{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(!kt.ok)throw new Error("Failed to load documents");const At=await kt.json();console.log("Data from /api/documents/user:",At);const at=At.map(lt=>({id:lt.id,originalFilename:lt.originalFilename||"Untitled",translatedFilename:getTranslatedName(lt.originalFilename||"Untitled"),originalFileType:lt.fileType,translatedFileType:lt.fileType||lt.fileType}));$(at),console.log("Fetched history:",at)}catch(kt){console.error("Error loading history:",kt)}})()},[]),jsxRuntimeExports.jsxs("div",{className:"DashBoard",children:[jsxRuntimeExports.jsx(Header,{onLogout:yt}),jsxRuntimeExports.jsxs("div",{className:"MainContent",children:[jsxRuntimeExports.jsx(Sidebar,{history:j,onDelete:gt,onSelectPdf:nt}),jsxRuntimeExports.jsx(MainPanel,{setHistory:$})]}),et&&jsxRuntimeExports.jsx("div",{className:"pdf-modal-overlay",onClick:()=>nt(null),children:jsxRuntimeExports.jsxs("div",{className:"pdf-modal-viewer",onClick:pt=>pt.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"pdf-toolbar",children:[jsxRuntimeExports.jsx(ot,{}),jsxRuntimeExports.jsx(rt,{}),jsxRuntimeExports.jsx(_t,{}),jsxRuntimeExports.jsx("button",{className:"button-modal-overlay",onClick:()=>nt(null),children:" Close"})]}),jsxRuntimeExports.jsx(libExports$2.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js",children:jsxRuntimeExports.jsx(libExports$2.Viewer,{fileUrl:et.url,plugins:[ct,st]})})]})})]})}function App(){const[_,j]=reactExports.useState(!!localStorage.getItem("accessToken")),$=()=>{j(!0)},_e=()=>{localStorage.removeItem("accessToken"),j(!1)};return jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:_?jsxRuntimeExports.jsx(Navigate,{to:"/dashboard"}):jsxRuntimeExports.jsx(AuthPage,{onLoginSuccess:$})}),jsxRuntimeExports.jsx(Route,{path:"/dashboard",element:_?jsxRuntimeExports.jsx(Dashboard,{onLogout:_e}):jsxRuntimeExports.jsx(Navigate,{to:"/"})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(Navigate,{to:"/"})})]})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(App,{}));
